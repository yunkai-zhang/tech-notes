# 服务器购买及宝塔部署环境说明

## 前言

为什么程序员需要一个自己的服务器？

- 作为程序员，必须发布自己的网站和项目。

- 联系linux操作
- 自己的远程仓库，远程数据库，远程tomcat。。。都可以搭建在服务器上。
- 练习，在linux上进行任意的环境部署操作！windows下开发，不熟悉linux是不行的。
- 。。。



服务器如何购买？：

- 尽量趁打折的时候买，便宜

- 学生或者24岁以下的人，可以买学生机，便宜
- 香港服务器可以不备案，但是不要自己挂vpn，会被封。
  - 搭建网站的话要备案，否则不需要。



什么套餐好？：

- 1核2G够练习（有些还有赠品）。比如

  ![image-20211031140945959](服务器购买及宝塔部署环境说明.assets/image-20211031140945959.png)

- 成长计划[网址](https://developer.aliyun.com/plan/grow-up)
  - 不过貌似需要上一堆课。





## 如何领取学生免费服务器？

登录[阿里云成长计划](https://developer.aliyun.com/plan/grow-up)

![image-20211031150757240](服务器购买及宝塔部署环境说明.assets/image-20211031150757240.png)

点击”新手预备营“，完成新手预备营的教学，回到此页面，即可领取。

![image-20211031150856913](服务器购买及宝塔部署环境说明.assets/image-20211031150856913.png)

服务器操作系统选centos7.7。因为7.7后的变化蛮大。

![image-20211031152557372](服务器购买及宝塔部署环境说明.assets/image-20211031152557372.png)

领取完毕后可以用两周，两周后提交使用心得可以延长使用。





## 买完服务器后要做什么？

1.  在阿里云购买的，需要开通安全组设置；端口映射

   - 比如3306mysql/8080tomcat

   ![image-20211031151149339](服务器购买及宝塔部署环境说明.assets/image-20211031151149339.png)

   - 创建的时候会有提示。
   - 暴力一点的话，可以1024/65535的所有端口都开通，但是这样不安全。

2. 获取服务器的公网ip地址；修改实例名称和密码（新手预备营学了），第一次修改需要重启。

   - 重启后得到服务器公网ip（找到自己的服务器随时可看到），root，服务器密码（自己定义的，保存好）
   - 如果步骤一中开启了22端口，这里使用xshell远程连接即可

3. 登录教程

   1）如果是阿里云

   启动putty，输入自己阿里云服务器的ip，其他设置用默认的

   ![image-20211031153416932](服务器购买及宝塔部署环境说明.assets/image-20211031153416932.png)

   

   ![image-20211031153645796](服务器购买及宝塔部署环境说明.assets/image-20211031153645796.png)

   登录成功了。

   2）如果是腾讯云

   使用xshell连接

   ![image-20211205145152611](服务器购买及宝塔部署环境说明.assets/image-20211205145152611.png)

   接受并保存

   ![image-20211205144840647](服务器购买及宝塔部署环境说明.assets/image-20211205144840647.png)

   输入重置密码后的服务器密码

   ![image-20211205145014462](服务器购买及宝塔部署环境说明.assets/image-20211205145014462.png)

   登录成功

   ![image-20211205145304140](服务器购买及宝塔部署环境说明.assets/image-20211205145304140.png)

4. 连接并登录成功后就是linux的标准使用



## 连接到服务器后

### 傻瓜式（安装宝塔面板）

[阿里云放行端口](https://www.bt.cn/bbs/thread-19376-1-1.html)

[宝塔面板安装教学](https://www.bt.cn/bbs/thread-19376-1-1.html)



自己操作如下：

阿里云的安全组放开端口号，腾讯云也要开。

![image-20211031160006548](服务器购买及宝塔部署环境说明.assets/image-20211031160006548.png)

在服务器页面输入

```
yum install -y wget && wget -O install.sh http://download.bt.cn/install/install_6.0.sh && sh install.sh
```

![image-20211031160113014](服务器购买及宝塔部署环境说明.assets/image-20211031160113014.png)

下载完毕后，显示自己服务器对应的宝塔面板的网址和用户名密码，妥善保存。

![image-20211031160158045](服务器购买及宝塔部署环境说明.assets/image-20211031160158045.png)

浏览器登录外网网址，登录到监控页面。

![image-20211031161833999](服务器购买及宝塔部署环境说明.assets/image-20211031161833999.png)

可以主页点击“软件商店”一键安装各种软件。

![image-20211031162201118](服务器购买及宝塔部署环境说明.assets/image-20211031162201118.png)

- 安装mysql后，远程数据库的密码可以在首页的“数据库”中查看。用户名当然就是root了。

  ![image-20211031165207326](服务器购买及宝塔部署环境说明.assets/image-20211031165207326.png)

- 点击“软件商店”的“一键部署”，可以安装一些基本成型网站如博客等

  ![image-20211031162539584](服务器购买及宝塔部署环境说明.assets/image-20211031162539584.png)

- 安装好tomcat后，确保阿里云的“安全组”开启了8080端口，并且宝塔网址的“安全”开启了8080端口，尝试访问远程服务器上的tomat，访问成功。

  ![image-20211031170336254](服务器购买及宝塔部署环境说明.assets/image-20211031170336254.png)

  - 点击主页左侧的“文件”，把web放入webapps文件夹就能运行

    ![image-20211031170725799](服务器购买及宝塔部署环境说明.assets/image-20211031170725799.png)

    - 如果是springboot项目的话，把项目打包成jar包，上传到远程服务器，在远程服务器`java -jar jar包名`运行。
    - 如果是war包，直接放入tomcat的webapps文件夹即可。

  - 网站如果访问测试失败99%是防火墙的问题。

    1. linux服务器的防火墙（从宝塔给的网址看）

    2. 阿里云安全组面板

    

主页点击“安全”可以看到自己的服务器上的宝塔面板开放了哪些端口，可以在这里开启端口。

![image-20211031162939697](服务器购买及宝塔部署环境说明.assets/image-20211031162939697.png)

主页可以点击“网站”把自己编写的网站部署进去。

- 网站放到webapps目录下面，但是tomcat服务器是8080端口，要用apache做端口映射把网站端口号转到80.

- 特殊的网站，比如一些开源项目，就按照自己的操作来。



上传文件到远程服务器尽量使用XFTP

### 命令式（原生）

以后再说，从0开始学。

