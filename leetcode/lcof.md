## åŸºç¡€çŸ¥è¯†

#### ç±»å‹è½¬æ¢

1ï¼ŒåŒ…è£…ç±» åŸºæœ¬æ•°æ®ç±»å‹ String çš„è½¬æ¢ï¼š

- [1](https://blog.csdn.net/HY845638534/article/details/84669490)

## æ ˆé˜Ÿåˆ—

### [å‰‘æŒ‡ Offer 09. ç”¨ä¸¤ä¸ªæ ˆå®ç°é˜Ÿåˆ—](https://leetcode-cn.com/problems/yong-liang-ge-zhan-shi-xian-dui-lie-lcof/)

æ–¹æ³•ä¸€ï¼šåŒæ ˆ

#### å®˜æ–¹-æ€è·¯å’Œç®—æ³•

ç»´æŠ¤ä¸¤ä¸ªæ ˆï¼Œç¬¬ä¸€ä¸ªæ ˆæ”¯æŒæ’å…¥æ“ä½œï¼Œç¬¬äºŒä¸ªæ ˆæ”¯æŒåˆ é™¤æ“ä½œã€‚

æ ¹æ®æ ˆå…ˆè¿›åå‡ºçš„ç‰¹æ€§ï¼Œæˆ‘ä»¬æ¯æ¬¡å¾€ç¬¬ä¸€ä¸ªæ ˆé‡Œæ’å…¥å…ƒç´ åï¼Œç¬¬ä¸€ä¸ªæ ˆçš„åº•éƒ¨å…ƒç´ æ˜¯æœ€åæ’å…¥çš„å…ƒç´ ï¼Œç¬¬ä¸€ä¸ªæ ˆçš„é¡¶éƒ¨å…ƒç´ æ˜¯ä¸‹ä¸€ä¸ªå¾…åˆ é™¤çš„å…ƒç´ ã€‚ä¸ºäº†ç»´æŠ¤é˜Ÿåˆ—å…ˆè¿›å…ˆå‡ºçš„ç‰¹æ€§ï¼Œæˆ‘ä»¬å¼•å…¥ç¬¬äºŒä¸ªæ ˆï¼Œç”¨ç¬¬äºŒä¸ªæ ˆç»´æŠ¤å¾…åˆ é™¤çš„å…ƒç´ ï¼Œåœ¨æ‰§è¡Œåˆ é™¤æ“ä½œçš„æ—¶å€™æˆ‘ä»¬é¦–å…ˆçœ‹ä¸‹ç¬¬äºŒä¸ªæ ˆæ˜¯å¦ä¸ºç©ºã€‚å¦‚æœä¸ºç©ºï¼Œæˆ‘ä»¬å°†ç¬¬ä¸€ä¸ªæ ˆé‡Œçš„å…ƒç´ ä¸€ä¸ªä¸ªå¼¹å‡ºæ’å…¥åˆ°ç¬¬äºŒä¸ªæ ˆé‡Œï¼Œè¿™æ ·ç¬¬äºŒä¸ªæ ˆé‡Œå…ƒç´ çš„é¡ºåºå°±æ˜¯å¾…åˆ é™¤çš„å…ƒç´ çš„é¡ºåºï¼Œè¦æ‰§è¡Œåˆ é™¤æ“ä½œçš„æ—¶å€™æˆ‘ä»¬ç›´æ¥å¼¹å‡ºç¬¬äºŒä¸ªæ ˆçš„å…ƒç´ è¿”å›å³å¯ã€‚

- æˆå‘˜å˜é‡
  - ç»´æŠ¤ä¸¤ä¸ªæ ˆ stack1 å’Œ stack2ï¼Œå…¶ä¸­ stack1 æ”¯æŒæ’å…¥æ“ä½œï¼Œstack2 æ”¯æŒåˆ é™¤æ“ä½œ

- æ„é€ æ–¹æ³•
  - åˆå§‹åŒ– stack1 å’Œ stack2 ä¸ºç©º

- æ’å…¥å…ƒç´ 

  æ’å…¥å…ƒç´ å¯¹åº”æ–¹æ³• appendTail

  - stack1 ç›´æ¥æ’å…¥å…ƒç´ 

- åˆ é™¤å…ƒç´ 

  åˆ é™¤å…ƒç´ å¯¹åº”æ–¹æ³• deleteHead

  - å¦‚æœ stack2 ä¸ºç©ºï¼Œåˆ™å°† stack1 é‡Œçš„æ‰€æœ‰å…ƒç´ å¼¹å‡ºæ’å…¥åˆ° stack2 é‡Œ

  - å¦‚æœ stack2 ä»ä¸ºç©ºï¼Œåˆ™è¿”å› -1ï¼Œå¦åˆ™ä» stack2 å¼¹å‡ºä¸€ä¸ªå…ƒç´ å¹¶è¿”å›

#### ä»£ç 

```java
class CQueue {
    //ä¸¤ä¸ªæ ˆï¼Œä¸€ä¸ªå‡ºæ ˆï¼Œä¸€ä¸ªå…¥æ ˆ
    private Stack<Integer> stack1;
    private Stack<Integer> stack2;
    
    public CQueue() {
        stack1 = new Stack<>();
        stack2 = new Stack<>();
    }
    
    public void appendTail(int value) {
        stack1.push(value);
    }
    
    public int deleteHead() {
        if(!stack2.isEmpty()){
            return stack2.pop();
        }else{
            while(!stack1.isEmpty()){
                stack2.push(stack1.pop());
            }
            return stack2.isEmpty() ? -1 : stack2.pop();
        }
    }
}
```

- ç½‘å‹é—®ï¼šâ€œè¿™ä¸ªæ–¹å¼ä¸ºä½•åªæ‰“è´¥50%çš„æäº¤ï¼Ÿâ€ã€‚ç½‘å‹ç­”ï¼šâ€œå› ä¸ºStackçš„å®ç°æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œæ€§èƒ½æ¯”LinkedListä½â€ã€‚

#### å¤æ‚åº¦åˆ†æ

- æ—¶é—´å¤æ‚åº¦ï¼šå¯¹äºæ’å…¥å’Œåˆ é™¤æ“ä½œï¼Œæ—¶é—´å¤æ‚åº¦å‡ä¸º O(1)O(1)ã€‚æ’å…¥ä¸å¤šè¯´ï¼Œå¯¹äºåˆ é™¤æ“ä½œï¼Œè™½ç„¶çœ‹èµ·æ¥æ˜¯ O(n)O(n) çš„æ—¶é—´å¤æ‚åº¦ï¼Œä½†æ˜¯ä»”ç»†è€ƒè™‘ä¸‹æ¯ä¸ªå…ƒç´ åªä¼šã€Œè‡³å¤šè¢«æ’å…¥å’Œå¼¹å‡º stack2 ä¸€æ¬¡ã€ï¼Œå› æ­¤å‡æ‘Šä¸‹æ¥æ¯ä¸ªå…ƒç´ è¢«åˆ é™¤çš„æ—¶é—´å¤æ‚åº¦ä»ä¸º O(1)O(1)ã€‚

- ç©ºé—´å¤æ‚åº¦ï¼šO(n)O(n)ã€‚éœ€è¦ä½¿ç”¨ä¸¤ä¸ªæ ˆå­˜å‚¨å·²æœ‰çš„å…ƒç´ ã€‚

#### æ€è€ƒ

- 20220302ï¼š
  - ä¸è®°å¾—javaä¸­stackæ€ä¹ˆå®ç°
  - çŸ¥é“ç”¨ä¸¤ä¸ªæ ˆå®ç°é˜Ÿåˆ—ã€‚ä½†æ˜¯é’ˆå¯¹åˆ é™¤ï¼Œæƒ³çš„æ˜¯â€œæ’å…¥é˜Ÿåˆ—ç§»åŠ¨åˆ°åˆ é™¤é˜Ÿåˆ—ï¼Œåˆ é™¤å…ƒç´ åï¼Œè¦æŠŠåˆ é™¤é˜Ÿåˆ—çš„æ‰€æœ‰å…ƒç´ ç§»åŠ¨å›æ’å…¥é˜Ÿåˆ—â€ï¼Œä½†æ˜¯å®é™…ä¸Šä¸éœ€è¦æŠŠåˆ é™¤é˜Ÿåˆ—çš„å…ƒç´ ç§»åŠ¨å›å»ï¼›
    - æ­£ç¡®æ€è·¯å°±æ˜¯å¦‚é¢˜è§£ï¼šåˆ é™¤é˜Ÿåˆ—è´Ÿè´£åˆ é™¤ï¼Œæ’å…¥é˜Ÿåˆ—è´Ÿè´£æ’å…¥ï¼Œåˆ é™¤é˜Ÿåˆ—ç©ºäº†æ‰èƒ½æŠŠå…ƒç´ ä»æ’å…¥é˜Ÿåˆ—ç§»å…¥åˆ é™¤é˜Ÿåˆ—ï¼Œå¦‚æœåˆ é™¤é˜Ÿåˆ—å’Œæ’å…¥é˜Ÿåˆ—åŒæ—¶ä¸ºç©ºåˆ™è¿”å›-1.

#### å†æˆ˜

1,20220323ï¼Œè°ƒè¯•å¤šæ¬¡åæˆåŠŸï¼š

```java
class CQueue {

    Stack stackIn=null;
    Stack stackOut=null;


    public CQueue() {
        stackIn=new Stack<>();
        stackOut=new Stack<>();
    }
    
        public void appendTail(int value) {
        //å¦‚æœæ˜¯ä¼ å…¥integerç±»å‹ï¼Œè€Œéintçš„è¯ï¼Œè²Œä¼¼ä¼šç»™integerå†åŒ…è£¹ä¸€å±‚ï¼Œå¯¼è‡´å¼‚å¸¸
        stackIn.push(value);
    }

    public int deleteHead() {
        //å¦‚æœå‡ºæ ˆä¸ä¸ºç©ºï¼Œç›´æ¥popä¸€ä¸ªå°±è¡Œã€‚ï¼ï¼ï¼åŒ…è£…ç±»å’ŒåŸºæœ¬æ•°æ®ç±»å‹çš„ç›¸äº’è½¬æ¢
        if(!stackOut.empty()){
            return (int) stackOut.pop();
        }
        //å¦‚æœå‡ºæ ˆä¸ºç©ºï¼Œæ­¤æ—¶è¦åˆ é™¤èŠ‚ç‚¹,å…ˆå°±å¾—æŠŠå…¥æ ˆçš„æ‰€æœ‰èŠ‚ç‚¹ç§»åŠ¨è¿‡æ¥
        else{
            if(stackIn.empty()){
                //å…¥æ ˆä¹Ÿä¸ºç©ºï¼Œè¯´æ˜æ•´ä¸ªé€»è¾‘é˜Ÿåˆ—ä¸ºç©ºï¼Œç›´æ¥è¿”å›-1
                return -1;
            }else{
                //å…¥æ ˆä¸ä¸ºç©ºï¼ŒæŠŠæ‰€æœ‰å…¥æ ˆå…ƒç´ è½¬ç§»åˆ°å‡ºæ ˆï¼›å¹¶å¼¹å‡ºå‡ºæ ˆçš„é¡¶éƒ¨ã€‚
                while(!stackIn.empty()){
                    stackOut.push(stackIn.pop());
                }
                return (int)stackOut.pop();
            }

        }

    }
}

/**
 * Your CQueue object will be instantiated and called as such:
 * CQueue obj = new CQueue();
 * obj.appendTail(value);
 * int param_2 = obj.deleteHead();
 */
```

2,20220323ï¼Œæ”¹è¿›ä»£ç ï¼š

```java
class CQueue {

    Stack <Integer> stackIn=null;
    Stack <Integer> stackOut=null;


    public CQueue() {
        stackIn=new Stack<>();
        stackOut=new Stack<>();
    }
    
        public void appendTail(int value) {
        //ç›´æ¥æŠŠintè½¬åŒ–ä¸ºIntegerå­˜å…¥
        stackIn.push(Integer.valueOf(value));
    }

    public int deleteHead() {
        //å¦‚æœå‡ºæ ˆä¸ä¸ºç©ºï¼Œç›´æ¥popä¸€ä¸ªå°±è¡Œã€‚ï¼ï¼ï¼åŒ…è£…ç±»å’ŒåŸºæœ¬æ•°æ®ç±»å‹çš„ç›¸äº’è½¬æ¢
        if(!stackOut.empty()){
            return stackOut.pop().intValue();
        }
        //å¦‚æœå‡ºæ ˆä¸ºç©ºï¼Œæ­¤æ—¶è¦åˆ é™¤èŠ‚ç‚¹,å…ˆå°±å¾—æŠŠå…¥æ ˆçš„æ‰€æœ‰èŠ‚ç‚¹ç§»åŠ¨è¿‡æ¥
        else{
            if(stackIn.empty()){
                //å…¥æ ˆä¹Ÿä¸ºç©ºï¼Œè¯´æ˜æ•´ä¸ªé€»è¾‘é˜Ÿåˆ—ä¸ºç©ºï¼Œç›´æ¥è¿”å›-1
                return -1;
            }else{
                //å…¥æ ˆä¸ä¸ºç©ºï¼ŒæŠŠæ‰€æœ‰å…¥æ ˆå…ƒç´ è½¬ç§»åˆ°å‡ºæ ˆï¼›å¹¶å¼¹å‡ºå‡ºæ ˆçš„é¡¶éƒ¨ã€‚
                while(!stackIn.empty()){
                    stackOut.push(stackIn.pop());
                }
                //ç”±äºå­˜çš„Integerå¯¹è±¡ï¼Œè¿”å›çš„æ—¶å€™è¦è½¬åŒ–ä¸ºintç±»å‹ã€‚
                return stackOut.pop().intValue();
            }

        }

    }
}

/**
 * Your CQueue object will be instantiated and called as such:
 * CQueue obj = new CQueue();
 * obj.appendTail(value);
 * int param_2 = obj.deleteHead();
 */
```

- æœ¬ä»£ç å› ä¸ºä¸»åŠ¨åŒ…è£…intä¸ºIntegerï¼Œæ€§èƒ½æ›´å·®äº†ï¼Œä½†æ˜¯æ›´ç¬¦åˆæŠŠå¯¹è±¡å­˜å…¥æ ˆçš„æ€æƒ³ã€‚
- `Stack <Integer> stackIn=new Stack<>();`ï¼Œæ³¨æ„æ˜¯åœ¨å‰é¢é™å®šæ³›å‹çš„ç±»å‹ï¼Œåé¢çš„å°–æ‹¬å·å¯ç•™ç©ºç”±ç¼–è¯‘å™¨è‡ªå·±æ¨æµ‹ï¼›ä¸æ­£ç¡®æŒ‡å®šæ³›å‹ç±»å‹çš„è¯ï¼Œä¼šå‡ºç°ä¸€äº›å¥‡æ€ªçš„åŒ…è£…é”™è¯¯ï¼Œæ¯”å¦‚è¯´æœŸå¾…åŒ…è£…æˆintegerå´åŒ…è£…ä¸ºobjectã€‚



### [å‰‘æŒ‡ Offer 30. åŒ…å«minå‡½æ•°çš„æ ˆ](https://leetcode-cn.com/problems/bao-han-minhan-shu-de-zhan-lcof/)

#### é¦–æˆ˜å‘Šæ·

```java
class MinStack {

    /** initialize your data structure here. */
    Stack<Integer> myStack=null;
    Stack<Integer> historicalMin=null;
    int min;
    public MinStack() {
        myStack=new Stack<>();
        historicalMin=new Stack<>();
        //ä¸è¦å¿˜è®°ç”¨å¼•å·ç»“å°¾
        min=Integer.MAX_VALUE;
    }
    
    public void push(int x) {
        myStack.push(x);
        
        if(x<=min){
            min=x;
            historicalMin.push(min);
        }
    }
    
    public void pop() {
        int temp=myStack.pop();

        //ä¸è¦è¯¯ç”¨=åˆ¤æ–­ç›¸ç­‰
        if(temp==min){
            historicalMin.pop();
            //å¦‚æœä¸¤ä¸ªæ ˆéƒ½ä¸ºç©ºäº†ï¼Œæ­¤æ—¶å†ç›´æ¥peekä¼šæŠ›å‡ºå¼‚å¸¸ï¼›è¦åˆ¤æ–­hostoricalMinæ˜¯å¦ä¸ºç©º
            if(!historicalMin.empty()){
                min=historicalMin.peek();
            }else{
                min=Integer.MAX_VALUE;
            }
            
        }

    }
    
    public int top() {
        return myStack.peek();
    }
    
    public int min() {
        return min;

    }
}

/**
 * Your MinStack object will be instantiated and called as such:
 * MinStack obj = new MinStack();
 * obj.push(x);
 * obj.pop();
 * int param_3 = obj.top();
 * int param_4 = obj.min();
 */
```

- æ‰§è¡Œåï¼Œæ®æç¤ºå¤„ç†äº†å‡ ä¸ªè¯­æ³•é”™è¯¯ï¼›æäº¤ä¸€æ¬¡åï¼Œå¤„ç†äº†ä¸€ä¸ªé€»è¾‘æ¼æ´ï¼›ç¬¬äºŒæ¬¡æäº¤å®Œæˆã€‚
- å¾…æ”¹è¿›ï¼š
  - è¯»äº†é¢˜è§£åï¼Œæˆ‘å‘ç°ä¸è¯¥åœ¨hostoricalMinä¸ºç©ºæ—¶ï¼ŒæŠŠintgermaxå½“åšminï¼›è€Œåº”è¯¥åœ¨pushæ—¶ï¼Œå‘ç°historicalMinä¸ºç©ºå°±ç›´æ¥å‹å…¥å½“å‰è¢«pushçš„å…ƒç´ ï¼Œè¿™æ ·å°±ä¸å­˜åœ¨æå‰ä¸€æ­¥è®¾ç½®minçš„é—®é¢˜ã€‚
  - åŸºæœ¬æ•°æ®ç±»å‹minå¯ä»¥ä¸è®¾ç½®ï¼Œç›´æ¥ç”¨stack.peek()å°±è¡Œã€‚

---

#### å®˜æ–¹-è§£é¢˜æ€è·¯
æ™®é€šæ ˆçš„ push() å’Œ pop() å‡½æ•°çš„å¤æ‚åº¦ä¸º O(1)O(1) ï¼›è€Œè·å–æ ˆæœ€å°å€¼ min() å‡½æ•°éœ€è¦éå†æ•´ä¸ªæ ˆï¼Œå¤æ‚åº¦ä¸º O(N)O(N) ã€‚

æœ¬é¢˜éš¾ç‚¹ï¼š å°† min() å‡½æ•°å¤æ‚åº¦é™ä¸º O(1)O(1) ï¼Œå¯é€šè¿‡å»ºç«‹è¾…åŠ©æ ˆå®ç°ï¼›

- æ•°æ®æ ˆ AA ï¼š æ ˆ AA ç”¨äºå­˜å‚¨æ‰€æœ‰å…ƒç´ ï¼Œä¿è¯å…¥æ ˆ push() å‡½æ•°ã€å‡ºæ ˆ pop() å‡½æ•°ã€è·å–æ ˆé¡¶ top() å‡½æ•°çš„æ­£å¸¸é€»è¾‘ã€‚
- è¾…åŠ©æ ˆ BB ï¼š æ ˆ BB ä¸­å­˜å‚¨æ ˆ AA ä¸­æ‰€æœ‰ éä¸¥æ ¼é™åº çš„å…ƒç´ ï¼Œåˆ™æ ˆ AA ä¸­çš„æœ€å°å…ƒç´ å§‹ç»ˆå¯¹åº”æ ˆ BB çš„æ ˆé¡¶å…ƒç´ ï¼Œå³ min() å‡½æ•°åªéœ€è¿”å›æ ˆ BB çš„æ ˆé¡¶å…ƒç´ å³å¯ã€‚

å› æ­¤ï¼Œåªéœ€è®¾æ³•ç»´æŠ¤å¥½ æ ˆ BB çš„å…ƒç´ ï¼Œä½¿å…¶ä¿æŒéä¸¥æ ¼é™åºï¼Œå³å¯å®ç° min() å‡½æ•°çš„ O(1)O(1) å¤æ‚åº¦ã€‚

#### å‡½æ•°è®¾è®¡

- push(x) å‡½æ•°ï¼š é‡ç‚¹ä¸ºä¿æŒæ ˆ BB çš„å…ƒç´ æ˜¯ éä¸¥æ ¼é™åº çš„ã€‚

  - å°† xx å‹å…¥æ ˆ AA ï¼ˆå³ A.add(x) ï¼‰ï¼›

  - è‹¥ â‘  æ ˆ BB ä¸ºç©º æˆ– â‘¡ xx å°äºç­‰äº æ ˆ BB çš„æ ˆé¡¶å…ƒç´ ï¼Œåˆ™å°† xx å‹å…¥æ ˆ BB ï¼ˆå³ B.add(x) ï¼‰ã€‚

- pop() å‡½æ•°ï¼š é‡ç‚¹ä¸ºä¿æŒæ ˆ A, BA,B çš„ å…ƒç´ ä¸€è‡´æ€§ ã€‚

  - æ‰§è¡Œæ ˆ AA å‡ºæ ˆï¼ˆå³ A.pop() ï¼‰ï¼Œå°†å‡ºæ ˆå…ƒç´ è®°ä¸º yy ï¼›

  - è‹¥ yy ç­‰äºæ ˆ BB çš„æ ˆé¡¶å…ƒç´ ï¼Œåˆ™æ‰§è¡Œæ ˆ B å‡ºæ ˆï¼ˆå³ B.pop() ï¼‰ã€‚

- top() å‡½æ•°ï¼š ç›´æ¥è¿”å›æ ˆ AA çš„æ ˆé¡¶å…ƒç´ å³å¯ï¼Œå³è¿”å› A.peek() ã€‚

- min() å‡½æ•°ï¼š ç›´æ¥è¿”å›æ ˆ BB çš„æ ˆé¡¶å…ƒç´ å³å¯ï¼Œå³è¿”å› B.peek() ã€‚

#### å¤æ‚åº¦åˆ†æ

- æ—¶é—´å¤æ‚åº¦ O(1) ï¼š push(), pop(), top(), min() å››ä¸ªå‡½æ•°çš„æ—¶é—´å¤æ‚åº¦å‡ä¸ºå¸¸æ•°çº§åˆ«ã€‚
- ç©ºé—´å¤æ‚åº¦ O(N)ï¼š å½“å…±æœ‰ N ä¸ªå¾…å…¥æ ˆå…ƒç´ æ—¶ï¼Œè¾…åŠ©æ ˆ BB æœ€å·®æƒ…å†µä¸‹å­˜å‚¨ N ä¸ªå…ƒç´ ï¼Œä½¿ç”¨ O(N) é¢å¤–ç©ºé—´ã€‚

#### ä»£ç 
Java ä»£ç ä¸­ï¼Œç”±äº Stack ä¸­å­˜å‚¨çš„æ˜¯ int çš„åŒ…è£…ç±» Integer ï¼Œå› æ­¤éœ€è¦ä½¿ç”¨ equals() ä»£æ›¿ == æ¥æ¯”è¾ƒå€¼æ˜¯å¦ç›¸ç­‰ã€‚

```java
class MinStack {
    Stack<Integer> A, B;
    public MinStack() {
        A = new Stack<>();
        B = new Stack<>();
    }
    public void push(int x) {
        A.add(x);
        if(B.empty() || B.peek() >= x)
            B.add(x);
    }
    public void pop() {
        if(A.pop().equals(B.peek()))
            B.pop();
    }
    public int top() {
        return A.peek();
    }
    public int min() {
        return B.peek();
    }
}

```



## é“¾è¡¨

### [å‰‘æŒ‡ Offer 06. ä»å°¾åˆ°å¤´æ‰“å°é“¾è¡¨](https://leetcode-cn.com/problems/cong-wei-dao-tou-da-yin-lian-biao-lcof/)

#### é¦–æˆ˜å‘Šæ·

```java
/**
 * Definition for singly-linked list.
 * public class ListNode {
 *     int val;
 *     ListNode next;
 *     ListNode(int x) { val = x; }
 * }
 */
class Solution {
    //è®°å½•æœ€å¤§é€’å½’æ·±åº¦ï¼Œä»¥ä¾¿å„å±‚å®ç°é€†åºå­˜å…¥æ•°ç»„
    int deepMax;
    int[] array;//arrayåœ¨é€’å½’æœ€åº•å±‚è¢«å»ºç«‹
    public int[] reversePrint(ListNode head) {
        /*
        æ³¨æ„æ•°ç»„åœ¨javaä¸­æ˜¯å¼•ç”¨ä¼ é€’çš„ï¼šhttps://blog.csdn.net/qq_43555323/article/details/84783750;æ‰€ä»¥æ‰€æœ‰é€’å½’å±‚å…±äº«æ•°ç»„ï¼Œä½†æ˜¯é€’å½’æ·±åº¦å‚æ•°ä¸åŒã€‚
        æ‰€ä»¥å¯ä»¥è€ƒè™‘é€’å½’+å¼•ç”¨ä¼ é€’è§£å†³
        */
        return digui(head,0+1);
    }
    //å½¢å‚deepä¸ºæœ¬å±‚çš„æ·±åº¦ï¼Œä¹Ÿå³ä»¥æœ¬å±‚ä¸ºæœ€åèŠ‚ç‚¹çš„è¯ï¼Œæ•°ç»„çš„é•¿åº¦-1ã€‚
    public int[] digui(ListNode head,int deep){
        //å¦‚æœä¼ å…¥çš„å¤´èŠ‚ç‚¹ä¸ä¸ºç©ºï¼Œè¯´æ˜å¯ä»¥ç»§ç»­å¾€ä¸‹é€’å½’ï¼›å°å¿ƒä¸èƒ½ç”¨head.nextåˆ¤æ–­é“¾è¡¨å°¾éƒ¨,å› ä¸ºä¸çŸ¥é“ç»™çš„headæ˜¯å¦ä¸ºç©ºã€‚
        if(head!=null){
            //å…ˆé€’å½’è°ƒç”¨è·å¾—æ•°ç»„
            array = digui(head.next,deep+1);
            //å†æŠŠå½“å‰å…ƒç´ åŠ å…¥æ•°ç»„å¯¹åº”çš„ä½ç½®ï¼›
            array[deepMax-deep]=head.val;

            //åˆ«å¿˜äº†ifå’Œelseéƒ½å¾—æœ‰returnï¼Œå¦åˆ™èµ°ifçš„é€’å½’æ— æ³•è¿”å›
            return array;

        }
        //å¦‚æœèŠ‚ç‚¹ä¸ºç©ºï¼Œåˆ™æœ¬å±‚æ— èŠ‚ç‚¹ï¼›ä¸”åˆ¶é€ æ•°ç»„ï¼Œæ•°ç»„å¤§å°ä¸ºæœ¬å±‚æ·±åº¦-1
        else{
            deepMax=deep-1;
            return new int[deep-1];
        }

    }
}
```

- æˆ‘å’Œä¸€äº›ç½‘å‹ç†è§£ï¼šé€’å½’æœ¬è´¨å°±æ˜¯æ ˆçš„ä½¿ç”¨ï¼Œéšå¼ä½¿ç”¨äº†JVMæ ˆ
- æˆ‘è¿™æ–¹æ³•æ¯”å®˜æ–¹è¿˜å¥½ï¼Œæ²¡æœ‰å ç”¨é¢å¤–ç©ºé—´ï¼›æ—¶é—´å¤æ‚åº¦ä¸€è‡´ï¼›æœ€é«˜èµéå®˜æ–¹è§£ç”¨çš„ä¹Ÿæ˜¯é€’å½’ã€‚

---

#### å®˜æ–¹-ä½¿ç”¨æ ˆ

æ ˆçš„ç‰¹ç‚¹æ˜¯åè¿›å…ˆå‡ºï¼Œå³æœ€åå‹å…¥æ ˆçš„å…ƒç´ æœ€å…ˆå¼¹å‡ºã€‚è€ƒè™‘åˆ°æ ˆçš„è¿™ä¸€ç‰¹ç‚¹ï¼Œä½¿ç”¨æ ˆå°†é“¾è¡¨å…ƒç´ é¡ºåºå€’ç½®ã€‚ä»é“¾è¡¨çš„å¤´èŠ‚ç‚¹å¼€å§‹ï¼Œä¾æ¬¡å°†æ¯ä¸ªèŠ‚ç‚¹å‹å…¥æ ˆå†…ï¼Œç„¶åä¾æ¬¡å¼¹å‡ºæ ˆå†…çš„å…ƒç´ å¹¶å­˜å‚¨åˆ°æ•°ç»„ä¸­ã€‚

- åˆ›å»ºä¸€ä¸ªæ ˆï¼Œç”¨äºå­˜å‚¨é“¾è¡¨çš„èŠ‚ç‚¹
- åˆ›å»ºä¸€ä¸ªæŒ‡é’ˆï¼Œåˆå§‹æ—¶æŒ‡å‘é“¾è¡¨çš„å¤´èŠ‚ç‚¹
- å½“æŒ‡é’ˆæŒ‡å‘çš„å…ƒç´ éç©ºæ—¶ï¼Œé‡å¤ä¸‹åˆ—æ“ä½œï¼š
  - å°†æŒ‡é’ˆæŒ‡å‘çš„èŠ‚ç‚¹å‹å…¥æ ˆå†…
  - å°†æŒ‡é’ˆç§»åˆ°å½“å‰èŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹
- è·å¾—æ ˆçš„å¤§å° sizeï¼Œåˆ›å»ºä¸€ä¸ªæ•°ç»„ printï¼Œå…¶å¤§å°ä¸º size
- åˆ›å»ºä¸‹æ ‡å¹¶åˆå§‹åŒ– index = 0
- é‡å¤ size æ¬¡ä¸‹åˆ—æ“ä½œï¼š
  - ä»æ ˆå†…å¼¹å‡ºä¸€ä¸ªèŠ‚ç‚¹ï¼Œå°†è¯¥èŠ‚ç‚¹çš„å€¼å­˜åˆ° print[index]
  - å°† index çš„å€¼åŠ  1
- è¿”å› print

#### ä»£ç 

```java

/**
 * Definition for singly-linked list.
 * public class ListNode {
 *     int val;
 *     ListNode next;
 *     ListNode(int x) { val = x; }
 * }
 */
class Solution {
    public int[] reversePrint(ListNode head) {
        Stack<ListNode> stack = new Stack<ListNode>();
        ListNode temp = head;
        while (temp != null) {
            stack.push(temp);
            temp = temp.next;
        }
        int size = stack.size();
        int[] print = new int[size];
        for (int i = 0; i < size; i++) {
            print[i] = stack.pop().val;
        }
        return print;
    }
}

```

- è¿™ç§å€’ç€å¤„ç†çš„ï¼Œå°±å¯ä»¥æƒ³åˆ°æ ˆ æˆ–é€’å½’ï¼

#### å¤æ‚æ€§åˆ†æ

æ—¶é—´å¤æ‚åº¦ï¼šO(n)ã€‚æ­£å‘éå†ä¸€éé“¾è¡¨ï¼Œç„¶åä»æ ˆå¼¹å‡ºå…¨éƒ¨èŠ‚ç‚¹ï¼Œç­‰äºåˆåå‘éå†ä¸€éé“¾è¡¨ã€‚

ç©ºé—´å¤æ‚åº¦ï¼šO(n)ã€‚é¢å¤–ä½¿ç”¨ä¸€ä¸ªæ ˆå­˜å‚¨é“¾è¡¨ä¸­çš„æ¯ä¸ªèŠ‚ç‚¹ã€‚



### [å‰‘æŒ‡ Offer 24. åè½¬é“¾è¡¨](https://leetcode-cn.com/problems/fan-zhuan-lian-biao-lcof/)

#### é¦–æˆ˜å¯„

```java
/**
 * Definition for singly-linked list.
 * public class ListNode {
 *     int val;
 *     ListNode next;
 *     ListNode(int x) { val = x; }
 * }
 */
class Solution {
    /*
    åè½¬ï¼Œä¸€å¼€å§‹æƒ³åˆ°è¦ç”¨æ ˆç»“æ„ï¼Œå¦‚ç”¨é€’å½’è§£å†³ï¼›ä½†æ˜¯é€’å½’è¿”å›çš„å¤´ç»“ç‚¹æ˜¯åŸèŠ‚ç‚¹çš„æœ«å°¾æ²¡é”™ï¼Œå¯æ˜¯æƒ³æŠŠå½“å‰èŠ‚ç‚¹æ”¾åˆ°é€†é“¾è¡¨çš„å°¾éƒ¨çš„è¯
    å´ä¸èƒ½ç›´æ¥é€šè¿‡å¤´èŠ‚ç‚¹ç›´æ¥æ”¾ç½®ï¼Œå› ä¸ºå¤´èŠ‚ç‚¹çš„åç»­æ°¸è¿œéƒ½æ˜¯å€’æ•°ç¬¬äºŒä¸ªèŠ‚ç‚¹ï¼Œè¦å¤šæ¬¡nextæ‰èƒ½æ”¾åˆ°å°¾éƒ¨ï¼Œå¾ˆéº»çƒ¦ã€‚

    æ¢ç§æ€è·¯ï¼Œåœ¨æ¯å±‚é€’å½’æ—¶ï¼Œäº¤æ¢èŠ‚ç‚¹æŒ‡å‘ï¼›å¹¶è®°å½•é€†é“¾è¡¨çš„å¤´ç»“ç‚¹å³å¯ã€‚
     */
    ListNode resultHead,resultTail,temp; 
    public ListNode reverseList(ListNode head) {
        //resultTailä¿å­˜å°¾èŠ‚ç‚¹ï¼Œæœ€åæ‰èƒ½è®©å°¾èŠ‚ç‚¹æŒ‡å‘null
        resultTail=head;
        //ç¿»è½¬é“¾è¡¨
        recur(head);
        //æ‰èƒ½è®©ç¿»è½¬é“¾è¡¨çš„å°¾èŠ‚ç‚¹æŒ‡å‘null
        resultTail.next=null;

        return resultHead;
    }
    //å› ä¸ºé€†é“¾è¡¨æœ«å°¾éœ€è¦ä¸ºnullï¼Œè€Œä¸æ˜¯ä¸¤ä¸ªèŠ‚ç‚¹ç»„æˆå°ç¯ï¼Œå¿…é¡»æŠŠé€’å½’æå‡ºæ¥
    public void recur(ListNode head){
        //å¦‚æœä¼ å…¥èŠ‚ç‚¹ä¸ºç©ºï¼Œè¯´æ˜æ˜¯ç©ºé“¾è¡¨ï¼Œç›´æ¥é€€å‡ºå‡½æ•°ï¼Œè®©reverseListè¿”å›ç©ºçš„resultHeadèŠ‚ç‚¹
        if(head==null){
            //æ³¨æ„voidä¸èƒ½æœ‰è¿”å›å€¼ï¼Œå¯ä»¥ç”¨returnæ˜¯æœ¬å±‚é€’å½’é€€æ ˆ
            return;
        }
        //å¦‚æœå½“å‰ä¼ å…¥èŠ‚ç‚¹ä¸ä¸ºç©ºï¼Œè¯´æ˜è‡³å°‘æœ‰ä¸€ä¸ªèŠ‚ç‚¹
        else{
            //å¦‚æœä¸‹ä¸€èŠ‚ç‚¹ä¸ºç©ºï¼Œè¯´æ˜å½“å‰èŠ‚ç‚¹æ˜¯é€†é“¾è¡¨çš„å¤´ï¼Œç”¨resultHeadå¼•ç”¨å®ƒï¼Œä¿å­˜å¥½é€†é“¾è¡¨çš„å¤´ï¼›å› ä¸ºå¯¹è±¡ç»™æ–¹æ³•æ—¶ç»™çš„æ˜¯åœ°å€ï¼Œæ‰€ä»¥ä¸åŒå±‚çš„é€’å½’ä¿®æ”¹æ˜¯äº’ç›¸å½±å“çš„ã€‚æ­¤æ—¶ä¸éœ€è¦äº¤æ¢æœ¬èŠ‚ç‚¹ä¸ä¸‹ä¸€èŠ‚ç‚¹ï¼ˆæ¯•ç«Ÿä¸‹ä¸€èŠ‚ç‚¹ä¸ºç©ºï¼‰çš„æŒ‡å‘ã€‚
            if(head.next==null){
                resultHead=head;
            }
            //å¦‚æœä¸‹ä¸€èŠ‚ç‚¹ä¸ä¸ºç©ºï¼Œäº¤æ¢å½“å‰èŠ‚ç‚¹å’Œä¸‹ä¸€èŠ‚ç‚¹çš„æŒ‡å‘
            else{
                //äº¤æ¢æŒ‡å‘ï¼›ä¸€å®šè¦ç”¨tempï¼Œå¦åˆ™é“¾è¡¨ä¼šåœ¨head.nextåæ–­å¼€
                temp.next=head
                ???è¦å¤šä¸ªæŒ‡é’ˆ
                temp=head.next.next;
                head.next.next=head;
                //ä¿è¯é€†é“¾è¡¨çš„å°¾ç»“ç‚¹ä¸ºnull
                //head.next=null;
            }

        }
    }
}
```

- æƒ³æƒ³ç”¨é€’å½’å•æŒ‡é’ˆï¼Œä½†æ˜¯é€»è¾‘ä¸Šæ²¡ç†æ¸…ï¼›å°è¯•é€’å½’+åŒæŒ‡é’ˆæ—¶å°±æ”¾å¼ƒäº†

- ç½‘å‹ï¼šé“¾è¡¨é¢˜å¿…é¡»ç”»å›¾

#### å®˜æ–¹-æ–¹æ³•ä¸€ï¼šè¿­ä»£

![image-20220325152101750](lcof.assets/image-20220325152101750.png)

åœ¨éå†é“¾è¡¨æ—¶ï¼Œå°†å½“å‰èŠ‚ç‚¹çš„ \textit{next}next æŒ‡é’ˆæ”¹ä¸ºæŒ‡å‘å‰ä¸€ä¸ªèŠ‚ç‚¹ã€‚ç”±äºèŠ‚ç‚¹æ²¡æœ‰å¼•ç”¨å…¶å‰ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå› æ­¤å¿…é¡»äº‹å…ˆå­˜å‚¨å…¶å‰ä¸€ä¸ªèŠ‚ç‚¹ã€‚åœ¨æ›´æ”¹å¼•ç”¨ä¹‹å‰ï¼Œè¿˜éœ€è¦å­˜å‚¨åä¸€ä¸ªèŠ‚ç‚¹ã€‚æœ€åè¿”å›æ–°çš„å¤´å¼•ç”¨ã€‚

```java
class Solution {
    public ListNode reverseList(ListNode head) {
        ListNode prev = null;
        ListNode curr = head;
        while (curr != null) {
            ListNode next = curr.next;
            curr.next = prev;
            prev = curr;
            curr = next;
        }
        return prev;
    }
}
```

å¤æ‚åº¦åˆ†æ

- æ—¶é—´å¤æ‚åº¦ï¼šO(n)ï¼Œå…¶ä¸­ n æ˜¯é“¾è¡¨çš„é•¿åº¦ã€‚éœ€è¦éå†é“¾è¡¨ä¸€æ¬¡ã€‚
- ç©ºé—´å¤æ‚åº¦ï¼šO(1)ã€‚

#### å®˜æ–¹-æ–¹æ³•äºŒï¼šé€’å½’

é€’å½’ç‰ˆæœ¬ç¨å¾®å¤æ‚ä¸€äº›ï¼Œå…¶å…³é”®åœ¨äºåå‘å·¥ä½œã€‚å‡è®¾é“¾è¡¨çš„å…¶ä½™éƒ¨åˆ†å·²ç»è¢«åè½¬ï¼Œç°åœ¨åº”è¯¥å¦‚ä½•åè½¬å®ƒå‰é¢çš„éƒ¨åˆ†ï¼Ÿ

å‡è®¾é“¾è¡¨ä¸ºï¼š

![image-20220325152508307](lcof.assets/image-20220325152508307.png)

```java
class Solution {
    public ListNode reverseList(ListNode head) {
        if (head == null || head.next == null) {
            return head;
        }
        ListNode newHead = reverseList(head.next);
        head.next.next = head;
        head.next = null;
        return newHead;
    }
}

```

å¤æ‚åº¦åˆ†æ:

- æ—¶é—´å¤æ‚åº¦ï¼šO(n)ï¼Œå…¶ä¸­ n æ˜¯é“¾è¡¨çš„é•¿åº¦ã€‚éœ€è¦å¯¹é“¾è¡¨çš„æ¯ä¸ªèŠ‚ç‚¹è¿›è¡Œåè½¬æ“ä½œã€‚

- ç©ºé—´å¤æ‚åº¦ï¼šO(n)ï¼Œå…¶ä¸­ n æ˜¯é“¾è¡¨çš„é•¿åº¦ã€‚ç©ºé—´å¤æ‚åº¦ä¸»è¦å–å†³äºé€’å½’è°ƒç”¨çš„æ ˆç©ºé—´ï¼Œæœ€å¤šä¸º n å±‚ã€‚

#### å³æ—¶å†æˆ˜-æˆåŠŸ

```java
/**
 * Definition for singly-linked list.
 * public class ListNode {
 *     int val;
 *     ListNode next;
 *     ListNode(int x) { val = x; }
 * }
 */
class Solution {
    ListNode newHead;
    public ListNode reverseList(ListNode head) {
        //è®¾ç½®é€’å½’è¿”å›æ¡ä»¶
        if(head==null||head.next==null){
            return head;
        }else{//åªæœ‰ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ä¸ä¸ºç©ºï¼Œå°±è®©ä¸‹ä¸€ä¸ªèŠ‚ç‚¹æŒ‡å‘æœ¬èŠ‚ç‚¹ï¼Œæœ¬èŠ‚ç‚¹æŒ‡å‘ç©ºï¼ˆä¿è¯å°¾èŠ‚ç‚¹æŒ‡å‘äº†nullï¼‰
            newHead=reverseList(head.next);
            //å¿…é¡»æŠŠåè½¬é“¾è¡¨æ”¾åœ¨é€’å½’åé¢ï¼Œæ‰èƒ½åˆ©ç”¨é€€æ ˆæ—¶çš„é€†åº
            head.next.next=head;
            head.next=null;
            return newHead;

        }

    }
}
```

- è¿˜æ˜¯ç”¨çš„é€’å½’æ³•



### [å‰‘æŒ‡ Offer 35. å¤æ‚é“¾è¡¨çš„å¤åˆ¶](https://leetcode-cn.com/problems/fu-za-lian-biao-de-fu-zhi-lcof/)

#### é¦–æˆ˜å¯„

ä¸çŸ¥é“æ€ä¹ˆå†™

----

#### å®˜æ–¹-è§£é¢˜æ€è·¯

æ™®é€šé“¾è¡¨çš„èŠ‚ç‚¹å®šä¹‰å¦‚ä¸‹ï¼š

```java
// Definition for a Node.
class Node {
    int val;
    Node next;
    public Node(int val) {
        this.val = val;
        this.next = null;
    }
}

```

æœ¬é¢˜é“¾è¡¨çš„èŠ‚ç‚¹å®šä¹‰å¦‚ä¸‹ï¼š

```java
// Definition for a Node.
class Node {
    int val;
    Node next, random;
    public Node(int val) {
        this.val = val;
        this.next = null;
        this.random = null;
    }
}

```

ç»™å®šé“¾è¡¨çš„å¤´èŠ‚ç‚¹ head ï¼Œå¤åˆ¶æ™®é€šé“¾è¡¨å¾ˆç®€å•ï¼Œåªéœ€éå†é“¾è¡¨ï¼Œæ¯è½®å»ºç«‹æ–°èŠ‚ç‚¹ + æ„å»ºå‰é©±èŠ‚ç‚¹ pre å’Œå½“å‰èŠ‚ç‚¹ node çš„å¼•ç”¨æŒ‡å‘å³å¯ã€‚

æœ¬é¢˜é“¾è¡¨çš„èŠ‚ç‚¹æ–°å¢äº† random æŒ‡é’ˆï¼ŒæŒ‡å‘é“¾è¡¨ä¸­çš„ ä»»æ„èŠ‚ç‚¹ æˆ–è€… null ã€‚è¿™ä¸ª random æŒ‡é’ˆæ„å‘³ç€åœ¨å¤åˆ¶è¿‡ç¨‹ä¸­ï¼Œé™¤äº†æ„å»ºå‰é©±èŠ‚ç‚¹å’Œå½“å‰èŠ‚ç‚¹çš„å¼•ç”¨æŒ‡å‘ pre.next ï¼Œè¿˜è¦æ„å»ºå‰é©±èŠ‚ç‚¹å’Œå…¶éšæœºèŠ‚ç‚¹çš„å¼•ç”¨æŒ‡å‘ pre.random ã€‚

æœ¬é¢˜éš¾ç‚¹ï¼š åœ¨å¤åˆ¶é“¾è¡¨çš„è¿‡ç¨‹ä¸­æ„å»ºæ–°é“¾è¡¨å„èŠ‚ç‚¹çš„ random å¼•ç”¨æŒ‡å‘:

```java
class Solution {
    public Node copyRandomList(Node head) {
        Node cur = head;
        Node dum = new Node(0), pre = dum;
        while(cur != null) {
            Node node = new Node(cur.val); // å¤åˆ¶èŠ‚ç‚¹ cur
            pre.next = node;               // æ–°é“¾è¡¨çš„ å‰é©±èŠ‚ç‚¹ -> å½“å‰èŠ‚ç‚¹
            // pre.random = "???";         // æ–°é“¾è¡¨çš„ ã€Œ å‰é©±èŠ‚ç‚¹ -> å½“å‰èŠ‚ç‚¹ ã€ æ— æ³•ç¡®å®š
            cur = cur.next;                // éå†ä¸‹ä¸€èŠ‚ç‚¹
            pre = node;                    // ä¿å­˜å½“å‰æ–°èŠ‚ç‚¹
        }
        return dum.next;
    }
}
```

> æœ¬æ–‡ä»‹ç» ã€Œå“ˆå¸Œè¡¨ã€ ï¼Œã€Œæ‹¼æ¥ + æ‹†åˆ†ã€ ä¸¤ç§æ–¹æ³•ã€‚å“ˆå¸Œè¡¨æ–¹æ³•æ¯”è¾ƒç›´è§‚ï¼›æ‹¼æ¥ + æ‹†åˆ†æ–¹æ³•çš„ç©ºé—´å¤æ‚åº¦æ›´ä½ã€‚

#### å®˜æ–¹-æ–¹æ³•ä¸€ï¼šå“ˆå¸Œè¡¨

åˆ©ç”¨å“ˆå¸Œè¡¨çš„æŸ¥è¯¢ç‰¹ç‚¹ï¼Œè€ƒè™‘æ„å»º åŸé“¾è¡¨èŠ‚ç‚¹ å’Œ æ–°é“¾è¡¨å¯¹åº”èŠ‚ç‚¹ çš„é”®å€¼å¯¹æ˜ å°„å…³ç³»ï¼Œå†éå†æ„å»ºæ–°é“¾è¡¨å„èŠ‚ç‚¹çš„ next å’Œ random å¼•ç”¨æŒ‡å‘å³å¯ã€‚

ç®—æ³•æµç¨‹ï¼š

1. è‹¥å¤´èŠ‚ç‚¹ head ä¸ºç©ºèŠ‚ç‚¹ï¼Œç›´æ¥è¿”å› null ï¼›
2. åˆå§‹åŒ–ï¼š å“ˆå¸Œè¡¨ dic ï¼Œ èŠ‚ç‚¹ cur æŒ‡å‘å¤´èŠ‚ç‚¹ï¼›
3. å¤åˆ¶é“¾è¡¨ï¼š
   1. å»ºç«‹æ–°èŠ‚ç‚¹ï¼Œå¹¶å‘ dic æ·»åŠ é”®å€¼å¯¹ (åŸ cur èŠ‚ç‚¹, æ–° cur èŠ‚ç‚¹ï¼‰ ï¼›
   2. cur éå†è‡³åŸé“¾è¡¨ä¸‹ä¸€èŠ‚ç‚¹ï¼›
4. æ„å»ºæ–°é“¾è¡¨çš„å¼•ç”¨æŒ‡å‘ï¼š
   1. æ„å»ºæ–°èŠ‚ç‚¹çš„ next å’Œ random å¼•ç”¨æŒ‡å‘ï¼›
   2. cur éå†è‡³åŸé“¾è¡¨ä¸‹ä¸€èŠ‚ç‚¹ï¼›
5. è¿”å›å€¼ï¼š æ–°é“¾è¡¨çš„å¤´èŠ‚ç‚¹ dic[cur] ï¼›

å¤æ‚åº¦åˆ†æï¼š

- æ—¶é—´å¤æ‚åº¦ O(N ï¼š ä¸¤è½®éå†é“¾è¡¨ï¼Œä½¿ç”¨ O(N)O(N) æ—¶é—´ã€‚
- ç©ºé—´å¤æ‚åº¦ O(N)ï¼š å“ˆå¸Œè¡¨ dic ä½¿ç”¨çº¿æ€§å¤§å°çš„é¢å¤–ç©ºé—´ã€‚

ä»£ç ï¼š

```java
class Solution {
    public Node copyRandomList(Node head) {
        if(head == null) return null;
        Node cur = head;
        Map<Node, Node> map = new HashMap<>();
        // 3. å¤åˆ¶å„èŠ‚ç‚¹ï¼Œå¹¶å»ºç«‹ â€œåŸèŠ‚ç‚¹ -> æ–°èŠ‚ç‚¹â€ çš„ Map æ˜ å°„
        while(cur != null) {
            map.put(cur, new Node(cur.val));
            cur = cur.next;
        }
        cur = head;
        // 4. æ„å»ºæ–°é“¾è¡¨çš„ next å’Œ random æŒ‡å‘
        while(cur != null) {
            map.get(cur).next = map.get(cur.next);
            map.get(cur).random = map.get(cur.random);
            cur = cur.next;
        }
        // 5. è¿”å›æ–°é“¾è¡¨çš„å¤´èŠ‚ç‚¹
        return map.get(head);
    }
}
```

#### å®˜æ–¹-æ–¹æ³•äºŒï¼šæ‹¼æ¥ + æ‹†åˆ†

è€ƒè™‘æ„å»º åŸèŠ‚ç‚¹ 1 -> æ–°èŠ‚ç‚¹ 1 -> åŸèŠ‚ç‚¹ 2 -> æ–°èŠ‚ç‚¹ 2 -> â€¦â€¦ çš„æ‹¼æ¥é“¾è¡¨ï¼Œå¦‚æ­¤ä¾¿å¯åœ¨è®¿é—®åŸèŠ‚ç‚¹çš„ random æŒ‡å‘èŠ‚ç‚¹çš„åŒæ—¶æ‰¾åˆ°æ–°å¯¹åº”æ–°èŠ‚ç‚¹çš„ random æŒ‡å‘èŠ‚ç‚¹ã€‚

ç®—æ³•æµç¨‹ï¼š

1. å¤åˆ¶å„èŠ‚ç‚¹ï¼Œæ„å»ºæ‹¼æ¥é“¾è¡¨:

   ![image-20220325163531591](lcof.assets/image-20220325163531591.png)

2. æ„å»ºæ–°é“¾è¡¨å„èŠ‚ç‚¹çš„ random æŒ‡å‘ï¼š
   - å½“è®¿é—®åŸèŠ‚ç‚¹ cur çš„éšæœºæŒ‡å‘èŠ‚ç‚¹ cur.random æ—¶ï¼Œå¯¹åº”æ–°èŠ‚ç‚¹ cur.next çš„éšæœºæŒ‡å‘èŠ‚ç‚¹ä¸º cur.random.next ã€‚
3. æ‹†åˆ†åŸ / æ–°é“¾è¡¨ï¼š
   - è®¾ç½® pre / cur åˆ†åˆ«æŒ‡å‘åŸ / æ–°é“¾è¡¨å¤´èŠ‚ç‚¹ï¼Œéå†æ‰§è¡Œ pre.next = pre.next.next å’Œ cur.next = cur.next.next å°†ä¸¤é“¾è¡¨æ‹†åˆ†å¼€ã€‚
4. è¿”å›æ–°é“¾è¡¨çš„å¤´èŠ‚ç‚¹ res å³å¯ã€‚

å¤æ‚åº¦åˆ†æï¼š

- æ—¶é—´å¤æ‚åº¦ O(N)ï¼š ä¸‰è½®éå†é“¾è¡¨ï¼Œä½¿ç”¨ O(N) æ—¶é—´ã€‚
- ç©ºé—´å¤æ‚åº¦ O(1) ï¼š èŠ‚ç‚¹å¼•ç”¨å˜é‡ä½¿ç”¨å¸¸æ•°å¤§å°çš„é¢å¤–ç©ºé—´ã€‚

ä»£ç ï¼š

```java
class Solution {
    public Node copyRandomList(Node head) {
        if(head == null) return null;
        Node cur = head;
        // 1. å¤åˆ¶å„èŠ‚ç‚¹ï¼Œå¹¶æ„å»ºæ‹¼æ¥é“¾è¡¨
        while(cur != null) {
            Node tmp = new Node(cur.val);
            tmp.next = cur.next;
            cur.next = tmp;
            cur = tmp.next;
        }
        // 2. æ„å»ºå„æ–°èŠ‚ç‚¹çš„ random æŒ‡å‘
        cur = head;
        while(cur != null) {
            if(cur.random != null)
                cur.next.random = cur.random.next;
            cur = cur.next.next;
        }
        // 3. æ‹†åˆ†ä¸¤é“¾è¡¨
        cur = head.next;
        Node pre = head, res = head.next;
        while(cur.next != null) {
            pre.next = pre.next.next;
            cur.next = cur.next.next;
            pre = pre.next;
            cur = cur.next;
        }
        pre.next = null; // å•ç‹¬å¤„ç†åŸé“¾è¡¨å°¾èŠ‚ç‚¹
        return res;      // è¿”å›æ–°é“¾è¡¨å¤´èŠ‚ç‚¹
    }
}
```

#### 20220325 åŠå¯„

```java
/*
// Definition for a Node.
class Node {
    int val;
    Node next;
    Node random;

    public Node(int val) {
        this.val = val;
        this.next = null;
        this.random = null;
    }
}
*/
class Solution {
    public Node copyRandomList(Node head) {
        //å¤„ç†ç©ºèŠ‚ç‚¹
        if(head==null)
            return head;

        //æŠŠæ–°é“¾è¡¨çš„æ¯ä¸ªèŠ‚ç‚¹ï¼Œè·Ÿåœ¨è€é“¾è¡¨çš„æ¯ä¸ªèŠ‚ç‚¹åé¢
        Node cur=head;
        while(cur!=null){
            Node temp=new Node(cur.val);
            temp.next=cur.next;
            cur.next=temp;
            cur=cur.next.next;
        }
        
        //æ ¹æ®è€é“¾è¡¨çš„ramdonï¼Œè®¾ç½®æ–°é“¾è¡¨çš„random
        cur=head;
        while(cur!=null){
            //æœ‰äº›èŠ‚ç‚¹æŒ‡å‘randomï¼Œæ‰€ä»¥è¦å°å¿ƒrandom.nextæ—¶å‘ç”Ÿç©ºæŒ‡é’ˆå¼‚å¸¸ã€‚ä¸ç»™æ–°é“¾è¡¨çš„randomèµ‹å€¼çš„è¯ï¼Œrandomå°±æ˜¯é»˜è®¤çš„nullã€‚
            if(cur.random!=null)
                cur.next.random=cur.random.next;
            cur=cur.next.next;
        }

        //æ‹†åˆ†ä¸¤ä¸ªé“¾è¡¨
        cur=head;
        Node result=cur.next;
        while(cur!=null){
            //å¿…é¡»è¦ä¸´æ—¶è¾…åŠ©èŠ‚ç‚¹è®°å½•æˆªæ–­å¤„
            Node temp=cur.next;
            cur.next=cur.next.next; 
            //ï¼ï¼ï¼é“¾è¡¨ä¸­å°å¿ƒæ·±åº¦nextï¼›æœ¬å¤„å¯èƒ½tempä¸ºæ–°é“¾è¡¨çš„æœ€åä¸€ä¸ªèŠ‚ç‚¹äº†ï¼Œä¸¤é‡nextä¼šæŠ¥é”™ï¼›æ¨èåƒæ ‡ç­”é‚£æ ·ï¼Œä»¥åè€…ä¸ºnextç»ˆæ­¢æ¡ä»¶
            if(temp.next!=null)
                temp.next=temp.next.next;
            cur=cur.next;
        }

        return result;
        
    }
}
```

- æ€è·¯æœ‰ï¼Œä½†æ˜¯åœ¨å¤„ç†æœ€åæ‹†åˆ†çš„æ—¶å€™ï¼Œæ²¡æ³¨æ„å¥½nextçš„æ·±åº¦ã€‚
  - å®˜æ–¹æ–¹æ³•äºŒæ‹†åˆ†æ—¶ï¼Œcur.next != nullå¯ä»¥ä¿è¯è¿˜æœ‰ä¸¤ä¸ªèŠ‚ç‚¹æ²¡æ‹†åˆ†ï¼Œä½†æ˜¯ä¼šå¯¼è‡´æ–°æ—§ä¸¤ä¸ªé“¾è¡¨æœ€åä¸€ä¸ªèŠ‚ç‚¹é»åœ¨ä¸€èµ·çš„æƒ…å†µï¼Œæ‰€ä»¥æœ€åè¦å•ç‹¬è®©åŸé“¾è¡¨çš„å°¾éƒ¨ä¸ºnullã€‚
  - æˆ‘çš„æ‹†åˆ†æ—¶ï¼Œä¸éœ€è¦æœ€åå¤„ç†æœ€åèŠ‚ç‚¹ç²˜åœ¨ä¸€èµ·çš„æƒ…å†µï¼Œä½†æ˜¯æ¯æ¬¡è¿­ä»£éƒ½è¦ifåˆ¤æ–­æ¯”è¾ƒè€—æ—¶ï¼›
  - æ€»ä¹‹ç¼åˆé“¾è¡¨æ‹†åˆ†æ—¶ï¼Œä»¥ç²˜åˆå¤„çš„åè€…ä¸ºåˆ¤æ–­ç¦»å¼€çš„æ ‡å¿—ä¸ºå¥½ï¼Œä¸å®¹æ˜“ç©ºæŒ‡é’ˆå¼‚å¸¸ã€‚



## å­—ç¬¦ä¸²

### [å‰‘æŒ‡ Offer 05. æ›¿æ¢ç©ºæ ¼](https://leetcode-cn.com/problems/ti-huan-kong-ge-lcof/)

#### é¦–æˆ˜å‘Šæ·

```java
class Solution {
    public String replaceSpace(String s) {
        
        String result="";

        //å¯¹å­—ç¬¦ä¸²çš„æ¯ä¸ªå­—ç¬¦è¿›è¡Œå¤„ç†ã€‚å­—ç¬¦ä¸²é•¿åº¦ç”¨length()ï¼Œæ•°ç»„é•¿åº¦ç”¨lengthã€‚ï¼Ÿï¼Ÿï¼Ÿsizeçš„å¤§å°åŒ…å«ç©ºæ ¼å—
        for(int i=0;i<s.length();i++){
            //è·å–å­—ç¬¦ä¸²å½¢å¼è¡¨ç¤ºçš„å½“å‰å­—ç¬¦
            String temp=String.valueOf(s.charAt(i));
            //å¯¹ç©ºæ ¼è¿›è¡Œæ›¿æ¢ã€‚æ³¨æ„å­—ç¬¦ä¸²ä¸èƒ½ç”¨==åˆ¤æ–­åœ°å€ç›¸ç­‰æ¨å‡ºå†…å®¹ç›¸ç­‰ï¼Œå› ä¸ºä¸åŒåœ°å€å­˜çš„å­—ç¬¦ä¸²çš„å†…å®¹å¯èƒ½ç›¸ç­‰ï¼›è€Œå¾—ç”¨equalsæ‰èƒ½åˆ¤æ–­å†…å®¹æ˜¯å¦ç›¸ç­‰ï¼ŒStringé‡å†™äº†equalsã€‚
            if(temp.equals(" ")){
                result+="%20";
            }else{
                result+=temp;
            }
        }

        return result;
    }
}
```

- æ³¨æ„ï¼šå­—ç¬¦ä¸²åˆ¤æ–­å†…å®¹ç›¸ç­‰è¦ç”¨equals

- charAtå¯ä»¥å¾—åˆ°å­—ç¬¦ä¸²æŸä½ç½®çš„å­—ç¬¦ï¼›String.valueOf()å¯ä»¥æŠŠå­—ç¬¦è½¬åŒ–ä¸ºå­—ç¬¦ä¸²å­˜å…¥å †ä¸­çš„å­—ç¬¦ä¸²å¸¸é‡æ± ã€‚

----

#### å®˜æ–¹-éå†æ·»åŠ 

åœ¨ Python å’Œ Java ç­‰è¯­è¨€ä¸­ï¼Œå­—ç¬¦ä¸²éƒ½è¢«è®¾è®¡æˆã€Œä¸å¯å˜ã€çš„ç±»å‹ï¼Œå³æ— æ³•ç›´æ¥ä¿®æ”¹å­—ç¬¦ä¸²çš„æŸä¸€ä½å­—ç¬¦ï¼Œéœ€è¦æ–°å»ºä¸€ä¸ªå­—ç¬¦ä¸²å®ç°ã€‚

ç®—æ³•æµç¨‹ï¼š

1. åˆå§‹åŒ–ä¸€ä¸ª list (Python) / StringBuilder (Java) ï¼Œè®°ä¸º res ï¼›
2. éå†åˆ—è¡¨ s ä¸­çš„æ¯ä¸ªå­—ç¬¦ c ï¼š
   - å½“ c ä¸ºç©ºæ ¼æ—¶ï¼šå‘ res åæ·»åŠ å­—ç¬¦ä¸² "%20" ï¼›
   - å½“ c ä¸ä¸ºç©ºæ ¼æ—¶ï¼šå‘ res åæ·»åŠ å­—ç¬¦ c ï¼›
3. å°†åˆ—è¡¨ res è½¬åŒ–ä¸ºå­—ç¬¦ä¸²å¹¶è¿”å›ã€‚

å¤æ‚åº¦åˆ†æï¼š

- æ—¶é—´å¤æ‚åº¦ O(N) ï¼š éå†ä½¿ç”¨ O(N) ï¼Œæ¯è½®æ·»åŠ ï¼ˆä¿®æ”¹ï¼‰å­—ç¬¦æ“ä½œä½¿ç”¨ O(1)ï¼›
- ç©ºé—´å¤æ‚åº¦ O(N) ï¼š Python æ–°å»ºçš„ list å’Œ Java æ–°å»ºçš„ StringBuilder éƒ½ä½¿ç”¨äº†çº¿æ€§å¤§å°çš„é¢å¤–ç©ºé—´ã€‚

```java

class Solution {
    public String replaceSpace(String s) {
        StringBuilder res = new StringBuilder();
        for(Character c : s.toCharArray())
        {
            if(c == ' ') res.append("%20");
            else res.append(c);
        }
        return res.toString();
    }
}

```



#### å®˜æ–¹-å­—ç¬¦æ•°ç»„

ç”±äºæ¯æ¬¡æ›¿æ¢ä» 1 ä¸ªå­—ç¬¦å˜æˆ 3 ä¸ªå­—ç¬¦ï¼Œä½¿ç”¨å­—ç¬¦æ•°ç»„å¯æ–¹ä¾¿åœ°è¿›è¡Œæ›¿æ¢ã€‚å»ºç«‹å­—ç¬¦æ•°ç»„åœ°é•¿åº¦ä¸º s çš„é•¿åº¦çš„ 3 å€ï¼Œè¿™æ ·å¯ä¿è¯å­—ç¬¦æ•°ç»„å¯ä»¥å®¹çº³æ‰€æœ‰æ›¿æ¢åçš„å­—ç¬¦ã€‚ç®—æ³•ï¼š

- è·å¾— s çš„é•¿åº¦ length
- åˆ›å»ºå­—ç¬¦æ•°ç»„ arrayï¼Œå…¶é•¿åº¦ä¸º length * 3
- åˆå§‹åŒ– size ä¸º 0ï¼Œsize è¡¨ç¤ºæ›¿æ¢åçš„å­—ç¬¦ä¸²çš„é•¿åº¦
- ä»å·¦åˆ°å³éå†å­—ç¬¦ä¸² s
  - è·å¾— s çš„å½“å‰å­—ç¬¦ c
  - å¦‚æœå­—ç¬¦ c æ˜¯ç©ºæ ¼ï¼Œåˆ™ä»¤ array[size] = '%'ï¼Œarray[size + 1] = '2'ï¼Œarray[size + 2] = '0'ï¼Œå¹¶å°† size çš„å€¼åŠ  3
  - å¦‚æœå­—ç¬¦ c ä¸æ˜¯ç©ºæ ¼ï¼Œåˆ™ä»¤ array[size] = cï¼Œå¹¶å°† size çš„å€¼åŠ  1
- éå†ç»“æŸä¹‹åï¼Œsize çš„å€¼ç­‰äºæ›¿æ¢åçš„å­—ç¬¦ä¸²çš„é•¿åº¦ï¼Œä» array çš„å‰ size ä¸ªå­—ç¬¦åˆ›å»ºæ–°å­—ç¬¦ä¸²ï¼Œå¹¶è¿”å›æ–°å­—ç¬¦ä¸²

ä»£ç ï¼š

```java
class Solution {
    public String replaceSpace(String s) {
        int length = s.length();
        char[] array = new char[length * 3];
        int size = 0;
        for (int i = 0; i < length; i++) {
            char c = s.charAt(i);
            if (c == ' ') {
                array[size++] = '%';
                array[size++] = '2';
                array[size++] = '0';
            } else {
                array[size++] = c;
            }
        }
        String newStr = new String(array, 0, size);
        return newStr;
    }
}

```

- ç½‘å‹ï¼šè¿™æ ·ä¸è¡Œå—ğŸ˜‚`return s.replace(" ","%20");`?
  - ç½‘å‹ç­”ï¼šä¸è¡Œï¼Œè¿™ä¸ªåªèƒ½æ›¿æ¢ç¬¬ä¸€ä¸ªï¼Œåº”è¯¥ç”¨replaceAll
    - ç½‘å‹åé©³ï¼šä¸æ˜¯å“‡ï¼Œè¿™ä¸ªreplaceæ–¹æ³•ç¡®å®æ˜¯æ›¿æ¢äº†å‘€ï¼Œä½ å†å»ç¿»ç¿»çœ‹æ–‡æ¡£
    - ç½‘å‹ï¼šreplaceå’ŒreplaceAllçš„åŒºåˆ«æ˜¯åè€…æ”¯æŒæ­£åˆ™ä½†æ˜¯å‰è€…ä¸æ”¯æŒï¼Œä½†æ˜¯å®ƒä»¬éƒ½æ˜¯å…¨éƒ¨æ›¿æ¢çš„

å¤æ‚æ€§åˆ†æ:

- æ—¶é—´å¤æ‚åº¦ï¼šO(n)ã€‚éå†å­—ç¬¦ä¸² `s` ä¸€éã€‚
- ç©ºé—´å¤æ‚åº¦ï¼šO(n)ã€‚é¢å¤–åˆ›å»ºå­—ç¬¦æ•°ç»„ï¼Œé•¿åº¦ä¸º `s` çš„é•¿åº¦çš„ 3 å€ã€‚



### [å‰‘æŒ‡ Offer 58 - II. å·¦æ—‹è½¬å­—ç¬¦ä¸²](https://leetcode-cn.com/problems/zuo-xuan-zhuan-zi-fu-chuan-lcof/)

#### é¦–æˆ˜å‘Šæ·

```java
class Solution {
    public String reverseLeftWords(String s, int n) {
        //ä¿å­˜å‰è‹¥å¹²ä½å­—ç¬¦
        String head="";
        //ä¿å­˜åè‹¥å¹²ä½å­—ç¬¦
        String tail="";

        //æŠŠå‰nä½å­—ç¬¦å­˜å…¥head
        for(int i=0;i<n;i++){
            head+=String.valueOf(s.charAt(i));
        }

        //æŠŠåŸå­—ç¬¦ä¸²åé¢çš„éƒ¨åˆ†å–å‡ºæ¥
        for(int i=n;i<s.length();i++){
            tail+=String.valueOf(s.charAt(i));
        }

        return tail+head;

    }
}
```

- â€œæŠŠå­—ç¬¦ä¸²æ‹†æˆå•ä¸ªå­—ç¬¦ï¼Œå†æŠŠå•ä¸ªå­—ç¬¦è½¬åŒ–æˆå•å­—ç¬¦å­—ç¬¦ä¸²ï¼Œå†æ“ä½œå­—ç¬¦ä¸²â€ï¼›è¿™ç§æ–¹æ³•å¾ˆå®¹æ˜“ï¼Œä½†æ˜¯æ—¶é—´å’Œç©ºé—´å¤æ‚åº¦æ¯”è¾ƒå¤§ã€‚



#### å®˜æ–¹-æ–¹æ³•ä¸€ï¼šå­—ç¬¦ä¸²åˆ‡ç‰‡

è§£é¢˜æ€è·¯ï¼š

- æœ¬é¢˜åšæ³•è¾ƒå¤šï¼Œæœ¬æ–‡ä¸»è¦ä»‹ç» â€œå­—ç¬¦ä¸²åˆ‡ç‰‡â€ ï¼Œ â€œåˆ—è¡¨éå†æ‹¼æ¥â€ ï¼Œ â€œå­—ç¬¦ä¸²éå†æ‹¼æ¥â€ ä¸‰ç§æ–¹æ³•ã€‚
  ç”±äºæœ¬é¢˜çš„å¤šè§£æ³•æ¶‰åŠåˆ°äº† å­—ç¬¦ä¸²ä¸ºä¸å¯å˜å¯¹è±¡ çš„ç›¸å…³æ¦‚å¿µï¼Œå¯¼è‡´æ•ˆç‡åŒºåˆ«è¾ƒå¤§ã€‚å› æ­¤ï¼Œå•åˆ—ä¸€èŠ‚ ä¸‰ç§æ–¹æ³•çš„æ•ˆç‡åˆ†æ ï¼Œæœ›å¯¹å„ä½æœ‰æ‰€å¸®åŠ©ã€‚

æ–¹æ³•ä¸€ï¼šå­—ç¬¦ä¸²åˆ‡ç‰‡

- åº”ç”¨å­—ç¬¦ä¸²åˆ‡ç‰‡å‡½æ•°ï¼Œå¯æ–¹ä¾¿å®ç°å·¦æ—‹è½¬å­—ç¬¦ä¸²ã€‚

- è·å–å­—ç¬¦ä¸² s[n:]s[n:] åˆ‡ç‰‡å’Œ s[:n]s[:n] åˆ‡ç‰‡ï¼Œä½¿ç”¨ "++" è¿ç®—ç¬¦æ‹¼æ¥å¹¶è¿”å›å³å¯ã€‚

å¤æ‚åº¦åˆ†æï¼š

- æ—¶é—´å¤æ‚åº¦ O(N) ï¼š å…¶ä¸­ N ä¸ºå­—ç¬¦ä¸² sçš„é•¿åº¦ï¼Œå­—ç¬¦ä¸²åˆ‡ç‰‡å‡½æ•°ä¸ºçº¿æ€§æ—¶é—´å¤æ‚åº¦ï¼ˆå‚è€ƒèµ„æ–™ï¼‰ï¼›
- ç©ºé—´å¤æ‚åº¦ O(N)ï¼š ä¸¤ä¸ªå­—ç¬¦ä¸²åˆ‡ç‰‡çš„æ€»é•¿åº¦ä¸º Nã€‚

ä»£ç ï¼š

```java
class Solution {
    public String reverseLeftWords(String s, int n) {
        return s.substring(n, s.length()) + s.substring(0, n);
    }
}

```

- substringå·¦åŒ…å³ä¸åŒ…



#### å®˜æ–¹-æ–¹æ³•äºŒï¼šåˆ—è¡¨éå†æ‹¼æ¥
è‹¥é¢è¯•è§„å®šä¸å…è®¸ä½¿ç”¨ åˆ‡ç‰‡å‡½æ•° ï¼Œåˆ™ä½¿ç”¨æ­¤æ–¹æ³•ã€‚

ç®—æ³•æµç¨‹ï¼š

1. æ–°å»ºä¸€ä¸ª list(Python)ã€StringBuilder(Java) ï¼Œè®°ä¸º resres ï¼›

2. å…ˆå‘ resres æ·»åŠ  â€œç¬¬ n + 1n+1 ä½è‡³æœ«ä½çš„å­—ç¬¦â€ ï¼›
3. å†å‘ resres æ·»åŠ  â€œé¦–ä½è‡³ç¬¬ nn ä½çš„å­—ç¬¦â€ ï¼›
4. å°† resres è½¬åŒ–ä¸ºå­—ç¬¦ä¸²å¹¶è¿”å›ã€‚

å¤æ‚åº¦åˆ†æï¼š

- æ—¶é—´å¤æ‚åº¦ O(N)ï¼š çº¿æ€§éå† så¹¶æ·»åŠ ï¼Œä½¿ç”¨çº¿æ€§æ—¶é—´ï¼›
- ç©ºé—´å¤æ‚åº¦ O(N)ï¼š æ–°å»ºçš„è¾…åŠ© resä½¿ç”¨ O(N)å¤§å°çš„é¢å¤–ç©ºé—´ã€‚

ä»£ç ï¼š

```java
class Solution {
    public String reverseLeftWords(String s, int n) {
        StringBuilder res = new StringBuilder();
        for(int i = n; i < s.length(); i++)
            res.append(s.charAt(i));
        for(int i = 0; i < n; i++)
            res.append(s.charAt(i));
        return res.toString();
    }
}
```

- æ³¨æ„ï¼šStirngBuilderå®ä¾‹åŒ–çš„å¯¹è±¡æœ€åè¦ç”¨toStringæ–¹æ³•æŠŠè‡ªå·±è½¬æ¢æˆå­—ç¬¦ä¸²ã€‚
- StirngBuilderå¯ä»¥ç›´æ¥appendå­—ç¬¦



#### å®˜æ–¹-æ–¹æ³•ä¸‰ï¼šå­—ç¬¦ä¸²éå†æ‹¼æ¥
è‹¥è§„å®š Python ä¸èƒ½ä½¿ç”¨ join() å‡½æ•°ï¼Œæˆ–è§„å®š Java åªèƒ½ç”¨ String ï¼Œåˆ™ä½¿ç”¨æ­¤æ–¹æ³•ã€‚

æ­¤æ–¹æ³•ä¸ æ–¹æ³•äºŒ æ€è·¯ä¸€è‡´ï¼ŒåŒºåˆ«æ˜¯ä½¿ç”¨å­—ç¬¦ä¸²ä»£æ›¿åˆ—è¡¨ã€‚

å¤æ‚åº¦åˆ†æï¼š

- æ—¶é—´å¤æ‚åº¦ O(N)ï¼š çº¿æ€§éå† så¹¶æ·»åŠ ï¼Œä½¿ç”¨çº¿æ€§æ—¶é—´ï¼›
- ç©ºé—´å¤æ‚åº¦ O(N) ï¼š å‡è®¾å¾ªç¯è¿‡ç¨‹ä¸­å†…å­˜ä¼šè¢«åŠæ—¶å›æ”¶ï¼Œå†…å­˜ä¸­è‡³å°‘åŒæ—¶å­˜åœ¨é•¿åº¦ä¸º Nå’Œ N-1çš„ä¸¤ä¸ªå­—ç¬¦ä¸²ï¼ˆæ–°å»ºé•¿åº¦ä¸º Nçš„ reséœ€è¦ä½¿ç”¨å‰ä¸€ä¸ªé•¿åº¦ N-1çš„ resï¼‰ï¼Œå› æ­¤è‡³å°‘ä½¿ç”¨ O(N)çš„é¢å¤–ç©ºé—´ã€‚

ä»£ç ï¼š

```java
class Solution {
    public String reverseLeftWords(String s, int n) {
        String res = "";
        for(int i = n; i < s.length(); i++)
            res += s.charAt(i);
        for(int i = 0; i < n; i++)
            res += s.charAt(i);
        return res;
    }
}
```

- è¿™ä¸ªå°±æ˜¯æˆ‘é¦–æˆ˜çš„åšæ³•ï¼›ä¸è¿‡æˆ‘è¿˜æŠŠcharAtè½¬æ¢æˆStirngåï¼Œå†ç”¨+=ã€‚



#### ä¸‰ç§å®˜æ–¹ç®—æ³•çš„åŒºåˆ«

è¯¦ç»†åˆ†æè¯·å‚è€ƒ Efficient String Concatenation in Python ã€‚

ä»¥ä¸Šä¸‰ç§æ–¹æ³•çš„ç©ºé—´ä½¿ç”¨å¦‚ä¸‹å›¾æ‰€ç¤ºã€‚
ä»¥ Python ä¸ºä¾‹å¼€å±•ä¸‰ç§æ–¹æ³•çš„æ•ˆç‡æµ‹è¯•ï¼Œç»“è®ºåŒæ ·é€‚ç”¨äº Java ç­‰å…¶ä»–è¯­è¨€ã€‚

![Picture4.png](lcof.assets/ef68413b3366b97af3ed76037c6a9d1e40ac09c74fd6e5cb6d5173cbd7116beb-Picture4.png)



## æŸ¥æ‰¾ç®—æ³•ï¼ˆç®€å•ï¼‰

### [å‰‘æŒ‡ Offer 03. æ•°ç»„ä¸­é‡å¤çš„æ•°å­—](https://leetcode-cn.com/problems/shu-zu-zhong-zhong-fu-de-shu-zi-lcof/)

#### é¦–æˆ˜å‘Šæ·

```java
class Solution {
    public int findRepeatNumber(int[] nums) {
        /*
        "é•¿åº¦ä¸º n çš„æ•°ç»„ nums é‡Œçš„æ‰€æœ‰æ•°å­—éƒ½åœ¨ 0ï½n-1 çš„èŒƒå›´å†…",å°±æ˜¯æ˜ç¤ºè¦ç”¨æ•°ç»„å†…å®¹ä¸æ•°ç»„ä¸‹æ ‡å…³è”ã€‚
         */

        //docæ•°ç»„çš„æ¯ä¸€ä½ï¼Œè®°è½½äº†numsæ•°ç»„ä¸­å„å…ƒç´ å‡ºç°çš„é¢‘ç‡ï¼›docçš„ä¸‹æ ‡å’Œnumsçš„å€¼å¯¹åº”ã€‚æ•°ç»„ä¸­åˆå§‹ä¸ºå…¨0ã€‚
        int[] doc=new int[nums.length];

        //éå†numsï¼Œnumsä¸­å‡ºç°çš„å€¼å¯¹åº”docæ•°ç»„çš„ä¸‹æ ‡ï¼Œç»™å¯¹åº”ä¸‹æ ‡å­˜çš„å€¼+1æ¥è®°å½•é¢‘æ¬¡ã€‚
        for(int i=0;i<nums.length;i++){
           doc[nums[i]]++; 
        }

        //æŠŠé‡å¤æ•°å­—é‡Œï¼Œæœ€å°çš„é‚£ä¸ªè¿”å›
        for(int i=0;i<doc.length;i++){
            if(doc[i]>1){
                return i;
            }
        }

        //å¦‚æœä¸Šé¢forå¾ªç¯æ²¡æœ‰è¿”å›ï¼Œåˆ™è¯´æ˜æ•°ç»„ä¸­æ²¡æœ‰é‡å¤æ•°å­—ï¼›è¿”å›-1è¡¨ç¤ºæŠ¥é”™ã€‚
        return -1;

    }
}
```

- æˆ‘è¿™ç§æ–¹æ³•ï¼Œå¦‚æœnumsçš„å†…å®¹å¾ˆå¤§ï¼Œå¯èƒ½ä¼šè¶…è¿‡intçš„èŒƒå›´ï¼Œè¿™æ ·æ¥è¯´è¿˜æ˜¯å®˜æ–¹çš„æ›´å®‰å…¨
  - intçš„å–å€¼èŒƒå›´ä¸ºï¼š -2^31â€”â€”2^31-1ï¼Œå³-2147483648â€”â€”2147483647ã€‚
  - ä¸è¿‡æœ¬é¢˜ä¸­çš„â€é™åˆ¶â€œè¯´2 <= n <= 100000ï¼Œé‚£ä¹ˆä¸ä¼šå‡»ç©¿ã€‚åšé¢˜ä¸€å®šè¦çœ‹ç¤ºä¾‹ä¸‹çš„**â€œæç¤ºâ€**æˆ–**â€é™åˆ¶â€œ**

#### å®˜æ–¹-æ–¹æ³•ä¸€ï¼šéå†æ•°ç»„
ç”±äºåªéœ€è¦æ‰¾å‡ºæ•°ç»„ä¸­ä»»æ„ä¸€ä¸ªé‡å¤çš„æ•°å­—ï¼Œå› æ­¤éå†æ•°ç»„ï¼Œé‡åˆ°é‡å¤çš„æ•°å­—å³è¿”å›ã€‚ä¸ºäº†åˆ¤æ–­ä¸€ä¸ªæ•°å­—æ˜¯å¦é‡å¤é‡åˆ°ï¼Œä½¿ç”¨é›†åˆå­˜å‚¨å·²ç»é‡åˆ°çš„æ•°å­—ï¼Œå¦‚æœé‡åˆ°çš„ä¸€ä¸ªæ•°å­—å·²ç»åœ¨é›†åˆä¸­ï¼Œåˆ™å½“å‰çš„æ•°å­—æ˜¯é‡å¤æ•°å­—ã€‚ç®—æ³•ï¼š

- åˆå§‹åŒ–é›†åˆä¸ºç©ºé›†åˆï¼Œé‡å¤çš„æ•°å­— repeat = -1
- éå†æ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ ï¼š
  - å°†è¯¥å…ƒç´ åŠ å…¥é›†åˆä¸­ï¼Œåˆ¤æ–­æ˜¯å¦æ·»åŠ æˆåŠŸ
    - å¦‚æœæ·»åŠ å¤±è´¥ï¼Œè¯´æ˜è¯¥å…ƒç´ å·²ç»åœ¨é›†åˆä¸­ï¼Œå› æ­¤è¯¥å…ƒç´ æ˜¯é‡å¤å…ƒç´ ï¼Œå°†è¯¥å…ƒç´ çš„å€¼èµ‹ç»™ repeatï¼Œå¹¶ç»“æŸéå†
- è¿”å› repeat

ä»£ç ï¼š

```java
class Solution {
    public int findRepeatNumber(int[] nums) {
        Set<Integer> set = new HashSet<Integer>();
        int repeat = -1;
        for (int num : nums) {
            if (!set.add(num)) {
                repeat = num;
                break;
            }
        }
        return repeat;
    }
}
```

- **åˆ©ç”¨äº†hashSetåˆ¤æ–­é‡å¤ï¼›åŒç†å¯ä»¥åˆ©ç”¨hashmapåˆ¤æ–­ä¸ªæ•°**ã€‚

å¤æ‚æ€§åˆ†æï¼š

- æ—¶é—´å¤æ‚åº¦ï¼šO(n)ã€‚
  - éå†æ•°ç»„ä¸€éã€‚ä½¿ç”¨å“ˆå¸Œé›†åˆï¼ˆHashSetï¼‰ï¼Œæ·»åŠ å…ƒç´ çš„æ—¶é—´å¤æ‚åº¦ä¸º O(1)ï¼Œæ•…æ€»çš„æ—¶é—´å¤æ‚åº¦æ˜¯ O(n)ã€‚
- ç©ºé—´å¤æ‚åº¦ï¼šO(n)ã€‚ä¸é‡å¤çš„æ¯ä¸ªå…ƒç´ éƒ½å¯èƒ½å­˜å…¥é›†åˆï¼Œå› æ­¤å ç”¨ O(n)é¢å¤–ç©ºé—´ã€‚



### [å‰‘æŒ‡ Offer 53 - I. åœ¨æ’åºæ•°ç»„ä¸­æŸ¥æ‰¾æ•°å­— I](https://leetcode-cn.com/problems/zai-pai-xu-shu-zu-zhong-cha-zhao-shu-zi-lcof/)

#### é¦–æˆ˜å‘Šæ·-hashæ³•

```java
class Solution {
    public int search(int[] nums, int target) {
        /*
        å› ä¸º10çš„9æ¬¡æ–¹ï¼Œå°äº2*10çš„9æ¬¡æ¬¡æ–¹ï¼Œæ‰€ä»¥numså­˜å€¼çš„èŒƒå›´åœ¨æ•´æ•°èŒƒå›´å†…ï¼Œä½†æ˜¯ç”¨æ•°ç»„ä¼šæœ‰è¿ç»­ç©ºé—´ï¼Œæµªè´¹ï¼›ç”¨hashMapå§
        */

        //æ³¨æ„å·¦è¾¹æŒ‡å®šæ³›å‹çš„å…·ä½“ç±»å‹
        Map<Integer,Integer> map=new HashMap<>();

        //ä¾¿åˆ©ç»™å®šçš„æ•°ç»„
        for(int i=0;i<nums.length;i++){
            //å¦‚æœå·²ä»…å­˜åœ¨hashæ˜ å°„ï¼Œç»™æ¬¡æ•°åŠ ä¸€
            if(map.containsKey(nums[i])){
                map.put(nums[i],map.get(nums[i])+1);

            }else{//å¦åˆ™å»ºç«‹é’ˆå¯¹æŸæ•°å­—å’Œå…¶æ•°å­—çš„hashæ˜ å°„
                map.put(nums[i],1);
            }
        }

        //å¤„ç†æ¬¡æ•°ä¸º0çš„è¯·æ¬¾
        return map.containsKey(target)?map.get(target):0;

    }
}
```

- æœ¬é¢˜æ¡ä»¶æ˜¯â€œæ’åºæ•°ç»„â€ï¼Œè¿™ä¸ªæ–¹æ³•æ²¡ç”¨ä¸Šè¿™ä¸ªæ¡ä»¶ï¼›æ’åºæ•°ç»„åº”è¯¥ç”¨åŒæŒ‡é’ˆè§£å†³ã€‚

#### é¦–æˆ˜å‘Šæ·-åŒæŒ‡é’ˆ

```java
class Solution {
    public int search(int[] nums, int target) {
        //çœ‹åˆ°æ’åºæ•°ç»„ï¼Œæ‰€ä»¥ç›®æ ‡æ•°å­—æ˜¯è¿ç»­çš„ï¼›ç”¨åŒæŒ‡é’ˆ

        //å¤„ç†ç‰¹æ®Šæƒ…å†µï¼šç©ºæ•°ç»„æƒ…å†µï¼Œå¦åˆ™nums[right]ä¼šè¶…è¿‡æ•°ç»„è¾¹ç•Œ
        if(nums.length==0){
            return 0;
        }

        //åˆå§‹åŒ–åŒæŒ‡é’ˆä¸ºæ•°ç»„ä¸¤ç«¯
        int left=0;
        int right=nums.length-1;

        //åªè¦ä¸¤ä¸ªæŒ‡é’ˆæ²¡ç¢°åˆ°ç›®æ ‡æ•°å°±ä¸€ç›´å¾ªç¯
        while(true){
            if(nums[left]!=target){
                left++;
            }
            if(nums[right]!=target){
                right--;
            }

            //å½“left>rightï¼Œæˆ–nums[left]==nums[right]!=targetæ—¶ç›´æ¥è¿”å›0ï¼›å½“nums[left]==nums[right]==targetæ—¶è¿”å›right-left+1
            if(left>right||((nums[left]==nums[right])&&(nums[right]!=target))){
                return 0;
            }else if((nums[left]==nums[right])&&(nums[right]==target)){
                return right-left+1;
            }
        }

    }
}
```

- æˆ‘ï¼š
  - æ•°ç»„é—®é¢˜ï¼Œå°å¿ƒè‡ªå®šä¹‰iæ—¶ï¼Œåœ¨ç‰¹æ®Šè¾¹ç•Œæ¡ä»¶ä¸‹ï¼Œiè¶…å‡ºè¾¹ç•Œ
  - å˜é‡è¦ä¸€è‡´ï¼Œæ¯”å¦‚leftä¸è¦å†™ç€å†™ç€å°±å†™æˆlã€‚
- ç½‘å‹ï¼šé¢è¯•å®˜å‡ºè¿™é¢˜çš„è¯è‚¯å®šæ˜¯æƒ³è®©ä½ å†™äºŒåˆ†çš„å•¦ å…¶ä»–æ²¡ç”¨
  - ç½‘å‹ï¼šæˆ‘ç¬¬ä¸€æƒ³æ³•ä¹Ÿæ˜¯äºŒåˆ†ï¼Œä½†æ˜¯æˆ‘å‘ç°é¢˜ç›®æ²¡ç»™æ•°ç»„é•¿åº¦ï¼Œæ±‚ä¸ªé•¿åº¦ä¸å°±å·²ç» O(n)äº†å—
    - ç½‘å‹åé©³ï¼š åƒjavaè¿™ç§è¯­è¨€ï¼Œæ•°ç»„çš„é•¿åº¦æ˜¯ç¼–è¯‘çš„æ—¶å€™å°±ç”Ÿæˆå¥½çš„ï¼Œä¸éœ€è¦å®æ—¶ç®—çš„ï¼›nums.lengthç›´æ¥æ˜¯æ•°ç»„é•¿åº¦ï¼Œè¿™æ˜¯æ•°ç»„æœ¬èº«çš„å±æ€§
- æœ¬é¢˜åŒæŒ‡é’ˆï¼Œä¸å¦‚å®˜æ–¹çš„2åˆ†æ•ˆç‡é«˜ã€‚

æ€§èƒ½ï¼š

![image-20220326170601282](lcof.assets/image-20220326170601282.png)

#### å®˜æ–¹-äºŒåˆ†æ³•

è§£é¢˜æ€è·¯ï¼š

æ’åºæ•°ç»„ä¸­çš„æœç´¢é—®é¢˜ï¼Œé¦–å…ˆæƒ³åˆ° **äºŒåˆ†æ³•** è§£å†³ã€‚

![image-20220326172735012](lcof.assets/image-20220326172735012.png)

ç®—æ³•è§£æï¼š

![image-20220326172816408](lcof.assets/image-20220326172816408.png)

æ•ˆç‡ä¼˜åŒ–ï¼š

![image-20220326172840370](lcof.assets/image-20220326172840370.png)

å¤æ‚åº¦åˆ†æï¼š

- æ—¶é—´å¤æ‚åº¦ O(log N)ï¼š äºŒåˆ†æ³•ä¸ºå¯¹æ•°çº§åˆ«å¤æ‚åº¦ã€‚
- ç©ºé—´å¤æ‚åº¦ O(1) ï¼š å‡ ä¸ªå˜é‡ä½¿ç”¨å¸¸æ•°å¤§å°çš„é¢å¤–ç©ºé—´ã€‚

ä»£ç ï¼š

```java
class Solution {
    public int search(int[] nums, int target) {
        // æœç´¢å³è¾¹ç•Œ right
        int i = 0, j = nums.length - 1;
        while(i <= j) {
            int m = (i + j) / 2;
            if(nums[m] <= target) i = m + 1;
            else j = m - 1;
        }
        int right = i;
        // è‹¥æ•°ç»„ä¸­æ—  target ï¼Œåˆ™æå‰è¿”å›
        if(j >= 0 && nums[j] != target) return 0;
        // æœç´¢å·¦è¾¹ç•Œ right
        i = 0; j = nums.length - 1;
        while(i <= j) {
            int m = (i + j) / 2;
            if(nums[m] < target) i = m + 1;
            else j = m - 1;
        }
        int left = j;
        return right - left - 1;
    }
}
```

- å¯å°† nums[m] = targetnums[m]=target æƒ…å†µåˆå¹¶è‡³å…¶ä»–ä¸¤ç§æƒ…å†µä¸­ã€‚



### [å‰‘æŒ‡ Offer 53 - II. 0ï½n-1ä¸­ç¼ºå¤±çš„æ•°å­—](https://leetcode-cn.com/problems/que-shi-de-shu-zi-lcof/)

#### é¦–æˆ˜å‘Šæ·

```java
class Solution {
    public int missingNumber(int[] nums) {
        /*
        å¯ä»¥äºŒåˆ†æŸ¥æ‰¾ï¼Œâ€œl-râ€ä¸ç­‰äºâ€œnums[l]-nums[r]â€çš„è¯ï¼Œåˆ™ç¡®å®çš„æ•°å­—åœ¨lrä¹‹é—´ã€‚
        ä½†æ˜¯çº¯åŒæŒ‡é’ˆä¼šè·³è¿‡ç›®æ ‡å€¼ï¼Œä½¿ç›®æ ‡å€¼ä¸å†lrä¹‹é—´ï¼›å› ä¸ºåŒæŒ‡é’ˆè§„åˆ™ä¸­â€œå¥½åƒâ€è¯´lå’Œråœ¨ä¿®æ”¹æ—¶ä¸èƒ½å’Œmé‡åˆï¼Œåªèƒ½è¶Šè¿‡ã€‚

        æˆ‘å…ˆç”¨onéå†çš„æ–¹æ³•åšäº†
        */

        //ç¼ºå¤±å€¼åœ¨[0,n-2]æ—¶
        for(int i=0;i<nums.length;i++){
            if(nums[i]!=i)
                return i;
        }
        //ç¼ºå¤±å€¼æ˜¯n-1æ—¶
        return nums.length;

    }
}
```

æ•ˆæœè¿˜è¡Œï¼š

![image-20220327154126719](lcof.assets/image-20220327154126719.png)



#### å®˜æ–¹-äºŒåˆ†æ³•

è§£é¢˜æ€è·¯ï¼š

![image-20220327155156544](lcof.assets/image-20220327155156544.png)

ç®—æ³•è§£æï¼š

![image-20220327155218162](lcof.assets/image-20220327155218162.png)

å¤æ‚åº¦åˆ†æï¼š

![image-20220327155245698](lcof.assets/image-20220327155245698.png)

ä»£ç ï¼š

```java
class Solution {
    public int missingNumber(int[] nums) {
        int i = 0, j = nums.length - 1;
        while(i <= j) {
            int m = (i + j) / 2;
            if(nums[m] == m) i = m + 1;
            else j = m - 1;
        }
        return i;
    }
}
```

- æˆ‘å’Œå®˜æ–¹å’Œé«˜èµç½‘å‹ï¼šâ€œ**æ’åºæ•°ç»„ä¸­çš„æœç´¢é—®é¢˜ï¼Œé¦–å…ˆæƒ³åˆ° äºŒåˆ†æ³• è§£å†³**ã€‚â€getä¸€é¡¹æ–°æŠ€èƒ½ã€‚

- æˆ‘ï¼šæœ¬é¢˜è§£çš„è§†é¢‘ä¸é”™ï¼Œå¾ˆæ¸…æ™°ï¼Œå¯ä»¥çœ‹çœ‹
- æˆ‘ï¼šå®˜æ–¹ç®—æ³•åœ¨l==rçš„æ—¶å€™ä¸é€€å‡ºï¼Œè®©å®ƒä¸¤å†ç§»åŠ¨ä¸€æ­¥ä»è€Œäº¤å‰å¤¹ä½ç›®æ ‡å€¼ï¼Œä¸é”™ï¼



## æŸ¥æ‰¾ç®—æ³•ï¼ˆä¸­ç­‰ï¼‰

### [å‰‘æŒ‡ Offer 04. äºŒç»´æ•°ç»„ä¸­çš„æŸ¥æ‰¾](https://leetcode-cn.com/problems/er-wei-shu-zu-zhong-de-cha-zhao-lcof/)

#### é¦–æˆ˜å¯„

#### å®˜æ–¹-äºŒå‰æœç´¢æ ‘æ³•

ç”±äºç»™å®šçš„äºŒç»´æ•°ç»„å…·å¤‡æ¯è¡Œä»å·¦åˆ°å³é€’å¢ä»¥åŠæ¯åˆ—ä»ä¸Šåˆ°ä¸‹é€’å¢çš„ç‰¹ç‚¹ï¼Œå½“è®¿é—®åˆ°ä¸€ä¸ªå…ƒç´ æ—¶ï¼Œå¯ä»¥æ’é™¤æ•°ç»„ä¸­çš„éƒ¨åˆ†å…ƒç´ ã€‚

ä»äºŒç»´æ•°ç»„çš„å³ä¸Šè§’å¼€å§‹æŸ¥æ‰¾ã€‚å¦‚æœå½“å‰å…ƒç´ ç­‰äºç›®æ ‡å€¼ï¼Œåˆ™è¿”å› trueã€‚å¦‚æœå½“å‰å…ƒç´ å¤§äºç›®æ ‡å€¼ï¼Œåˆ™ç§»åˆ°å·¦è¾¹ä¸€åˆ—ã€‚å¦‚æœå½“å‰å…ƒç´ å°äºç›®æ ‡å€¼ï¼Œåˆ™ç§»åˆ°ä¸‹è¾¹ä¸€è¡Œã€‚

å¯ä»¥è¯æ˜è¿™ç§æ–¹æ³•ä¸ä¼šé”™è¿‡ç›®æ ‡å€¼ã€‚å¦‚æœå½“å‰å…ƒç´ å¤§äºç›®æ ‡å€¼ï¼Œè¯´æ˜å½“å‰å…ƒç´ çš„ä¸‹è¾¹çš„æ‰€æœ‰å…ƒç´ éƒ½ä¸€å®šå¤§äºç›®æ ‡å€¼ï¼Œå› æ­¤å¾€ä¸‹æŸ¥æ‰¾ä¸å¯èƒ½æ‰¾åˆ°ç›®æ ‡å€¼ï¼Œå¾€å·¦æŸ¥æ‰¾å¯èƒ½æ‰¾åˆ°ç›®æ ‡å€¼ã€‚å¦‚æœå½“å‰å…ƒç´ å°äºç›®æ ‡å€¼ï¼Œè¯´æ˜å½“å‰å…ƒç´ çš„å·¦è¾¹çš„æ‰€æœ‰å…ƒç´ éƒ½ä¸€å®šå°äºç›®æ ‡å€¼ï¼Œå› æ­¤å¾€å·¦æŸ¥æ‰¾ä¸å¯èƒ½æ‰¾åˆ°ç›®æ ‡å€¼ï¼Œå¾€ä¸‹æŸ¥æ‰¾å¯èƒ½æ‰¾åˆ°ç›®æ ‡å€¼ã€‚

- è‹¥æ•°ç»„ä¸ºç©ºï¼Œè¿”å› false
- åˆå§‹åŒ–è¡Œä¸‹æ ‡ä¸º 0ï¼Œåˆ—ä¸‹æ ‡ä¸ºäºŒç»´æ•°ç»„çš„åˆ—æ•°å‡ 1
- é‡å¤ä¸‹åˆ—æ­¥éª¤ï¼Œç›´åˆ°è¡Œä¸‹æ ‡æˆ–åˆ—ä¸‹æ ‡è¶…å‡ºè¾¹ç•Œ
  - è·å¾—å½“å‰ä¸‹æ ‡ä½ç½®çš„å…ƒç´  num
  - å¦‚æœ num å’Œ target ç›¸ç­‰ï¼Œè¿”å› true
  - å¦‚æœ num å¤§äº targetï¼Œåˆ—ä¸‹æ ‡å‡ 1
  - å¦‚æœ num å°äº targetï¼Œè¡Œä¸‹æ ‡åŠ  1
- å¾ªç¯ä½“æ‰§è¡Œå®Œæ¯•ä»æœªæ‰¾åˆ°å…ƒç´ ç­‰äº target ï¼Œè¯´æ˜ä¸å­˜åœ¨è¿™æ ·çš„å…ƒç´ ï¼Œè¿”å› false`

ä»£ç ï¼š

```java

class Solution {
    public boolean findNumberIn2DArray(int[][] matrix, int target) {
        if (matrix == null || matrix.length == 0 || matrix[0].length == 0) {
            return false;
        }
        int rows = matrix.length, columns = matrix[0].length;
        int row = 0, column = columns - 1;
        while (row < rows && column >= 0) {
            int num = matrix[row][column];
            if (num == target) {
                return true;
            } else if (num > target) {
                column--;
            } else {
                row++;
            }
        }
        return false;
    }
}

```

å¤æ‚åº¦åˆ†æ:

- æ—¶é—´å¤æ‚åº¦ï¼šO(n+m)ã€‚è®¿é—®åˆ°çš„ä¸‹æ ‡çš„è¡Œæœ€å¤šå¢åŠ  n æ¬¡ï¼Œåˆ—æœ€å¤šå‡å°‘ m æ¬¡ï¼Œå› æ­¤å¾ªç¯ä½“æœ€å¤šæ‰§è¡Œ n + m æ¬¡ã€‚
- ç©ºé—´å¤æ‚åº¦ï¼šO(1)ã€‚



#### 20220327æˆåŠŸ

```java
class Solution {
    public boolean findNumberIn2DArray(int[][] matrix, int target) {

        //å¤„ç†ç©ºæ•°ç»„æƒ…å†µ
        if(matrix.length==0){
            return false;
        }

        //å¤„ç†éç©ºæ•°ç»„ï¼Œä»æ•°ç»„çš„å·¦ä¸‹è§’å¼€å§‹åšäºŒå‰æœç´¢æ ‘å¼æ¢ç´¢
        //åˆå§‹åŒ–è¡Œåˆ—åæ ‡ï¼›å…±nè¡Œmåˆ—
        int n=matrix.length-1,m=0,maxM=matrix[0].length-1;

        while(n>=0&&m<=maxM){
            if(matrix[n][m]<target){
                m++;
            }else if(matrix[n][m]>target){
                n--;
            }else{
                return true;
            }
        }

        return false;

    }
}
```



### [å‰‘æŒ‡ Offer 11. æ—‹è½¬æ•°ç»„çš„æœ€å°æ•°å­—](https://leetcode-cn.com/problems/xuan-zhuan-shu-zu-de-zui-xiao-shu-zi-lcof/)

#### é¦–æˆ˜åŠå¯„

```java
class Solution {
    public int minArray(int[] numbers) {

        //é¢˜ç›®è¯´nä¸ä¸ºè´Ÿæ•°ï¼Œä½†æ˜¯numbers[n]å¯èƒ½æ˜¯è´Ÿæ•°ï¼›é‚£ä¹ˆè¿™ä¸ªlastå–0å°±ä¼šå¯¼è‡´å…ƒç´ ä¸€æ—¦æœ‰è´Ÿæ•°ï¼Œå°±æå‰é€€å‡ºforå¾ªç¯
        //int last=0;
        int last=Integer.MIN_VALUE;
        for(int i=0;i<numbers.length;i++){
            //ä¾¦æŸ¥åˆ°æ–­å´–å°±è¿”å›
            if(numbers[i]<last){
                return numbers[i];
            }
            last=numbers[i];
        }

        //æ²¡ä¾¦æŸ¥åˆ°æ–­å´–ï¼Œå¯èƒ½æ˜¯æ•°å­—å…¨ç›¸åŒï¼›æˆ–è€…ç»å†äº†næ¬¡æ—‹è½¬æˆäº†æ²¡æ—‹è½¬å‰çš„å‡åºçŠ¶æ€ï¼šè¿”å›ç¬¬ä¸€ä¸ªæ•°
        return numbers[0];
    }
}
```

- æ€è·¯æœ‰ï¼Œä½†æ˜¯æŠŠlastè®¾ç½®ä¸º0å¿½ç•¥äº†æ•°ç»„å…ƒç´ ä¸ºè´Ÿæ•°çš„æƒ…å†µï¼Œå¯¼è‡´ç¨‹åºä¸€ç¢°åˆ°è´Ÿæ•°å…ƒç´ å°±ä»¥ä¸ºç¢°åˆ°äº†æ–­å´–å°±é€€å‡ºå¾ªç¯å¹¶è¿”å›é”™è¯¯çš„å€¼äº†ï¼›æŠŠlaståˆå§‹å€¼æ¢æˆæœ€å°æ•´æ•°å°±è¿‡äº†ã€‚
- æˆ‘åæ€ï¼šæ—¢ç„¶éƒ½çº¿æ€§éå†äº†ï¼Œä¸å¦‚å¹²è„†ç”¨laterè®°å½•ç¢°åˆ°è¿‡çš„æœ€å°å€¼ï¼Œç”šè‡³éƒ½ä¸ç”¨æŸ¥çœ‹æ–­å´–ï¼›æˆ‘ç›¸å½“äºç›¸åŒçš„æ—¶é—´å¤æ‚åº¦èƒ½è§£å†³çš„é—®é¢˜ï¼Œç”¨æ›´å¤æ‚çš„æ–¹å¼è§£å†³äº†ï¼Œå‡åˆ†é¡¹ã€‚

#### å®˜æ–¹-äºŒåˆ†æŸ¥æ‰¾

è§£é¢˜æ€è·¯ï¼š

![image-20220327224636236](lcof.assets/image-20220327224636236.png)

ç®—æ³•æµç¨‹ï¼š

![image-20220327224718445](lcof.assets/image-20220327224718445.png)

- æˆ‘ï¼šj=j-1åï¼Œæœ€å°å€¼è¿˜åœ¨ijä¹‹é—´ï¼Œå› ä¸ºï¼š
  - å¦‚æœjæ˜¯æœ€å°å€¼ï¼Œé‚£ä¹ˆåŸæœ¬numsm==numsjï¼Œè®©j--åï¼Œè‡³å°‘mä½ç½®æœ‰æœ€å°å€¼
  - j--ç›¸å½“äºæ˜¯ä¸ºé‡å¤å…ƒç´ å»é‡ã€‚

æ­£ç¡®æ€§è¯æ˜ï¼š

![image-20220327224758158](lcof.assets/image-20220327224758158.png)

è¡¥å……æ€è€ƒï¼š ä¸ºä»€ä¹ˆæœ¬é¢˜äºŒåˆ†æ³•ä¸ç”¨ nums[m]*n**u**m**s*[*m*] å’Œ nums[i]*n**u**m**s*[*i*] ä½œæ¯”è¾ƒï¼Ÿ

![image-20220327224829837](lcof.assets/image-20220327224829837.png)

å¤æ‚åº¦åˆ†æï¼š

![image-20220327224853507](lcof.assets/image-20220327224853507.png)

ä»£ç ï¼š

```java
class Solution {
    public int minArray(int[] numbers) {
        int i = 0, j = numbers.length - 1;
        while (i < j) {
            int m = (i + j) / 2;
            if (numbers[m] > numbers[j]) i = m + 1;
            else if (numbers[m] < numbers[j]) j = m;
            else j--;
        }
        return numbers[i];
    }
}
```

- ç½‘å‹ï¼šä¸ºä»€ä¹ˆå®˜æ–¹çš„äºŒåˆ†æ³•çš„é¢˜è§£å¾ˆå¤šéƒ½æ˜¯å†™çš„`low + (high - low) / 2 `è€Œä¸æ˜¯ `(high + low) / 2`
  - ç½‘å‹ç­”ï¼šé˜²æ­¢æº¢å‡ºå§ã€‚

### [å‰‘æŒ‡ Offer 50. ç¬¬ä¸€ä¸ªåªå‡ºç°ä¸€æ¬¡çš„å­—ç¬¦](https://leetcode-cn.com/problems/di-yi-ge-zhi-chu-xian-yi-ci-de-zi-fu-lcof/)

#### é¦–æˆ˜å‘Šæ·

```java
class Solution {
    public char firstUniqChar(String s) {
        /*
        ç¬¬ä¸€æ¬¡é‡å¤ã€‚æ²¡æœ‰è¯´æœ‰åºï¼Œä½¿ç”¨hashMapåˆ¤æ–­é‡å¤
         */
        Map<Character,Integer> map=new HashMap<>();
        //å…ˆåšä¸€æ¬¡éå†ï¼Œè®°å½•ä¸‹å„å­—ç¬¦å‡ºç°çš„é¢‘åº¦
        for(int i=0;i<s.length();i++){
            char tempCh=s.charAt(i);
            if(map.containsKey(tempCh)){
                map.put(tempCh,map.get(tempCh)+1);
            }else{
                //åŸºæœ¬æ•°æ®ç±»å‹ä¼šè‡ªåŠ¨åŒ…è£…æ‹†åŒ…
                map.put(tempCh,1);
            }
        }
        //æŸ¥æ‰¾ç¬¬ä¸€ä¸ªåªå‡ºç°ä¸€æ¬¡çš„å­—ç¬¦
        for(int i=0;i<s.length();i++){
            char tempCh=s.charAt(i);
            if(map.get(tempCh)==1){
                return tempCh;
            }
        }

        //ä¸€ç›´æ²¡return è¯´æ˜ä¸å­˜åœ¨å­—ç¬¦
        return ' ';
    }
}
```

#### ç½‘å‹1-æ•°ç»„è®°å½•

```java
public char firstUniqChar(String s) {
    if (s.equals("")) return ' ';
    //åˆ›å»ºâ€˜a'-'z'çš„å­—å…¸
    int[] target = new int[26];
    //ç¬¬ä¸€æ¬¡éå†ï¼Œå°†å­—ç¬¦ç»Ÿè®¡åˆ°å­—å…¸æ•°ç»„
    for (int i = 0; i < s.length(); i++) {
        target[s.charAt(i) - 'a']++;
    }
    //ç¬¬äºŒæ¬¡éå†ï¼Œä»å­—å…¸æ•°ç»„è·å–æ¬¡æ•°
    for (int i = 0; i < s.length(); i++) {
        if (target[s.charAt(i) - 'a'] == 1) return s.charAt(i);
    }

    return ' ';
}
```

- é¢˜å¹²è¯´`s åªåŒ…å«å°å†™å­—æ¯`ï¼Œæˆ‘åšé¢˜æ—¶è®¤ä¸ºï¼Œé™¤äº†è‹±æ–‡çš„26ä¸ªå­—æ¯å¯èƒ½è¿˜æœ‰åˆ«çš„å°å†™å­—æ¯ï¼Œå°±ç”¨äº†hashMapï¼›å¦‚æœè¿™é‡Œçš„å°å†™å­—æ¯åªæŒ‡è‹±æ–‡26å­—æ¯çš„è¯ï¼Œç½‘å‹1çš„åšæ³•ç¡®å®æ›´å¿«æ›´å¥½ï¼›ä½†æ˜¯æˆ‘çœ‹å®˜æ–¹ä¹Ÿæ²¡æœ‰ä½¿ç”¨26å­—æ¯çš„ç‰¹æ€§ï¼Œä¿é™©èµ·è§ï¼Œè¿˜æ˜¯åˆ«ç”¨ç½‘å‹1çš„æ–¹æ³•ã€‚

#### å®˜æ–¹æ–¹æ³•1-hashè¡¨

æœ¬é¢˜è€ƒå¯Ÿ å“ˆå¸Œè¡¨ çš„ä½¿ç”¨ï¼Œæœ¬æ–‡ä»‹ç» å“ˆå¸Œè¡¨ å’Œ æœ‰åºå“ˆå¸Œè¡¨ ä¸¤ç§è§£æ³•ã€‚å…¶ä¸­ï¼Œåœ¨å­—ç¬¦ä¸²é•¿åº¦è¾ƒå¤§ã€é‡å¤å­—ç¬¦å¾ˆå¤šæ—¶ï¼Œâ€œæœ‰åºå“ˆå¸Œè¡¨â€ è§£æ³•ç†è®ºä¸Šæ•ˆç‡æ›´é«˜ã€‚

1. éå†å­—ç¬¦ä¸² `s` ï¼Œä½¿ç”¨å“ˆå¸Œè¡¨ç»Ÿè®¡ â€œå„å­—ç¬¦æ•°é‡æ˜¯å¦ > 1>1 â€ã€‚
2. å†éå†å­—ç¬¦ä¸² `s` ï¼Œåœ¨å“ˆå¸Œè¡¨ä¸­æ‰¾åˆ°é¦–ä¸ª â€œæ•°é‡ä¸º 11 çš„å­—ç¬¦â€ï¼Œå¹¶è¿”å›ã€‚

![Picture1.png](lcof.assets/ed093aabc9195caff6d088454eaebe3cad875e8ca4a643c004ef25e4e5e9e174-Picture1.png)

ç®—æ³•æµç¨‹ï¼š

- åˆå§‹åŒ–ï¼š å­—å…¸ (Python)ã€HashMap(Java)ã€map(C++)ï¼Œè®°ä¸º dic ï¼›
- å­—ç¬¦ç»Ÿè®¡ï¼š éå†å­—ç¬¦ä¸² s ä¸­çš„æ¯ä¸ªå­—ç¬¦ c ï¼›
  - è‹¥ dic ä¸­ ä¸åŒ…å« é”®(key) c ï¼šåˆ™å‘ dic ä¸­æ·»åŠ é”®å€¼å¯¹ (c, True) ï¼Œä»£è¡¨å­—ç¬¦ c çš„æ•°é‡ä¸º 11 ï¼›
  - è‹¥ dic ä¸­ åŒ…å« é”®(key) c ï¼šåˆ™ä¿®æ”¹é”® c çš„é”®å€¼å¯¹ä¸º (c, False) ï¼Œä»£è¡¨å­—ç¬¦ c çš„æ•°é‡ > 1>1 ã€‚
- æŸ¥æ‰¾æ•°é‡ä¸º 11 çš„å­—ç¬¦ï¼š éå†å­—ç¬¦ä¸² s ä¸­çš„æ¯ä¸ªå­—ç¬¦ c ï¼›
  - è‹¥ dicä¸­é”® c å¯¹åº”çš„å€¼ä¸º True ï¼šï¼Œåˆ™è¿”å› c ã€‚
- è¿”å› ' ' ï¼Œä»£è¡¨å­—ç¬¦ä¸²æ— æ•°é‡ä¸º 11 çš„å­—ç¬¦ã€‚

å¤æ‚åº¦åˆ†æï¼š

- æ—¶é—´å¤æ‚åº¦ O(N)ï¼š Nä¸ºå­—ç¬¦ä¸² s çš„é•¿åº¦ï¼›éœ€éå† s ä¸¤è½®ï¼Œä½¿ç”¨ O(N)ï¼›HashMap æŸ¥æ‰¾æ“ä½œçš„å¤æ‚åº¦ä¸º O(1) ï¼›
- ç©ºé—´å¤æ‚åº¦ O(1) ï¼š ç”±äºé¢˜ç›®æŒ‡å‡º s åªåŒ…å«å°å†™å­—æ¯ï¼Œå› æ­¤æœ€å¤šæœ‰ 26 ä¸ªä¸åŒå­—ç¬¦ï¼ŒHashMap å­˜å‚¨éœ€å ç”¨ O(26) = O(1)çš„é¢å¤–ç©ºé—´ã€‚

ä»£ç ï¼š

```java
class Solution {
    public char firstUniqChar(String s) {
        HashMap<Character, Boolean> dic = new HashMap<>();
        char[] sc = s.toCharArray();
        for(char c : sc)
            dic.put(c, !dic.containsKey(c));
        for(char c : sc)
            if(dic.get(c)) return c;
        return ' ';
    }
}
```

- æˆ‘ï¼šè¿™ä¸ªè§£æ³•å’Œæˆ‘çš„å¾ˆåƒï¼Œåªæ˜¯å®ƒæ²¡æœ‰å­˜å‚¨sä¸­å­—ç¬¦å‡ºç°çš„å…·ä½“æ•°ç›®ï¼Œè€Œæ˜¯å­˜å‚¨æ˜¯å¦è¶…è¿‡1ä¸ªï¼ˆå¸ƒå°”å€¼ï¼‰
  - ç½‘å‹é’ˆå¯¹æˆ‘çš„å†™æ³•çš„è¯„ä»·ï¼šæˆ‘è§‰å¾— Map ç»“æ„çš„ Value ä½¿ç”¨ Boolean ç±»å‹æ˜¯ä¸€ä¸ªæ›´å¥½çš„é€‰æ‹©ï¼ŒåŸå› å¦‚ä¸‹ï¼š
    1. ä¸€ä¸ªå­—æ¯å‡ºç°çš„æ¬¡æ•°å¤§äº 1 æ¬¡å°±ä¸ç¬¦åˆè¦æ±‚äº†ï¼Œè¿™ä¸ªæ—¶å€™ä½¿ç”¨ Fasle æ ‡è®°çŠ¶æ€ç›¸å¯¹äº Integer çš„ä¸æ–­é€’å¢æ›´åˆç†ï¼Œä¹Ÿæ›´çœç©ºé—´ã€‚
    2. å¸ƒå°”å€¼å¯ä»¥ç”¨æ¥åˆ¤æ–­ï¼Œå¯ä»¥ç®€åŒ–ä»£ç é€»è¾‘ã€‚

#### å®˜æ–¹æ–¹æ³•2-æœ‰åºhashè¡¨æ³•

åœ¨å“ˆå¸Œè¡¨çš„åŸºç¡€ä¸Šï¼Œæœ‰åºå“ˆå¸Œè¡¨ä¸­çš„é”®å€¼å¯¹æ˜¯ **æŒ‰ç…§æ’å…¥é¡ºåºæ’åº** çš„ã€‚åŸºäºæ­¤ï¼Œå¯é€šè¿‡éå†æœ‰åºå“ˆå¸Œè¡¨ï¼Œå®ç°æœç´¢é¦–ä¸ª â€œæ•°é‡ä¸º 11 çš„å­—ç¬¦â€ã€‚

å“ˆå¸Œè¡¨æ˜¯ **å»é‡** çš„ï¼Œå³å“ˆå¸Œè¡¨ä¸­é”®å€¼å¯¹æ•°é‡ â‰¤ å­—ç¬¦ä¸² s çš„é•¿åº¦ã€‚å› æ­¤ï¼Œç›¸æ¯”äºæ–¹æ³•ä¸€ï¼Œæ–¹æ³•äºŒå‡å°‘äº†ç¬¬äºŒè½®éå†çš„å¾ªç¯æ¬¡æ•°ã€‚å½“å­—ç¬¦ä¸²å¾ˆé•¿ï¼ˆé‡å¤å­—ç¬¦å¾ˆå¤šï¼‰æ—¶ï¼Œæ–¹æ³•äºŒåˆ™æ•ˆç‡æ›´é«˜ã€‚

å¤æ‚åº¦åˆ†æï¼š

- æ—¶é—´å’Œç©ºé—´å¤æ‚åº¦å‡ä¸ â€œæ–¹æ³•ä¸€â€ ç›¸åŒï¼Œè€Œå…·ä½“åˆ†æï¼šæ–¹æ³•ä¸€ éœ€éå† s ä¸¤è½®ï¼›æ–¹æ³•äºŒ éå† s ä¸€è½®ï¼Œéå† dic ä¸€è½®ï¼ˆ dic çš„é•¿åº¦ä¸å¤§äº 26 ï¼‰ã€‚

ä»£ç ï¼š

```java
class Solution {
    public char firstUniqChar(String s) {
        Map<Character, Boolean> dic = new LinkedHashMap<>();
        char[] sc = s.toCharArray();
        for(char c : sc)
            dic.put(c, !dic.containsKey(c));
        for(Map.Entry<Character, Boolean> d : dic.entrySet()){
           if(d.getValue()) return d.getKey();
        }
        return ' ';
    }
}
```

- Java ä½¿ç”¨ LinkedHashMap å®ç°æœ‰åºå“ˆå¸Œè¡¨ã€‚

- å­—ç¬¦ä¸²è½¬æ¢ä¸ºå­—ç¬¦æ•°ç»„ï¼š`s.toCharArray();`

- [ä¸ºä»€ä¹ˆè¦ä½¿ç”¨Map.Entry](https://www.cnblogs.com/a198720/articles/4212034.html)



## æœç´¢ä¸å›æº¯ç®—æ³•ï¼ˆç®€å•ï¼‰

### [å‰‘æŒ‡ Offer 32 - I. ä»ä¸Šåˆ°ä¸‹æ‰“å°äºŒå‰æ ‘](https://leetcode-cn.com/problems/cong-shang-dao-xia-da-yin-er-cha-shu-lcof/)

#### é¦–æˆ˜åŠå¯„

```java
/**
 * Definition for a binary tree node.
 * public class TreeNode {
 *     int val;
 *     TreeNode left;
 *     TreeNode right;
 *     TreeNode(int x) { val = x; }
 * }
 */
class Solution {
    public int[] levelOrder(TreeNode root) {
        /*
        ä»ä¸Šå¾€ä¸‹ï¼Œä»å·¦å¾€å³ï¼Œè¿™æ˜¯bfsçš„ç‰¹ç‚¹ã€‚ä½¿ç”¨é˜Ÿåˆ—å®ç°bfsï¼šhttps://www.runoob.com/java/data-queue.html
        Queueæ¥å£è¦ç”¨linkedlistå®ç°ã€‚
         */
        //å¤„ç†ç‰¹æ®Šæƒ…å†µ
        if(root==null)return new int[0];

         //å­˜å‚¨ç»“æœ
         ArrayList<Integer> arrayList=new ArrayList<>();
         //åˆå§‹åŒ–é˜Ÿåˆ—
         Queue <TreeNode> queue=new LinkedList<>();
         queue.offer(root);

        //æŠŠå¤´èŠ‚ç‚¹åŠ å…¥ç»“æœæ•°ç»„åˆ—è¡¨ï¼Œå¹¶æŠŠå·¦å³å­èŠ‚ç‚¹åŠ å…¥é˜Ÿåˆ—
         while(!queue.isEmpty()){
             TreeNode temp=queue.poll();
             arrayList.add(temp.val);
            if(temp.left!=null)
                queue.offer(temp.left);
            if(temp.right!=null)
                queue.offer(temp.right);
         }

         //æŠŠintegeræ•°ç»„åˆ—è¡¨è½¬æ¢æˆintæ•°ç»„ï¼Œè¿™é‡Œåªèƒ½forå¾ªç¯ã€‚https://blog.csdn.net/huanghanqian/article/details/73920439
         int[] result=new int[arrayList.size()];
         for(int i=0;i<arrayList.size();i++){
             //arraylistä¸èƒ½æ•°ç»„å¼è®¿é—®ï¼Œè¦ç”¨getï¼Œä¸èƒ½ç”¨arraylist[i]å½¢å¼è®¿é—®
             result[i]=arrayList.get(i).intValue();
         }
         return result;

    }
}
```

- æ€è·¯æœ‰ï¼Œä½†æ˜¯queueçš„ä½¿ç”¨ï¼Œarraylistè½¬arrayéƒ½æ˜¯å€ŸåŠ©ç½‘ç»œäº†ï¼Œä¸­é—´è¿è¡Œäº†å‡ æ¬¡ã€‚

- æˆ‘æ¨æµ‹ï¼šå•ä¸ªint Integeräº’ç›¸è½¬æ¢å¯ä»¥è‡ªåŠ¨è£…ç®±æ‹†ç®±ï¼›ä½†æ˜¯int[]å’ŒInteger[]äº’ç›¸è½¬æ¢å°±ä¸èƒ½ç›´æ¥è£…ç®±æ‹†ç®±ï¼Œè€Œè¦å¯¹ä¸€ä¸ªä¸ªå…ƒç´ æ‰‹åŠ¨/è‡ªåŠ¨è£…ç®±æ‹†ç®±ï¼›
  - å¦‚æœ¬é¢˜ç›®æ‰€ç¤º`result[i]=arrayList.get(i).intValue();`æ˜¯æ‰‹åŠ¨æ‹†ç®±ï¼Œ`result[i]=arrayList.get(i);`æ˜¯è‡ªåŠ¨æ‹†ç®±ï¼Œäº²æµ‹éƒ½å¯ä»¥æäº¤æˆåŠŸã€‚

#### å®˜æ–¹-bfs

è§£é¢˜æ€è·¯ï¼š

- é¢˜ç›®è¦æ±‚çš„äºŒå‰æ ‘çš„ **ä»ä¸Šè‡³ä¸‹** æ‰“å°ï¼ˆå³æŒ‰å±‚æ‰“å°ï¼‰ï¼Œåˆç§°ä¸ºäºŒå‰æ ‘çš„ **å¹¿åº¦ä¼˜å…ˆæœç´¢**ï¼ˆBFSï¼‰ã€‚
- BFS é€šå¸¸å€ŸåŠ© **é˜Ÿåˆ—** çš„å…ˆå…¥å…ˆå‡ºç‰¹æ€§æ¥å®ç°ã€‚

![Picture0.png](lcof.assets/f824fdd8052ae4ee657365c98633480caf03c60e42e4661797618e318baf8664-Picture0.png)

ç®—æ³•æµç¨‹ï¼š

1. ç‰¹ä¾‹å¤„ç†ï¼š å½“æ ‘çš„æ ¹èŠ‚ç‚¹ä¸ºç©ºï¼Œåˆ™ç›´æ¥è¿”å›ç©ºåˆ—è¡¨ [] ï¼›
2. åˆå§‹åŒ–ï¼š æ‰“å°ç»“æœåˆ—è¡¨ res = [] ï¼ŒåŒ…å«æ ¹èŠ‚ç‚¹çš„é˜Ÿåˆ— queue = [root] ï¼›
3. BFS å¾ªç¯ï¼š å½“é˜Ÿåˆ— queue ä¸ºç©ºæ—¶è·³å‡ºï¼›
   1. å‡ºé˜Ÿï¼š é˜Ÿé¦–å…ƒç´ å‡ºé˜Ÿï¼Œè®°ä¸º nodeï¼›
   2. æ‰“å°ï¼š å°† node.val æ·»åŠ è‡³åˆ—è¡¨ tmp å°¾éƒ¨ï¼›
   3. æ·»åŠ å­èŠ‚ç‚¹ï¼š è‹¥ node çš„å·¦ï¼ˆå³ï¼‰å­èŠ‚ç‚¹ä¸ä¸ºç©ºï¼Œåˆ™å°†å·¦ï¼ˆå³ï¼‰å­èŠ‚ç‚¹åŠ å…¥é˜Ÿåˆ— queue ï¼›
4. è¿”å›å€¼ï¼š è¿”å›æ‰“å°ç»“æœåˆ—è¡¨ res å³å¯ã€‚

å¤æ‚åº¦åˆ†æï¼š

- æ—¶é—´å¤æ‚åº¦ O(N)O(N) ï¼š NN ä¸ºäºŒå‰æ ‘çš„èŠ‚ç‚¹æ•°é‡ï¼Œå³ BFS éœ€å¾ªç¯ NN æ¬¡ã€‚
- ç©ºé—´å¤æ‚åº¦ O(N)O(N) ï¼š æœ€å·®æƒ…å†µä¸‹ï¼Œå³å½“æ ‘ä¸ºå¹³è¡¡äºŒå‰æ ‘æ—¶ï¼Œæœ€å¤šæœ‰ N/2N/2 ä¸ªæ ‘èŠ‚ç‚¹åŒæ—¶åœ¨ queue ä¸­ï¼Œä½¿ç”¨ O(N)O(N) å¤§å°çš„é¢å¤–ç©ºé—´ã€‚

ä»£ç ï¼š

```java
class Solution {
    public int[] levelOrder(TreeNode root) {
        if(root == null) return new int[0];
        Queue<TreeNode> queue = new LinkedList<>(){{ add(root); }};
        ArrayList<Integer> ans = new ArrayList<>();
        while(!queue.isEmpty()) {
            TreeNode node = queue.poll();
            ans.add(node.val);
            if(node.left != null) queue.add(node.left);
            if(node.right != null) queue.add(node.right);
        }
        int[] res = new int[ans.size()];
        for(int i = 0; i < ans.size(); i++)
            res[i] = ans.get(i);
        return res;
    }
}
```

- æˆ‘ï¼šå’Œæˆ‘çš„ä»£ç åŸºæœ¬ä¸€æ ·ã€‚

### [å‰‘æŒ‡ Offer 32 - II. ä»ä¸Šåˆ°ä¸‹æ‰“å°äºŒå‰æ ‘ II](https://leetcode-cn.com/problems/cong-shang-dao-xia-da-yin-er-cha-shu-ii-lcof/)

#### é¦–æˆ˜å‘Šæ·

```java
/**
 * Definition for a binary tree node.
 * public class TreeNode {
 *     int val;
 *     TreeNode left;
 *     TreeNode right;
 *     TreeNode(int x) { val = x; }
 * }
 */
class Solution {
    public List<List<Integer>> levelOrder(TreeNode root) {
        /*
        "I. ä»ä¸Šåˆ°ä¸‹æ‰“å°äºŒå‰æ ‘ ç±»ä¼¼ï¼Œå…³é”®æ˜¯æ€ä¹ˆåˆ¤æ–­ä¸€å±‚çš„èŒƒå›´
        æ‰“ç®—ä½¿ç”¨ä¸¤ä¸ªé˜Ÿåˆ—ï¼Œcurå’Œnext
         */
         //å¤„ç†ç‰¹æ®Šæƒ…å†µ
         if(root==null) return new ArrayList<>();

        Queue<TreeNode> cur =new LinkedList<>();
        Queue<TreeNode> next =new LinkedList<>();
        List<List<Integer>> result=new ArrayList<>();//ArrayListåº•å±‚æ˜¯æ•°ç»„ï¼ŒæŸ¥è¯¢å¿«ã€å¢åˆ æ…¢ï¼›LinkedListåº•å±‚æ˜¯é“¾è¡¨ï¼ŒæŸ¥è¯¢æ…¢ã€å¢åˆ å¿«ã€‚

        cur.offer(root);
        do{
            //ç”¨äºå­˜å‚¨æ¥ä¸‹æ¥çš„é“¾è¡¨ä¸­çš„èŠ‚ç‚¹å€¼
            List<Integer> tempList=new ArrayList<>();
            while(!cur.isEmpty()){
            //å¤„ç†å½“å‰é˜Ÿåˆ—ä¸­çš„æ¯ä¸ªèŠ‚ç‚¹
            TreeNode temp=cur.poll();
            tempList.add(temp.val);
            if(temp.left!=null) next.offer(temp.left);
            if(temp.right!=null) next.offer(temp.right);
            }
            //æŠŠä¸€ä¸ªé˜Ÿåˆ—å¤„ç†å®Œåå¾—åˆ°çš„åˆ—è¡¨ï¼Œå­˜å…¥ç»“æœåˆ—è¡¨
            result.add(tempList);

            //curå¤„ç†å®Œäº†ï¼Œäº¤æ¢curå’Œnextï¼›è®©curå˜æˆå­˜äº†èŠ‚ç‚¹çš„é˜Ÿåˆ—ï¼Œnextå˜æˆç©ºé˜Ÿåˆ—
            Queue<TreeNode> tempQueue=cur;
            cur=next;
            next=tempQueue;

        }while(!cur.isEmpty());//è¿™é‡Œåˆ¤æ–­å½“å‰é˜Ÿåˆ—ä¸ºç©ºï¼Œå®é™…ä¸Šå°±æ˜¯åˆ¤æ–­ä¸Šä¸€è½®é˜Ÿåˆ—å¤„ç†åï¼Œè¿˜æœ‰æ²¡æœ‰èŠ‚ç‚¹è¦å¤„ç†

        return result;

    }
}
```

- æ€è·¯å’ŒçŸ¥è¯†ç‚¹éƒ½çŸ¥é“ï¼Œæœ‰äº›å°è¯­æ³•é”™è¯¯ï¼Œå€ŸåŠ©â€œæ‰§è¡Œä»£ç â€æ”¹äº†ä¸‹ï¼Œå°±æˆåŠŸäº†ã€‚

#### å®˜æ–¹-BFS

è§£é¢˜æ€è·¯ï¼š

> å»ºè®®å…ˆåš é¢è¯•é¢˜32 - I. ä»ä¸Šåˆ°ä¸‹æ‰“å°äºŒå‰æ ‘ å†åšæ­¤é¢˜ï¼Œä¸¤é¢˜ä»…æœ‰å¾®å°åŒºåˆ«ï¼Œå³æœ¬é¢˜éœ€å°† **æ¯ä¸€å±‚æ‰“å°åˆ°ä¸€è¡Œ** ã€‚

I. æŒ‰å±‚æ‰“å°ï¼š é¢˜ç›®è¦æ±‚çš„äºŒå‰æ ‘çš„ ä»ä¸Šè‡³ä¸‹ æ‰“å°ï¼ˆå³æŒ‰å±‚æ‰“å°ï¼‰ï¼Œåˆç§°ä¸ºäºŒå‰æ ‘çš„ å¹¿åº¦ä¼˜å…ˆæœç´¢ï¼ˆBFSï¼‰ã€‚BFS é€šå¸¸å€ŸåŠ© é˜Ÿåˆ— çš„å…ˆå…¥å…ˆå‡ºç‰¹æ€§æ¥å®ç°ã€‚

II. æ¯å±‚æ‰“å°åˆ°ä¸€è¡Œï¼š å°†æœ¬å±‚å…¨éƒ¨èŠ‚ç‚¹æ‰“å°åˆ°ä¸€è¡Œï¼Œå¹¶å°†ä¸‹ä¸€å±‚å…¨éƒ¨èŠ‚ç‚¹åŠ å…¥é˜Ÿåˆ—ï¼Œä»¥æ­¤ç±»æ¨ï¼Œå³å¯åˆ†ä¸ºå¤šè¡Œæ‰“å°ã€‚

![Picture1.png](lcof.assets/59e0600588ffdc2f34b4b563193b56c1f678743637e2754e2a9be0e7facc5d48-Picture1.png)

ç®—æ³•æµç¨‹ï¼š

1. ç‰¹ä¾‹å¤„ç†ï¼š å½“æ ¹èŠ‚ç‚¹ä¸ºç©ºï¼Œåˆ™è¿”å›ç©ºåˆ—è¡¨ [] ï¼›
2. åˆå§‹åŒ–ï¼š æ‰“å°ç»“æœåˆ—è¡¨ res = [] ï¼ŒåŒ…å«æ ¹èŠ‚ç‚¹çš„é˜Ÿåˆ— queue = [root] ï¼›
3. BFS å¾ªç¯ï¼š å½“é˜Ÿåˆ— queue ä¸ºç©ºæ—¶è·³å‡ºï¼›
   1. æ–°å»ºä¸€ä¸ªä¸´æ—¶åˆ—è¡¨ tmp ï¼Œç”¨äºå­˜å‚¨å½“å‰å±‚æ‰“å°ç»“æœï¼›
   2. å½“å‰å±‚æ‰“å°å¾ªç¯ï¼š å¾ªç¯æ¬¡æ•°ä¸ºå½“å‰å±‚èŠ‚ç‚¹æ•°ï¼ˆå³é˜Ÿåˆ— queue é•¿åº¦ï¼‰ï¼›
      1. å‡ºé˜Ÿï¼š é˜Ÿé¦–å…ƒç´ å‡ºé˜Ÿï¼Œè®°ä¸º nodeï¼›
      2. æ‰“å°ï¼š å°† node.val æ·»åŠ è‡³ tmp å°¾éƒ¨ï¼›
      3. æ·»åŠ å­èŠ‚ç‚¹ï¼š è‹¥ node çš„å·¦ï¼ˆå³ï¼‰å­èŠ‚ç‚¹ä¸ä¸ºç©ºï¼Œåˆ™å°†å·¦ï¼ˆå³ï¼‰å­èŠ‚ç‚¹åŠ å…¥é˜Ÿåˆ— queue ï¼›
   3. å°†å½“å‰å±‚ç»“æœ tmp æ·»åŠ å…¥ res ã€‚
4. è¿”å›å€¼ï¼š è¿”å›æ‰“å°ç»“æœåˆ—è¡¨ res å³å¯ã€‚

å¤æ‚åº¦åˆ†æï¼š

- æ—¶é—´å¤æ‚åº¦ O(N) ï¼š Nä¸ºäºŒå‰æ ‘çš„èŠ‚ç‚¹æ•°é‡ï¼Œå³ BFS éœ€å¾ªç¯ N æ¬¡ã€‚
- ç©ºé—´å¤æ‚åº¦ O(N) ï¼š æœ€å·®æƒ…å†µä¸‹ï¼Œå³å½“æ ‘ä¸ºå¹³è¡¡äºŒå‰æ ‘æ—¶ï¼Œæœ€å¤šæœ‰ N/2 ä¸ªæ ‘èŠ‚ç‚¹åŒæ—¶åœ¨ queue ä¸­ï¼Œä½¿ç”¨ O(N)å¤§å°çš„é¢å¤–ç©ºé—´ã€‚

ä»£ç ï¼š

```java
class Solution {
    public List<List<Integer>> levelOrder(TreeNode root) {
        Queue<TreeNode> queue = new LinkedList<>();
        List<List<Integer>> res = new ArrayList<>();
        if(root != null) queue.add(root);
        while(!queue.isEmpty()) {
            List<Integer> tmp = new ArrayList<>();
            for(int i = queue.size(); i > 0; i--) {
                TreeNode node = queue.poll();
                tmp.add(node.val);
                if(node.left != null) queue.add(node.left);
                if(node.right != null) queue.add(node.right);
            }
            res.add(tmp);
        }
        return res;
    }
}

```

- ç½‘å‹ï¼šè¿˜åœ¨æ€è€ƒæ€ä¹ˆåˆ†å±‚æ‰“å°ï¼Œåšä¸»è¿™ä¸ªlen(queue)çš„æ“ä½œå¤ª6äº†
  - æˆ‘ç†è§£ï¼šè¿™è¯´çš„len(queue)å°±æ˜¯i = queue.size()



### [å‰‘æŒ‡ Offer 32 - III. ä»ä¸Šåˆ°ä¸‹æ‰“å°äºŒå‰æ ‘ III](https://leetcode-cn.com/problems/cong-shang-dao-xia-da-yin-er-cha-shu-iii-lcof/)

#### é¦–æˆ˜åŠå¯„

```java
/**
 * Definition for a binary tree node.
 * public class TreeNode {
 *     int val;
 *     TreeNode left;
 *     TreeNode right;
 *     TreeNode(int x) { val = x; }
 * }
 */
class Solution {
    public List<List<Integer>> levelOrder(TreeNode root) {
        /*
        æ€»æ˜¯ä½¿ç”¨dequeä¸ä¼šé”™ï¼Œå®ƒä¹Ÿä»£æ›¿äº†Stackï¼šhttps://blog.csdn.net/devnn/article/details/82716447
         */

         //åˆ›å»ºåŒç«¯é˜Ÿåˆ—;é»˜è®¤èŠ‚ç‚¹lastè¿›firstå‡º;æ³¨æ„ç”¨LinkedListå®ç°Dequeï¼ï¼ï¼
         Deque <TreeNode> deque=new LinkedList<>();
         Deque <TreeNode> deque2=new LinkedList<>();
         if(root!=null) deque.offerLast(root);

         List<List<Integer>> resultList=new ArrayList<>();

         //å†³å®šæ˜¯å¦ä»å·¦(first)å¾€å³ï¼ˆlastï¼‰æ‰“å°èŠ‚ç‚¹;ç¬¬ä¸€è¡Œä»å·¦å¾€å³ï¼Œæ‰€ä»¥åˆå§‹true
         boolean left2right=true;

         while(!deque.isEmpty()){
             List<Integer> tempList=new ArrayList();
             //ä¸èƒ½åœ¨forä¸­åˆ¤æ–­sizeï¼Œå› ä¸ºåŠ äº†å­èŠ‚ç‚¹sizeå°±å˜äº†
             int dequeSize=deque.size();
             for(int i=0;i<dequeSize;i++){
                 //ä»å·¦å¾€å³æ‰“å°èŠ‚ç‚¹ï¼Œå°±å…ˆæ”¾å·¦å­èŠ‚ç‚¹è¿›é˜Ÿåˆ—(é»˜è®¤éƒ½ä»å°¾éƒ¨å…¥)
                if(left2right){
                    TreeNode temp=deque.pollLast();
                    tempList.add(temp.val);
                    //!!!åƒä¸‡ä¸è¦æŠŠnullå­˜å…¥é˜Ÿåˆ—ï¼Œå®ƒä¼šå ç”¨é˜Ÿåˆ—çš„ä¸€ä¸ªä½ç½®ï¼Œä¸”null.val null.leftéƒ½ä¼šå¯¼è‡´é”™è¯¯
                    if(temp.left!=null)deque2.offerLast(temp.left);
                    if(temp.right!=null)deque2.offerLast(temp.right);

                }else{//ä»å³å¾€å·¦æ‰“å°èŠ‚ç‚¹ï¼Œå°±å…ˆæ”¾å³å­èŠ‚ç‚¹è¿›é˜Ÿåˆ—(é»˜è®¤éƒ½ä»å°¾éƒ¨å…¥)
                    TreeNode temp=deque.pollLast();
                    tempList.add(temp.val);
                    if(temp.right!=null)deque2.offerLast(temp.right);
                    if(temp.left!=null)deque2.offerLast(temp.left);

                }
             }
             //æ›´æ”¹èµ°å‘æ ‡å¿—ï¼Œæ¢ä¸€ä¸ªæ–¹å‘çš„å­èŠ‚ç‚¹å…ˆå…¥é˜Ÿåˆ—
             left2right=!left2right;
             resultList.add(tempList);

             Deque <TreeNode> tempDeque=deque;
             deque=deque2;
             deque2=tempDeque;
         }

         return resultList;
    }
}
```

- åšçš„æ—¶å€™å„ç§bugï¼Œå’Œé€»è¾‘å°é”™è¯¯ï¼Œæœ€åç”¨ideaä¸€ä¸‹ä¸‹debugå¼„å‡ºæ¥äº†
- åº”è¯¥æ˜¯ç”¨æ¥å®˜æ–¹æ–¹æ³•2ï¼Œä½†æ˜¯ç¡®å®ç»•ã€‚

#### å®˜æ–¹1-å±‚åºéå† + åŒç«¯é˜Ÿåˆ—

æ€æƒ³ï¼š

- åˆ©ç”¨åŒç«¯é˜Ÿåˆ—çš„ä¸¤ç«¯çš†å¯æ·»åŠ å…ƒç´ çš„ç‰¹æ€§ï¼Œè®¾æ‰“å°åˆ—è¡¨ï¼ˆåŒç«¯é˜Ÿåˆ—ï¼‰ tmp ï¼Œå¹¶è§„å®šï¼š
  - å¥‡æ•°å±‚ åˆ™æ·»åŠ è‡³ tmp å°¾éƒ¨ ï¼Œ
  - å¶æ•°å±‚ åˆ™æ·»åŠ è‡³ tmp å¤´éƒ¨ ã€‚

ç®—æ³•æµç¨‹ï¼š

1. ç‰¹ä¾‹å¤„ç†ï¼š å½“æ ‘çš„æ ¹èŠ‚ç‚¹ä¸ºç©ºï¼Œåˆ™ç›´æ¥è¿”å›ç©ºåˆ—è¡¨ [] ï¼›
2. åˆå§‹åŒ–ï¼š æ‰“å°ç»“æœç©ºåˆ—è¡¨ res ï¼ŒåŒ…å«æ ¹èŠ‚ç‚¹çš„åŒç«¯é˜Ÿåˆ— deque ï¼›
3. BFS å¾ªç¯ï¼š å½“ deque ä¸ºç©ºæ—¶è·³å‡ºï¼›
   1. æ–°å»ºåˆ—è¡¨ tmp ï¼Œç”¨äºä¸´æ—¶å­˜å‚¨å½“å‰å±‚æ‰“å°ç»“æœï¼›
   2. å½“å‰å±‚æ‰“å°å¾ªç¯ï¼š å¾ªç¯æ¬¡æ•°ä¸ºå½“å‰å±‚èŠ‚ç‚¹æ•°ï¼ˆå³ deque é•¿åº¦ï¼‰ï¼›
      1. å‡ºé˜Ÿï¼š é˜Ÿé¦–å…ƒç´ å‡ºé˜Ÿï¼Œè®°ä¸º nodeï¼›
      2. æ‰“å°ï¼š è‹¥ä¸ºå¥‡æ•°å±‚ï¼Œå°† node.val æ·»åŠ è‡³ tmp å°¾éƒ¨ï¼›å¦åˆ™ï¼Œæ·»åŠ è‡³ tmp å¤´éƒ¨ï¼›
      3. æ·»åŠ å­èŠ‚ç‚¹ï¼š è‹¥ node çš„å·¦ï¼ˆå³ï¼‰å­èŠ‚ç‚¹ä¸ä¸ºç©ºï¼Œåˆ™åŠ å…¥ deque ï¼›
   3. å°†å½“å‰å±‚ç»“æœ tmp è½¬åŒ–ä¸º list å¹¶æ·»åŠ å…¥ res ï¼›
4. è¿”å›å€¼ï¼š è¿”å›æ‰“å°ç»“æœåˆ—è¡¨ res å³å¯ï¼›

å¤æ‚åº¦åˆ†æï¼š

- æ—¶é—´å¤æ‚åº¦ O(N) ï¼š Nä¸ºäºŒå‰æ ‘çš„èŠ‚ç‚¹æ•°é‡ï¼Œå³ BFS éœ€å¾ªç¯ Næ¬¡ï¼Œå ç”¨ O(N) ï¼›åŒç«¯é˜Ÿåˆ—çš„é˜Ÿé¦–å’Œé˜Ÿå°¾çš„æ·»åŠ å’Œåˆ é™¤æ“ä½œçš„æ—¶é—´å¤æ‚åº¦å‡ä¸º O(1) ã€‚
- ç©ºé—´å¤æ‚åº¦ O(N) ï¼š æœ€å·®æƒ…å†µä¸‹ï¼Œå³å½“æ ‘ä¸ºæ»¡äºŒå‰æ ‘æ—¶ï¼Œæœ€å¤šæœ‰ N/2 ä¸ªæ ‘èŠ‚ç‚¹ åŒæ—¶ åœ¨ deque ä¸­ï¼Œä½¿ç”¨ O(N)å¤§å°çš„é¢å¤–ç©ºé—´ã€‚

ä»£ç ï¼š

```java
class Solution {
    public List<List<Integer>> levelOrder(TreeNode root) {
        Queue<TreeNode> queue = new LinkedList<>();
        List<List<Integer>> res = new ArrayList<>();
        if(root != null) queue.add(root);
        while(!queue.isEmpty()) {
            LinkedList<Integer> tmp = new LinkedList<>();
            for(int i = queue.size(); i > 0; i--) {
                TreeNode node = queue.poll();
                if(res.size() % 2 == 0) tmp.addLast(node.val); // å¶æ•°å±‚ -> é˜Ÿåˆ—å¤´éƒ¨
                else tmp.addFirst(node.val); // å¥‡æ•°å±‚ -> é˜Ÿåˆ—å°¾éƒ¨
                if(node.left != null) queue.add(node.left);
                if(node.right != null) queue.add(node.right);
            }
            res.add(tmp);
        }
        return res;
    }
}
```

- Java ä¸­å°†é“¾è¡¨ LinkedList ä½œä¸ºåŒç«¯é˜Ÿåˆ—ä½¿ç”¨ï¼ŒLinkedList å¯ä»¥ç”¨addLastå’ŒaddFirstä»é“¾çŠ¶åˆ—è¡¨çš„ä¸¤ç«¯æ’å…¥ã€‚
- æ³¨æ„ï¼šæˆ‘` for(int i = 0; i <queue.size(); i++) `ï¼Œä¼šå¯¼è‡´å¾€é˜Ÿåˆ—åŠ å…ƒç´ åé˜Ÿåˆ—é•¿åº¦å˜åŒ–ï¼Œå¯¼è‡´çš„æ— æ³•æŒ‰å±‚è¾“å‡ºã€‚ä½†æ˜¯é¢˜è§£ä¸­` for(int i = queue.size(); i > 0; i--)`çš„å†™æ³•ï¼Œå°±ä¿è¯ä¸€å±‚çº§çš„èŠ‚ç‚¹æ•°ä¸ä¼šè¢«åç»­åŠ å…¥é˜Ÿåˆ—çš„èŠ‚ç‚¹æ‰€å½±å“ã€‚

#### å®˜æ–¹2-å±‚åºéå† + åŒç«¯é˜Ÿåˆ—ï¼ˆå¥‡å¶å±‚é€»è¾‘åˆ†ç¦»ï¼‰
- æ–¹æ³•ä¸€ä»£ç ç®€çŸ­ã€å®¹æ˜“å®ç°ï¼›ä½†éœ€è¦åˆ¤æ–­æ¯ä¸ªèŠ‚ç‚¹çš„æ‰€åœ¨å±‚å¥‡å¶æ€§ï¼Œå³å†—ä½™äº† NN æ¬¡åˆ¤æ–­ã€‚
- é€šè¿‡å°†å¥‡å¶å±‚é€»è¾‘æ‹†åˆ†ï¼Œå¯ä»¥æ¶ˆé™¤å†—ä½™çš„åˆ¤æ–­ã€‚

ç®—æ³•æµç¨‹ï¼š

![image-20220329165225545](lcof.assets/image-20220329165225545.png)

- ä¸æ–¹æ³•ä¸€å¯¹æ¯”ï¼Œä»… BFS å¾ªç¯ä¸åŒã€‚

- BFS å¾ªç¯ï¼š å¾ªç¯æ‰“å°å¥‡ / å¶æ•°å±‚ï¼Œå½“ deque ä¸ºç©ºæ—¶è·³å‡ºï¼›
  1. æ‰“å°å¥‡æ•°å±‚ï¼š ä»å·¦å‘å³ æ‰“å°ï¼Œå…ˆå·¦åå³ åŠ å…¥ä¸‹å±‚èŠ‚ç‚¹ï¼›
  2. è‹¥ deque ä¸ºç©ºï¼Œè¯´æ˜å‘ä¸‹æ— å¶æ•°å±‚ï¼Œåˆ™è·³å‡ºï¼›
  3. æ‰“å°å¶æ•°å±‚ï¼š ä»å³å‘å·¦ æ‰“å°ï¼Œå…ˆå³åå·¦ åŠ å…¥ä¸‹å±‚èŠ‚ç‚¹ï¼›

å¤æ‚åº¦åˆ†æï¼š

- æ—¶é—´å¤æ‚åº¦ O(N) ï¼š åŒæ–¹æ³•ä¸€ã€‚
- ç©ºé—´å¤æ‚åº¦ O(N)ï¼š åŒæ–¹æ³•ä¸€ã€‚

ä»£ç ï¼š

```java
class Solution {
    public List<List<Integer>> levelOrder(TreeNode root) {
        Deque<TreeNode> deque = new LinkedList<>();
        List<List<Integer>> res = new ArrayList<>();
        if(root != null) deque.add(root);
        while(!deque.isEmpty()) {
            // æ‰“å°å¥‡æ•°å±‚
            List<Integer> tmp = new ArrayList<>();
            for(int i = deque.size(); i > 0; i--) {
                // ä»å·¦å‘å³æ‰“å°
                TreeNode node = deque.removeFirst();
                tmp.add(node.val);
                // å…ˆå·¦åå³åŠ å…¥ä¸‹å±‚èŠ‚ç‚¹
                if(node.left != null) deque.addLast(node.left);
                if(node.right != null) deque.addLast(node.right);
            }
            res.add(tmp);
            if(deque.isEmpty()) break; // è‹¥ä¸ºç©ºåˆ™æå‰è·³å‡º
            // æ‰“å°å¶æ•°å±‚
            tmp = new ArrayList<>();
            for(int i = deque.size(); i > 0; i--) {
                // ä»å³å‘å·¦æ‰“å°
                TreeNode node = deque.removeLast();
                tmp.add(node.val);
                // å…ˆå³åå·¦åŠ å…¥ä¸‹å±‚èŠ‚ç‚¹
                if(node.right != null) deque.addFirst(node.right);
                if(node.left != null) deque.addFirst(node.left);
            }
            res.add(tmp);
        }
        return res;
    }
}

```

- å› ä¸ºå¥‡æ•°å±‚æ—¶ä»firstæ‹¿ï¼Œä»laståŠ ï¼›å¶æ•°å±‚æ˜¯ä»lastæ‹¿ï¼Œä»firståŠ ï¼›ä¸¤è€…åˆ†åˆ«ä»ä¸¤ç«¯æ‹¿ã€‚æ‰€ä»¥å¯ä»¥å¤„ç†å®Œå¥‡æ•°å±‚åç´§æ¥ç€å°±å¤„ç†å¶æ•°å±‚ã€‚
- æœ¬é¢˜ï¼Œå¥‡æ•°å±‚ä»åŒç«¯é˜Ÿåˆ—çš„å·¦è¾¹æ‹¿æ•°ï¼Œå¶æ•°å±‚ä»åŒç«¯é˜Ÿåˆ—çš„å³è¾¹æ‹¿æ•°ã€‚



## æœç´¢ä¸å›æº¯ç®—æ³•(ç®€å•)

### [å‰‘æŒ‡ Offer 26. æ ‘çš„å­ç»“æ„](https://leetcode-cn.com/problems/shu-de-zi-jie-gou-lcof/)

#### é¦–æˆ˜å¯„

- æ€è·¯æ¯”è¾ƒæ··ä¹±ï¼Œæ‹…å¿ƒè‡ªå·±çš„ç®—æ³•ä¼šé€ æˆèŠ‚ç‚¹çš„åå¤åˆ¤æ–­ï¼Œå°±æ”¾å¼ƒäº†

#### å®˜æ–¹-é€’å½’

è§£é¢˜æ€è·¯ï¼š

![image-20220329184634598](lcof.assets/image-20220329184634598.png)

ç®—æ³•æµç¨‹ï¼š

![image-20220329184701480](lcof.assets/image-20220329184701480.png)

å¤æ‚åº¦åˆ†æï¼š

![image-20220329185817677](lcof.assets/image-20220329185817677.png)

ä»£ç ï¼š

```java
/**
 * Definition for a binary tree node.
 * public class TreeNode {
 *     int val;
 *     TreeNode left;
 *     TreeNode right;
 *     TreeNode(int x) { val = x; }
 * }
 */
class Solution {
    public boolean isSubStructure(TreeNode A, TreeNode B) {
        //å¦‚æœå·¦å³èŠ‚ç‚¹æœ‰ç©ºçš„ï¼Œåˆ™è¯´æ˜ä¼ äº†ç©ºæ ‘è¿›æ¥ï¼ŒæŒ‰ç…§é¢˜ç›®è¯´æ˜ï¼Œç©ºæ ‘ä¸å‚ä¸å­—æ•°åˆ¤æ–­ï¼Œç›´æ¥è¿”å›falseã€‚
        if (A == null||B == null ) {
            return false;
        }

        //å·¦å³èŠ‚ç‚¹éƒ½ä¸ä¸ºç©ºï¼Œå¦‚æœå½“å‰èŠ‚ç‚¹ç›¸ç­‰ï¼Œå°±ç»§ç»­åˆ¤æ–­å½“å‰ä¸¤ä¸ªèŠ‚ç‚¹çš„å·¦å³å­æ ‘æ˜¯å¦è¿˜ç¬¦åˆå­ç»“æ„
        if (A.val == B.val && (helper(A.left, B.left) && helper(A.right, B.right))) {
            return true;
        }

        //å¦‚æœä»¥å½“å‰èŠ‚ç‚¹ä¸ºæ ¹çš„æ ‘ä¸ç¬¦åˆï¼Œå°±åˆ¤æ–­Açš„å·¦å­æ ‘æ˜¯å¦åŒ…å«Bï¼Œæˆ–Açš„å³å­æ ‘æ˜¯å¦åŒ…å«B
        return isSubStructure(A.left, B) || isSubStructure(A.right, B);
    }

    private boolean helper(TreeNode root1, TreeNode root2) {
        //å¿…é¡»è¦å…ˆåˆ¤æ–­root2ï¼Œå†åˆ¤æ–­root1ï¼›è¿™æ ·å¦‚é¢˜å¹²ä¸­Bæ ‘çš„4å·èŠ‚ç‚¹çš„å³å­æ ‘ä¸ºç©ºï¼Œä½†æ˜¯Aæ ‘çš„4å·èŠ‚ç‚¹çš„å³å­æ ‘ä¸ä¸ºç©ºï¼Œå…ˆåˆ¤æ–­Bæ ‘ä¸ºç©ºæ‰èƒ½è¿”å›trueã€‚
        if (root2 == null) {
            return true;
        }
        if (root1 == null) {
            return false;
        }
        //å¦‚æœæ ‘çš„è·¯å¾„ä¸Šçš„èŠ‚ç‚¹ç›¸åŒï¼Œç»§ç»­å¾€ä¸‹åˆ¤æ–­
        if (root1.val == root2.val) {
            return helper(root1.left, root2.left) && helper(root1.right, root2.right);
        } else {
            return false;
        }
    }
}
```

- helperä¸“é—¨ç”¨æ¥åˆ¤æ–­å·¦å³å­æ ‘ã€‚



### [å‰‘æŒ‡ Offer 27. äºŒå‰æ ‘çš„é•œåƒ](https://leetcode-cn.com/problems/er-cha-shu-de-jing-xiang-lcof/)

#### é¦–æˆ˜å‘Šæ·

```java
/**
 * Definition for a binary tree node.
 * public class TreeNode {
 *     int val;
 *     TreeNode left;
 *     TreeNode right;
 *     TreeNode(int x) { val = x; }
 * }
 */
class Solution {
    public TreeNode mirrorTree(TreeNode root) {
        /*
        äº¤æ¢æ¯ä¸ªèŠ‚ç‚¹çš„å·¦å³å­èŠ‚ç‚¹ï¼Œå³å¾—åˆ°é•œåƒ
         */
         
         //å¦‚æœåŸæ ‘ä¸ºç©ºï¼Œè¿”å›null
         if(root==null)return null;
        //å¦‚æœåŸæ ‘ä¸ä¸ºç©ºï¼Œåˆ›é€ æ–°æ ‘çš„æ ¹èŠ‚ç‚¹ï¼Œå¹¶é€’å½’æ„å»ºæ–°æ ‘çš„å·¦å³å­èŠ‚ç‚¹ã€‚
         TreeNode result=new TreeNode(root.val);
         result.left=recur(root.right);
         result.right=recur(root.left);

        //è¿”å›æ–°æ ‘
         return result;
    }
    public TreeNode recur(TreeNode root){
        if(root==null) return null;
        
        //è®¾ç½®å¥½å½“å‰èŠ‚ç‚¹å’Œå·¦å³å­èŠ‚ç‚¹
        TreeNode curNode=new TreeNode(root.val);
        curNode.left=recur(root.right);
        curNode.right=recur(root.left);

        //æŠŠå½“å‰èŠ‚ç‚¹è¿”å›ç»™ä¸Šä¸€å±‚é€’å½’
        return curNode;
    }
}
```

#### å®˜æ–¹-é€’å½’

æ€è·¯ä¸ç®—æ³•:

- è¿™æ˜¯ä¸€é“å¾ˆç»å…¸çš„äºŒå‰æ ‘é—®é¢˜ã€‚æ˜¾ç„¶ï¼Œæˆ‘ä»¬ä»æ ¹èŠ‚ç‚¹å¼€å§‹ï¼Œé€’å½’åœ°å¯¹æ ‘è¿›è¡Œéå†ï¼Œå¹¶ä»å¶å­èŠ‚ç‚¹å…ˆå¼€å§‹ç¿»è½¬å¾—åˆ°é•œåƒã€‚å¦‚æœå½“å‰éå†åˆ°çš„èŠ‚ç‚¹root çš„å·¦å³ä¸¤æ£µå­æ ‘éƒ½å·²ç»ç¿»è½¬å¾—åˆ°é•œåƒï¼Œé‚£ä¹ˆæˆ‘ä»¬åªéœ€è¦äº¤æ¢ä¸¤æ£µå­æ ‘çš„ä½ç½®ï¼Œå³å¯å¾—åˆ°ä»¥root ä¸ºæ ¹èŠ‚ç‚¹çš„æ•´æ£µå­æ ‘çš„é•œåƒã€‚

ä»£ç ï¼š

```java
class Solution {
    public TreeNode mirrorTree(TreeNode root) {
        if (root == null) {
            return null;
        }
        TreeNode left = mirrorTree(root.left);
        TreeNode right = mirrorTree(root.right);
        root.left = right;
        root.right = left;
        return root;
    }
}
```

- å®˜æ–¹æ€è·¯å’Œæˆ‘ä¸€æ ·ï¼Œä¸è¿‡æˆ‘è‡ªå»ºäº†ä¸€ä¸ªrecurå‡½æ•°ï¼Œè®©recurä¸“é—¨è´Ÿè´£å­èŠ‚ç‚¹çš„å¤„ç†ï¼Œè®©é€»è¾‘æ›´æ¸…æ™°ã€‚

å¤æ‚åº¦åˆ†æ:

- æ—¶é—´å¤æ‚åº¦ï¼šO(N)ï¼Œå…¶ä¸­ N  ä¸ºäºŒå‰æ ‘èŠ‚ç‚¹çš„æ•°ç›®ã€‚æˆ‘ä»¬ä¼šéå†äºŒå‰æ ‘ä¸­çš„æ¯ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå¯¹æ¯ä¸ªèŠ‚ç‚¹è€Œè¨€ï¼Œæˆ‘ä»¬åœ¨å¸¸æ•°æ—¶é—´å†…äº¤æ¢å…¶ä¸¤æ£µå­æ ‘ã€‚

- ç©ºé—´å¤æ‚åº¦ï¼šO(N) ã€‚ä½¿ç”¨çš„ç©ºé—´ç”±é€’å½’æ ˆçš„æ·±åº¦å†³å®šï¼Œå®ƒç­‰äºå½“å‰èŠ‚ç‚¹åœ¨äºŒå‰æ ‘ä¸­çš„é«˜åº¦ã€‚åœ¨å¹³å‡æƒ…å†µä¸‹ï¼ŒäºŒå‰æ ‘çš„é«˜åº¦ä¸èŠ‚ç‚¹ä¸ªæ•°ä¸ºå¯¹æ•°å…³ç³»ï¼Œå³ O(logN)ã€‚è€Œåœ¨æœ€åæƒ…å†µä¸‹ï¼Œæ ‘å½¢æˆé“¾çŠ¶ï¼Œç©ºé—´å¤æ‚åº¦ä¸º O(N)ã€‚

### [å‰‘æŒ‡ Offer 28. å¯¹ç§°çš„äºŒå‰æ ‘](https://leetcode-cn.com/problems/dui-cheng-de-er-cha-shu-lcof/)

#### é¦–æˆ˜å¯„

```java
/**
 * Definition for a binary tree node.
 * public class TreeNode {
 *     int val;
 *     TreeNode left;
 *     TreeNode right;
 *     TreeNode(int x) { val = x; }
 * }
 */
class Solution {
    public boolean isSymmetric(TreeNode root) {
        /*
        dequeå’Œqueueç”¨linkedlistå®ç°æ˜¯å¯ä»¥å­˜å‚¨nullçš„ï¼ˆå®˜æ–¹ä¸å»ºè®®ï¼‰ï¼Œè¿™æ ·å¯ä»¥ç”¨bfsæ„å»ºé˜Ÿåˆ—ï¼Œä»ä¸¤ç«¯æ‹¿èŠ‚ç‚¹ï¼Œåªè¦ä¸åŒå°±è¿”å›false
         */
        if(root==null)return true;

        Deque<Integer> deque=new LinkedList<>();
        deque.addLast(root.val);
        while(!deque.isEmpty()){
            
            for
        }

    }
}
```

- æ²¡æœ‰å¥½æ–¹æ³•ï¼Œæœ¬æ¥æƒ³ç€ç”¨dequeä»ä¸¤ç«¯å¾€ä¸­é—´æ‹¿æ•°æ¥åˆ¤æ–­å¯¹ç§°ï¼Œä½†æ˜¯åŒæ—¶ä»ä¸¤ç«¯åŒæ—¶æ‹¿æ•°çš„è¯åˆæ— æ³•æ­£å¸¸å½¢æˆä¸‹ä¸€å±‚é˜Ÿåˆ—ã€‚

#### å®˜æ–¹-é€’å½’

è§£é¢˜æ€è·¯ï¼š

![image-20220330162905068](lcof.assets/image-20220330162905068.png)

ç®—æ³•æµç¨‹ï¼š

![image-20220330162925469](lcof.assets/image-20220330162925469.png)

å¤æ‚åº¦åˆ†æï¼š

![image-20220330162944480](lcof.assets/image-20220330162944480.png)

<img src="https://pic.leetcode-cn.com/88916808515487aac3ca24f9c55cbbdf6514f012eea04ec46cc2cc26acf9c4eb-Picture12.png" alt="Picture12.png" style="zoom:25%;" />

ä»£ç ï¼š

ç»†èŠ‚ç‰ˆï¼š

```java
/**
 * Definition for a binary tree node.
 * public class TreeNode {
 *     int val;
 *     TreeNode left;
 *     TreeNode right;
 *     TreeNode(int x) { val = x; }
 * }
 */
class Solution {
    public boolean isSymmetric(TreeNode root) {
        if (root == null) return true;
        return check(root.left, root.right); // æ£€æŸ¥rootçš„å·¦å³å­æ ‘
    }

    private boolean check(TreeNode a, TreeNode b) { 
        if (a == null && b == null) return true; // éƒ½ä¸ºç©º, å¯¹ç§°
        if (a != null && b == null) return false;
        if (a == null && b != null) return false; // åªæœ‰ä¸€è¾¹ä¸ºç©º, ä¸å¯¹ç§°
        if (a.val != b.val) return false; // éƒ½ä¸ä¸ºç©º, ä½†å€¼ä¸ç›¸ç­‰

        boolean outside = check(a.left, b.right); // æ¯”è¾ƒa, bä¸¤æ£µæ ‘çš„å¤–ä¾§
        boolean inside = check(a.right, b.left); // æ¯”è¾ƒa, bä¸¤é¢—æ ‘çš„å†…æµ‹
        return outside && inside; // a, bå†…å¤–ä¾§éƒ½ç›¸ç­‰æ‰å¯¹ç§°
    }
}

```

ç®€å†™ç‰ˆï¼š

```java
class Solution {
    public boolean isSymmetric(TreeNode root) {
        return root == null ? true : recur(root.left, root.right);
    }
    boolean recur(TreeNode L, TreeNode R) {
        if(L == null && R == null) return true;
        if(L == null || R == null || L.val != R.val) return false;
        return recur(L.left, R.right) && recur(L.right, R.left);
    }
}

```

#### å³æ—¶å†æˆ˜æˆåŠŸ

```java
/**
 * Definition for a binary tree node.
 * public class TreeNode {
 *     int val;
 *     TreeNode left;
 *     TreeNode right;
 *     TreeNode(int x) { val = x; }
 * }
 */
class Solution {
    public boolean isSymmetric(TreeNode root) {
        /*å¯¹ç§°æ¯”è¾ƒï¼ŒæŠ“ä½æ ‘çš„å¤–ä¾§å’Œå†…ä¾§ */
        if(root==null)return true;

        //åŸæ ‘æ ¹èŠ‚ç‚¹ä¸ä¸ºç©ºçš„è¯ï¼Œæ¯”è¾ƒå·¦å³å­æ ‘æ˜¯å¦å¯¹ç§°
        return recur(root.left,root.right);
    }
    public boolean recur(TreeNode leftTree,TreeNode rightTree){
        //å¦‚æœä¼ å…¥çš„ä¸¤ä¸ªèŠ‚ç‚¹éƒ½ä¸ºnullï¼Œè¯´æ˜éå†åˆ°æœ¬è·¯åŠ²çš„æœ«å°¾éƒ½æ²¡falseï¼Œè¿”å›ä»£è¡¨æœ¬è·¯åŠ²çš„true
        if(leftTree==null&&rightTree==null) return true;
        //å¦‚æœä¼ å…¥çš„ä¸¤ä¸ªæ ‘æ ¹èŠ‚ç‚¹çš„å€¼ä¸ç›¸åŒï¼Œæˆ–å·¦å³æ ¹èŠ‚ç‚¹æœ‰ä¸€ä¸ªä¸ºç©ºå¦ä¸€ä¸ªä¸æ˜¯ï¼Œåˆ™è¯´æ˜ä¼ å…¥çš„ä¸¤ä¸ªæ ‘ä¸å¯¹ç§°ï¼›æ³¨æ„åˆ¤æ–­nullåœ¨å–valä¹‹å‰åšï¼Œå¦åˆ™å¯èƒ½ç©ºæŒ‡é’ˆå¼‚å¸¸,è¿™å°±è¦åˆ©ç”¨||çš„â€œå¾—åˆ°trueå°±åœæ­¢åˆ¤æ–­çš„ç‰¹æ€§â€
        if((leftTree==null&&rightTree!=null)||(leftTree!=null&&rightTree==null)||(leftTree.val!=rightTree.val))return false;

        //å¦‚æœä¸Šé¢æƒ…å†µéƒ½æ²¡å‘ç”Ÿï¼Œè¯´æ˜ä¼ å…¥çš„ä¸¤ä¸ªæ ‘çš„æ ¹èŠ‚ç‚¹ç›¸åŒï¼Œé€’å½’åˆ¤æ–­è¿™é“¾å„ä¸ªæ ‘æ˜¯å¦ä¸ºå¯¹ç§°çš„ã€‚
        return recur(leftTree.left,rightTree.right)&&recur(leftTree.right,rightTree.left);
    }

}
```

## åŠ¨æ€è§„åˆ’(ç®€å•)

### [å‰‘æŒ‡ Offer 10- I. æ–æ³¢é‚£å¥‘æ•°åˆ—](https://leetcode-cn.com/problems/fei-bo-na-qi-shu-lie-lcof/)

#### é¦–æˆ˜å¯„

å…ˆå°è¯•ç›´æ¥é€’å½’ï¼Œn==43æ—¶ä¼šè¶…æ—¶ï¼Œå› ä¸ºæ‰§è¡Œæ¯ä¸€ä¸ªfibéƒ½ä¼šä¸€ç›´é€’å½’åˆ°0æˆ–1ï¼Œä½†æ˜¯æ¯”å¦‚`return (fib(n-1)+fib(n-2))%1000000007;`è®¡ç®—äº†å·¦è¾¹çš„fib(49)åï¼Œè®¡ç®—å³è¾¹çš„fib(48)æ—¶è¿˜é€’å½’åˆ°åº•ï¼Œæ‰€ä»¥æœ€å¥½æŠŠè®¡ç®—è¿‡çš„ç»“æœä¿å­˜ï¼ä¿å­˜è®¡ç®—ç»“æœåº”è¯¥æ˜¯åŠ¨æ€è§„åˆ’åŒºåˆ«äºé€’å½’çš„ä¸€ä¸ªç‰¹å¾ã€‚

```java
class Solution {
    public int fib(int n) {
        //è®¾å®šè¿”å›æ¡ä»¶
        if(n==0) {
            return 0;
        }else if(n==1) {
            return 1;
        }

        return (fib(n-1)+fib(n-2))%1000000007;
    }
}
```

- ä½†æ˜¯æƒ³ä¸èµ·æ¥æ€ä¹ˆä¿å­˜ç»“æœäº†

#### å®˜æ–¹-åŠ¨æ€è§„åˆ’

è§£é¢˜æ€è·¯ï¼š

![image-20220330174419199](lcof.assets/image-20220330174419199.png)

![image-20220330174432153](lcof.assets/image-20220330174432153.png)

åŠ¨æ€è§„åˆ’è§£æï¼š

![image-20220330174451619](lcof.assets/image-20220330174451619.png)

ç©ºé—´å¤æ‚åº¦ä¼˜åŒ–ï¼š

![image-20220330174517988](lcof.assets/image-20220330174517988.png)

å¾ªç¯æ±‚ä½™æ³• å¤„ç†å¤§æ•°ï¼š

![image-20220330174550027](lcof.assets/image-20220330174550027.png)

å¤æ‚åº¦åˆ†æï¼š

![image-20220330174615495](lcof.assets/image-20220330174615495.png)

ä»£ç ï¼š

```java
class Solution {
    public int fib(int n) {
        int a = 0, b = 1, sum;
        for(int i = 0; i < n; i++){
            sum = (a + b) % 1000000007;
            a = b;
            b = sum;
        }
        return a;
    }
}
```

#### å³æ—¶å†æˆ˜åŠå¯„

```java
class Solution {
    public int fib(int n) {
        /*
        åŠ¨æ€è§„åˆ’ï¼Œå½“å‰å€¼åªä¸å‰ä¸¤ä¸ªå€¼æœ‰å…³ï¼›è®©å€¼ä»å°å¾€å¤§åŠ å³å¯
         */

        //å…ˆè¿”å›ç‰¹æ®Šå€¼ï¼›è¿™æ ·ä¸‹é¢çš„forå¾ªç¯æ‰èƒ½å®‰å…¨åœ°åªæ¥æ”¶n>=2çš„æƒ…å†µ
        if(n==0||n==1)return n;

        int pre2=0,pre1=1;

        //å¾ªç¯å½“å‰çš„iä¸ºè°ï¼Œæ‰§è¡Œå®Œå½“å‰å¾ªç¯ï¼Œå¾—åˆ°çš„sumå³ä¸ºfib(i)
        for(int i=2;i<=n;i++){

            int tempSum=(pre2%1000000007+pre1%1000000007)%1000000007;
            pre2=pre1;
            pre1=tempSum;
        }

        //æœ€åä¸€æ¬¡å¾ªç¯å¾—åˆ°çš„sumå³ä¸ºfib(n)ï¼Œè¿™ä¸ªsumè¢«å¤åˆ¶ç»™pre1äº†
        return pre1;

    }
}
```

- ç¬¬ä¸€æ¬¡æäº¤çš„æ—¶å€™ï¼Œå¿½ç•¥äº†å¤„ç†n==1å’Œ0çš„æƒ…å†µï¼›forå¾ªç¯æ— æ³•å¤„ç†n<2çš„æƒ…å†µï¼Œæ‰€ä»¥è¦åšé¢å¯¹n==1å’Œ0çš„æƒ…å†µæ—¶çš„ç‰¹æ®Šå¤„ç†ã€‚å¦‚ä¸Šå¤„ç†åå°±æäº¤æˆåŠŸäº†ã€‚



### [å‰‘æŒ‡ Offer 10- II. é’è›™è·³å°é˜¶é—®é¢˜](https://leetcode-cn.com/problems/qing-wa-tiao-tai-jie-wen-ti-lcof/)

#### é¦–æˆ˜å‘Šæ·

```java
class Solution {
    public int numWays(int n) {
        /*
        è·³ä¸Šå°é˜¶çš„è·³æ³•ï¼Œè‡³åªä¸å‰ä¸¤æ­¥æœ‰å…³ç³»:è·³åˆ°å½“å‰å°é˜¶çš„æ–¹æ³•æ•°==è·³åˆ°prev1ï¼ˆå‰ä¸€ä¸ªå°é˜¶ï¼‰çš„æ–¹æ³•æ•°+è·³åˆ°prev2çš„æ–¹æ³•æ•°ã€‚
        å› ä¸ºè·³åˆ°å½“å‰å°é˜¶åªæœ‰ä¸¤ç§å¯èƒ½ï¼šä»prev1è·³1ä¸ªå°é˜¶ä¸Šæ¥ï¼Œæˆ–ä»prev2ä¸€è·ƒè·³ä¸¤ä¸ªå°é˜¶ä¸Šæ¥
         */

         if(n==0||n==1)return 1;
         if(n==2)return 2;

        //ä»ç¬¬ä¸‰çº§å°é˜¶å¼€å§‹åŠ¨æ€è§„åˆ’
         int prev1=2,prev2=1;
         //å½“å‰å¾ªç¯ä¸ºiï¼Œåˆ™æ‰§è¡Œå®Œå½“å‰å¾ªç¯æ—¶çš„sumä¸ºè·³åˆ°ç¬¬içº§å°é˜¶çš„è·³æ³•æ•°
         for(int i=3;i<=n;i++){
             int tempSum=(prev1%1000000007+prev2%1000000007)%1000000007;
             prev2=prev1;
             prev1=tempSum;
         }

         return prev1;

    }
}
```

#### å®˜æ–¹-åŠ¨æ€è§„åˆ’

è§£é¢˜æ€è·¯ï¼š

![image-20220330180140749](lcof.assets/image-20220330180140749.png)

- æœ¬é¢˜å’Œæ–æ³¢é‚£å¥‘æ•°åˆ—é—®é¢˜åŸºæœ¬ä¸€æ¨¡ä¸€æ ·ã€‚
- æ³¨æ„å¤§ä½¬è¯„è¯­ï¼šæ­¤ç±»æ±‚ ***å¤šå°‘ç§å¯èƒ½æ€§*** çš„é¢˜ç›®ä¸€èˆ¬éƒ½æœ‰ **é€’æ¨æ€§è´¨** ï¼Œå³ f(n)*f*(*n*) å’Œ f(n-1)*f*(*n*âˆ’1)â€¦f(1)*f*(1) ä¹‹é—´æ˜¯æœ‰è”ç³»çš„ã€‚

å¤æ‚åº¦åˆ†æï¼š

![image-20220330180256791](lcof.assets/image-20220330180256791.png)

ä»£ç ï¼š

```java
class Solution {
    public int numWays(int n) {
        int a = 1, b = 1, sum;
        for(int i = 0; i < n; i++){
            sum = (a + b) % 1000000007;
            a = b;
            b = sum;
        }
        return a;
    }
}
```



### [å‰‘æŒ‡ Offer 63. è‚¡ç¥¨çš„æœ€å¤§åˆ©æ¶¦](https://leetcode-cn.com/problems/gu-piao-de-zui-da-li-run-lcof/)

#### é¦–æˆ˜å‘Šæ·

```java
class Solution {
    public int maxProfit(int[] prices) {
        /*è®°å½•å†å²æœ€å¤§åˆ©æ¶¦ï¼Œå’Œæœ€ä½ä»·æ ¼çš„è‚¡ç¥¨ */
        
        //å¤„ç†ç‰¹æ®Šæƒ…å†µ
        if(prices.length==0)return 0;
        
        int lowP=prices[0];
        int benefit=0;
        for(int i=0;i<prices.length;i++){
            //æ—¶åˆ»æ›´æ–°æœ€å¤§æ”¶ç›Š
            if((prices[i]-lowP)>benefit){
                benefit=prices[i]-lowP;
            }
            //åªè¦ç¢°è§æ›´å°çš„priceå°±ä¿å­˜ï¼Œå› ä¸ºæœªæ¥ç¢°è§ç›¸åŒçš„é«˜å€¼æ—¶ï¼Œè®°å½•ä¸‹æ›´å°çš„lowPå¯ä»¥å¸¦æ¥æ›´å¤§çš„æ”¶å…¥ã€‚
            if(prices[i]<lowP){
                lowP=prices[i];
            }
        }
        
        return benefit;

    }
}
```

#### å®˜æ–¹-åŠ¨æ€è§„åˆ’

è§£é¢˜æ€è·¯ï¼š

![image-20220330192323464](lcof.assets/image-20220330192323464.png)

åŠ¨æ€è§„åˆ’è§£æï¼š

![image-20220330192357464](lcof.assets/image-20220330192357464.png)

æ•ˆç‡ä¼˜åŒ–ï¼š

![image-20220330192427858](lcof.assets/image-20220330192427858.png)

å¤æ‚åº¦åˆ†æï¼š

![image-20220330192446488](lcof.assets/image-20220330192446488.png)

ä»£ç ï¼š

```java
class Solution {
    public int maxProfit(int[] prices) {
        int cost = Integer.MAX_VALUE, profit = 0;
        for(int price : prices) {
            cost = Math.min(cost, price);
            profit =Math.min(profit, price - cost);
        }
        return profit;
    }
}
```

- æ³¨æ„è¿™é‡Œjavaå·¥å…·ç±»æ–¹æ³•`Math.min`å’Œ`Math.min`çš„ç”¨æ³•ã€‚



## åŠ¨æ€è§„åˆ’(ä¸­ç­‰)

### [å‰‘æŒ‡ Offer 42. è¿ç»­å­æ•°ç»„çš„æœ€å¤§å’Œ](https://leetcode-cn.com/problems/lian-xu-zi-shu-zu-de-zui-da-he-lcof/)

#### é¦–æˆ˜å¯„

#### å®˜æ–¹-åŠ¨æ€è§„åˆ’

è§£é¢˜æ€è·¯ï¼š

![image-20220331195848158](lcof.assets/image-20220331195848158.png)

åŠ¨æ€è§„åˆ’è§£æï¼š

![image-20220331195938823](lcof.assets/image-20220331195938823.png)

ç©ºé—´å¤æ‚åº¦é™ä½ï¼š

![image-20220331200048428](lcof.assets/image-20220331200048428.png)

å¤æ‚åº¦åˆ†æï¼š

![image-20220331200117017](lcof.assets/image-20220331200117017.png)

ä»£ç ï¼š

```java
class Solution {
    public int maxSubArray(int[] nums) {
        int res = nums[0];
        for(int i = 1; i < nums.length; i++) {
            nums[i] += Math.max(nums[i - 1], 0);
            res = Math.max(res, nums[i]);
        }
        return res;
    }
}
```

ç½‘å‹è¡¥å……ï¼šæ„Ÿè°¢åˆ†äº«ï¼Œæ€è·¯å¾ˆæ¸…æ™°ï¼Œåªæ˜¯æœ‰ä¸€ç‚¹å»ºè®®ã€‚ å› ä¸ºæœ‰çš„æ—¶å€™ï¼Œé¢˜ç›®è¦æ±‚å¯èƒ½ä¸èƒ½ä¿®æ”¹åŸæœ‰æ•°ç»„ï¼Œè€ƒè™‘åˆ°åœ¨dpåˆ—è¡¨ä¸­ï¼Œdp[i]åªå’Œdp[i-1]æœ‰å…³,æ‰€ä»¥ç”¨ä¸¤ä¸ªå‚æ•°å­˜å‚¨å¾ªç¯è¿‡ç¨‹ä¸­çš„dp[i]å’Œdp[i-1]çš„å€¼å³å¯ï¼Œç©ºé—´å¤æ‚åº¦ä¹Ÿä¸ºO(1)ã€‚ ä»£ç å¦‚ä¸‹ï¼š

```java
class Solution {
    public int maxSubArray(int[] nums) {
        int max = nums[0];
        int former = 0;//ç”¨äºè®°å½•dp[i-1]çš„å€¼ï¼Œå¯¹äºdp[0]è€Œè¨€ï¼Œå…¶å‰é¢çš„dp[-1]=0
        int cur = nums[0];//ç”¨äºè®°å½•dp[i]çš„å€¼
        for(int num:nums){
            cur = num;
            if(former>0) cur +=former;
            if(cur>max) max = cur;
            former=cur;
        }
        return max;
    }
}
```



#### å³æ—¶å†æˆ˜æˆåŠŸ

```java
class Solution {
    public int maxSubArray(int[] nums) {
        /* 
        dpiè¡¨ç¤ºå·²iå·å…ƒç´ ç»“å°¾çš„æœ€å¤§å­æ•°ç»„ï¼Œé‚£ä¹ˆdpi=Max(dp[i-1]+numsi,numsi),æ‰€ä»¥dp[i-1]<0çš„è¯åªèƒ½æ‹–åè…¿å°±æˆªæ‰
        å› ä¸ºæœ€é•¿å­æ•°ç»„æ˜¯è¿ç»­çš„ï¼Œæ‰€ä»¥è¦ä»¥iä¸ºç»“å°¾çš„æ•°ç»„åšdpæ•°ç»„
        */
        //å¤„ç†ç‰¹æ®Šæƒ…å†µ
        if(nums.length==0)return 0;
        if(nums.length==1)return nums[0];

        //ä»æ•°ç»„ç¬¬äºŒä¸ªå…ƒç´ å¼€å§‹å°±dpi
        int curMaxSum=nums[0],historyMaxSum=curMaxSum;
        for(int i=1;i<nums.length;i++){
            if(curMaxSum<0){
                curMaxSum=nums[i];
            }else{
                curMaxSum+=nums[i];
            }

            //åˆ¤æ–­å½“å‰çš„æœ€å¤§å€¼æ˜¯å¦æ¯”ä¹‹å‰æ‰€æœ‰è®°è½½è¿‡çš„æœ€å¤§å€¼éƒ½å¤§ï¼Œéƒ½å¤§çš„è¯æ›´æ–°å†å²æœ€å¤§å€¼
            if(curMaxSum>historyMaxSum){
                historyMaxSum=curMaxSum;
            }
        }

        return historyMaxSum;

    }
}
```



### [å‰‘æŒ‡ Offer 47. ç¤¼ç‰©çš„æœ€å¤§ä»·å€¼](https://leetcode-cn.com/problems/li-wu-de-zui-da-jie-zhi-lcof/)

#### é¦–æˆ˜

```java
        /*
        è¦†å†™äºŒç»´æ•°ç»„ï¼Œåœ¨ç›¸åº”ä½ç½®å†™ä¸Šâ€œä»¥å·¦ä¸Šè§’å‡ºå‘åˆ°å½“å‰ä½ç½®èƒ½æ‹¿åˆ°çš„æœ€å¤§ç¤¼ç‰©â€ï¼Œè¿™ä¸ªç¤¼ç‰©å€¼åªä¸ä¸Šä¸€èŠ‚ç‚¹å’Œå·¦ä¸€èŠ‚ç‚¹æœ‰å…³ã€‚
         */
```

