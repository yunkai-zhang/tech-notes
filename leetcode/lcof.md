## å‰è¨€

ç¬”è®°åè¯è§£é‡Šï¼š

- å¤§æ·ï¼šæŒ‡ç‹¬ç«‹åšå‡ºæ¥ï¼Œå¯èƒ½ç²—å¿ƒå¯¼è‡´æœ‰å°debugä¹Ÿdeå‡ºæ¥äº†
- åŠå¯„ï¼šæœ‰æ€è·¯ä¸”ä»£ç åŸºæœ¬å†™å¯¹äº†ï¼Œä½†æ˜¯åœ¨ä¸è¯¥é”™çš„åœ°æ–¹debugï¼Œæœ€ådeå‡ºæ¥äº†æˆ–è€…æ”¾å¼ƒæœ¬æ€è·¯
- å¯„ï¼šæœ‰æ€è·¯ä½†æ˜¯æ²¡å®Œå…¨å†™å‡ºæ¥ã€‚



## åŸºç¡€çŸ¥è¯†

#### è¾“å…¥è¾“å‡º

1ï¼ŒJavaçš„å¸¸ç”¨è¾“å…¥è¾“å‡ºè¯­å¥https://www.cainiaojc.com/java/java-basic-input-output.html

2ï¼Œscannerç®€å•ä¸€ç‚¹ï¼šhttps://www.runoob.com/java/java-scanner-class.html

```java
//ä»¥è¾“å…¥intä¸ºä¾‹
import java.util.Scanner;

// æ³¨æ„ç±»åå¿…é¡»ä¸º Main, ä¸è¦æœ‰ä»»ä½• package xxx ä¿¡æ¯
public class Main {
    public static void main(String[] args) {
        Scanner in = new Scanner(System.in);
        // æ³¨æ„ hasNext å’Œ hasNextLine çš„åŒºåˆ«
        while (in.hasNextInt()) { // æ³¨æ„ while å¤„ç†å¤šä¸ª case
            int a = in.nextInt();
            int b = in.nextInt();
            System.out.println(a + b);
        }
        in.close();
    }
}
```

- å¯¹å­—ç¬¦å’Œå­—ç¬¦ä¸²è¾“å…¥ç”¨hasNextï¼ˆç¢°åˆ°ç©ºæ ¼å°±ç»“æŸï¼‰å’ŒhasNextLineï¼ˆç¢°åˆ°æ¢è¡Œç¬¦ç»“æŸï¼‰åˆ¤æ–­æ˜¯å¦è¿˜æœ‰è¾“å…¥ï¼›å¹¶é€šè¿‡nextå’ŒnextLineè·å–è¾“å…¥å­—ç¬¦æˆ–å­—ç¬¦ä¸²ã€‚
  - å¯ä»¥ç”¨nextæ¥æ”¶å­—ç¬¦ä¸²ï¼Œç„¶åç”¨charAtæ‹¿åˆ°å­—ç¬¦ä¸²ä¸­çš„æŒ‡å®šå­—ç¬¦ã€‚
- å¯¹æ•´æ•°æˆ–åŒç²¾åº¦æµ®ç‚¹æ•°ï¼Œç”¨hasNextInt,hasNextDoubleæ¥åˆ¤æ–­æ˜¯å¦è¿˜æœ‰è¾“å…¥ï¼›å¹¶é€šè¿‡nextFloatå’ŒnextDoubleè·å–è¾“å…¥æ•´æ•°æˆ–åŒç²¾åº¦æµ®ç‚¹æ•°ã€‚

3ï¼Œ[ç‰›å®¢è¾“å…¥è¾“å‡ºè”ç³»](https://ac.nowcoder.com/acm/contest/5657#question)

- æ¨èbufferreaderã€‚

#### ç±»å‹è½¬æ¢

1ï¼ŒåŒ…è£…ç±» åŸºæœ¬æ•°æ®ç±»å‹ String çš„è½¬æ¢ï¼š

- [1](https://blog.csdn.net/HY845638534/article/details/84669490)

2ï¼Œsetéå†åŠæ•ˆç‡ï¼šhttps://www.cnblogs.com/east7/p/16115176.html



## æ ˆé˜Ÿåˆ—

### [å‰‘æŒ‡ Offer 09. ç”¨ä¸¤ä¸ªæ ˆå®ç°é˜Ÿåˆ—](https://leetcode-cn.com/problems/yong-liang-ge-zhan-shi-xian-dui-lie-lcof/)

#### é¦–æˆ˜å¯„

æœ‰æ€è·¯ä½†æ˜¯ä¸çŸ¥é“æ€ä¹ˆç”¨ä»£ç å®ç°

#### å®˜æ–¹1-åŒæ ˆ

æ€è·¯å’Œç®—æ³•ï¼š

ç»´æŠ¤ä¸¤ä¸ªæ ˆï¼Œç¬¬ä¸€ä¸ªæ ˆæ”¯æŒæ’å…¥æ“ä½œï¼Œç¬¬äºŒä¸ªæ ˆæ”¯æŒåˆ é™¤æ“ä½œã€‚

æ ¹æ®æ ˆå…ˆè¿›åå‡ºçš„ç‰¹æ€§ï¼Œæˆ‘ä»¬æ¯æ¬¡å¾€ç¬¬ä¸€ä¸ªæ ˆé‡Œæ’å…¥å…ƒç´ åï¼Œç¬¬ä¸€ä¸ªæ ˆçš„åº•éƒ¨å…ƒç´ æ˜¯æœ€åæ’å…¥çš„å…ƒç´ ï¼Œç¬¬ä¸€ä¸ªæ ˆçš„é¡¶éƒ¨å…ƒç´ æ˜¯ä¸‹ä¸€ä¸ªå¾…åˆ é™¤çš„å…ƒç´ ã€‚ä¸ºäº†ç»´æŠ¤é˜Ÿåˆ—å…ˆè¿›å…ˆå‡ºçš„ç‰¹æ€§ï¼Œæˆ‘ä»¬å¼•å…¥ç¬¬äºŒä¸ªæ ˆï¼Œç”¨ç¬¬äºŒä¸ªæ ˆç»´æŠ¤å¾…åˆ é™¤çš„å…ƒç´ ï¼Œåœ¨æ‰§è¡Œåˆ é™¤æ“ä½œçš„æ—¶å€™æˆ‘ä»¬é¦–å…ˆçœ‹ä¸‹ç¬¬äºŒä¸ªæ ˆæ˜¯å¦ä¸ºç©ºã€‚å¦‚æœä¸ºç©ºï¼Œæˆ‘ä»¬å°†ç¬¬ä¸€ä¸ªæ ˆé‡Œçš„å…ƒç´ ä¸€ä¸ªä¸ªå¼¹å‡ºæ’å…¥åˆ°ç¬¬äºŒä¸ªæ ˆé‡Œï¼Œè¿™æ ·ç¬¬äºŒä¸ªæ ˆé‡Œå…ƒç´ çš„é¡ºåºå°±æ˜¯å¾…åˆ é™¤çš„å…ƒç´ çš„é¡ºåºï¼Œè¦æ‰§è¡Œåˆ é™¤æ“ä½œçš„æ—¶å€™æˆ‘ä»¬ç›´æ¥å¼¹å‡ºç¬¬äºŒä¸ªæ ˆçš„å…ƒç´ è¿”å›å³å¯ã€‚

- æˆå‘˜å˜é‡
  - ç»´æŠ¤ä¸¤ä¸ªæ ˆ stack1 å’Œ stack2ï¼Œå…¶ä¸­ stack1 æ”¯æŒæ’å…¥æ“ä½œï¼Œstack2 æ”¯æŒåˆ é™¤æ“ä½œ

- æ„é€ æ–¹æ³•
  - åˆå§‹åŒ– stack1 å’Œ stack2 ä¸ºç©º

- æ’å…¥å…ƒç´ 

  æ’å…¥å…ƒç´ å¯¹åº”æ–¹æ³• appendTail

  - stack1 ç›´æ¥æ’å…¥å…ƒç´ 

- åˆ é™¤å…ƒç´ 

  åˆ é™¤å…ƒç´ å¯¹åº”æ–¹æ³• deleteHead

  - å¦‚æœ stack2 ä¸ºç©ºï¼Œåˆ™å°† stack1 é‡Œçš„æ‰€æœ‰å…ƒç´ å¼¹å‡ºæ’å…¥åˆ° stack2 é‡Œ

  - å¦‚æœ stack2 ä»ä¸ºç©ºï¼Œåˆ™è¿”å› -1ï¼Œå¦åˆ™ä» stack2 å¼¹å‡ºä¸€ä¸ªå…ƒç´ å¹¶è¿”å›

ä»£ç ï¼š

```java
class CQueue {
    //ä¸¤ä¸ªæ ˆï¼Œä¸€ä¸ªå‡ºæ ˆï¼Œä¸€ä¸ªå…¥æ ˆ
    private Stack<Integer> stack1;
    private Stack<Integer> stack2;
    
    public CQueue() {
        stack1 = new Stack<>();
        stack2 = new Stack<>();
    }
    
    public void appendTail(int value) {
        stack1.push(value);
    }
    
    public int deleteHead() {
        if(!stack2.isEmpty()){
            return stack2.pop();
        }else{
            while(!stack1.isEmpty()){
                stack2.push(stack1.pop());
            }
            return stack2.isEmpty() ? -1 : stack2.pop();
        }
    }
}
```

- ç½‘å‹é—®ï¼šâ€œè¿™ä¸ªæ–¹å¼ä¸ºä½•åªæ‰“è´¥50%çš„æäº¤ï¼Ÿâ€ã€‚ç½‘å‹ç­”ï¼šâ€œå› ä¸ºStackçš„å®ç°æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œæ€§èƒ½æ¯”LinkedListä½â€ã€‚

å¤æ‚åº¦åˆ†æï¼š

- æ—¶é—´å¤æ‚åº¦ï¼šå¯¹äºæ’å…¥å’Œåˆ é™¤æ“ä½œï¼Œæ—¶é—´å¤æ‚åº¦å‡ä¸º O(1)O(1)ã€‚æ’å…¥ä¸å¤šè¯´ï¼Œå¯¹äºåˆ é™¤æ“ä½œï¼Œè™½ç„¶çœ‹èµ·æ¥æ˜¯ O(n)O(n) çš„æ—¶é—´å¤æ‚åº¦ï¼Œä½†æ˜¯ä»”ç»†è€ƒè™‘ä¸‹æ¯ä¸ªå…ƒç´ åªä¼šã€Œè‡³å¤šè¢«æ’å…¥å’Œå¼¹å‡º stack2 ä¸€æ¬¡ã€ï¼Œå› æ­¤å‡æ‘Šä¸‹æ¥æ¯ä¸ªå…ƒç´ è¢«åˆ é™¤çš„æ—¶é—´å¤æ‚åº¦ä»ä¸º O(1)O(1)ã€‚

- ç©ºé—´å¤æ‚åº¦ï¼šO(n)O(n)ã€‚éœ€è¦ä½¿ç”¨ä¸¤ä¸ªæ ˆå­˜å‚¨å·²æœ‰çš„å…ƒç´ ã€‚

åæ€ï¼š

- 20220302ï¼š
  - ä¸è®°å¾—javaä¸­stackæ€ä¹ˆå®ç°
  - çŸ¥é“ç”¨ä¸¤ä¸ªæ ˆå®ç°é˜Ÿåˆ—ã€‚ä½†æ˜¯é’ˆå¯¹åˆ é™¤ï¼Œæƒ³çš„æ˜¯â€œæ’å…¥é˜Ÿåˆ—ç§»åŠ¨åˆ°åˆ é™¤é˜Ÿåˆ—ï¼Œåˆ é™¤å…ƒç´ åï¼Œè¦æŠŠåˆ é™¤é˜Ÿåˆ—çš„æ‰€æœ‰å…ƒç´ ç§»åŠ¨å›æ’å…¥é˜Ÿåˆ—â€ï¼Œä½†æ˜¯å®é™…ä¸Šä¸éœ€è¦æŠŠåˆ é™¤é˜Ÿåˆ—çš„å…ƒç´ ç§»åŠ¨å›å»ï¼›
    - æ­£ç¡®æ€è·¯å°±æ˜¯å¦‚é¢˜è§£ï¼šåˆ é™¤é˜Ÿåˆ—è´Ÿè´£åˆ é™¤ï¼Œæ’å…¥é˜Ÿåˆ—è´Ÿè´£æ’å…¥ï¼Œåˆ é™¤é˜Ÿåˆ—ç©ºäº†æ‰èƒ½æŠŠå…ƒç´ ä»æ’å…¥é˜Ÿåˆ—ç§»å…¥åˆ é™¤é˜Ÿåˆ—ï¼Œå¦‚æœåˆ é™¤é˜Ÿåˆ—å’Œæ’å…¥é˜Ÿåˆ—åŒæ—¶ä¸ºç©ºåˆ™è¿”å›-1.

#### å³æ—¶å†æˆ˜

1,20220323ï¼Œè°ƒè¯•å¤šæ¬¡åæˆåŠŸï¼š

```java
class CQueue {

    Stack stackIn=null;
    Stack stackOut=null;


    public CQueue() {
        stackIn=new Stack<>();
        stackOut=new Stack<>();
    }
    
        public void appendTail(int value) {
        //å¦‚æœæ˜¯ä¼ å…¥integerç±»å‹ï¼Œè€Œéintçš„è¯ï¼Œè²Œä¼¼ä¼šç»™integerå†åŒ…è£¹ä¸€å±‚ï¼Œå¯¼è‡´å¼‚å¸¸
        stackIn.push(value);
    }

    public int deleteHead() {
        //å¦‚æœå‡ºæ ˆä¸ä¸ºç©ºï¼Œç›´æ¥popä¸€ä¸ªå°±è¡Œã€‚ï¼ï¼ï¼åŒ…è£…ç±»å’ŒåŸºæœ¬æ•°æ®ç±»å‹çš„ç›¸äº’è½¬æ¢
        if(!stackOut.empty()){
            return (int) stackOut.pop();
        }
        //å¦‚æœå‡ºæ ˆä¸ºç©ºï¼Œæ­¤æ—¶è¦åˆ é™¤èŠ‚ç‚¹,å…ˆå°±å¾—æŠŠå…¥æ ˆçš„æ‰€æœ‰èŠ‚ç‚¹ç§»åŠ¨è¿‡æ¥
        else{
            if(stackIn.empty()){
                //å…¥æ ˆä¹Ÿä¸ºç©ºï¼Œè¯´æ˜æ•´ä¸ªé€»è¾‘é˜Ÿåˆ—ä¸ºç©ºï¼Œç›´æ¥è¿”å›-1
                return -1;
            }else{
                //å…¥æ ˆä¸ä¸ºç©ºï¼ŒæŠŠæ‰€æœ‰å…¥æ ˆå…ƒç´ è½¬ç§»åˆ°å‡ºæ ˆï¼›å¹¶å¼¹å‡ºå‡ºæ ˆçš„é¡¶éƒ¨ã€‚
                while(!stackIn.empty()){
                    stackOut.push(stackIn.pop());
                }
                return (int)stackOut.pop();
            }

        }

    }
}

/**
 * Your CQueue object will be instantiated and called as such:
 * CQueue obj = new CQueue();
 * obj.appendTail(value);
 * int param_2 = obj.deleteHead();
 */
```

2,20220323ï¼Œæ”¹è¿›ä»£ç ï¼š

```java
class CQueue {

    Stack <Integer> stackIn=null;
    Stack <Integer> stackOut=null;


    public CQueue() {
        stackIn=new Stack<>();
        stackOut=new Stack<>();
    }
    
        public void appendTail(int value) {
        //ç›´æ¥æŠŠintè½¬åŒ–ä¸ºIntegerå­˜å…¥
        stackIn.push(Integer.valueOf(value));
    }

    public int deleteHead() {
        //å¦‚æœå‡ºæ ˆä¸ä¸ºç©ºï¼Œç›´æ¥popä¸€ä¸ªå°±è¡Œã€‚ï¼ï¼ï¼åŒ…è£…ç±»å’ŒåŸºæœ¬æ•°æ®ç±»å‹çš„ç›¸äº’è½¬æ¢
        if(!stackOut.empty()){
            return stackOut.pop().intValue();
        }
        //å¦‚æœå‡ºæ ˆä¸ºç©ºï¼Œæ­¤æ—¶è¦åˆ é™¤èŠ‚ç‚¹,å…ˆå°±å¾—æŠŠå…¥æ ˆçš„æ‰€æœ‰èŠ‚ç‚¹ç§»åŠ¨è¿‡æ¥
        else{
            if(stackIn.empty()){
                //å…¥æ ˆä¹Ÿä¸ºç©ºï¼Œè¯´æ˜æ•´ä¸ªé€»è¾‘é˜Ÿåˆ—ä¸ºç©ºï¼Œç›´æ¥è¿”å›-1
                return -1;
            }else{
                //å…¥æ ˆä¸ä¸ºç©ºï¼ŒæŠŠæ‰€æœ‰å…¥æ ˆå…ƒç´ è½¬ç§»åˆ°å‡ºæ ˆï¼›å¹¶å¼¹å‡ºå‡ºæ ˆçš„é¡¶éƒ¨ã€‚
                while(!stackIn.empty()){
                    stackOut.push(stackIn.pop());
                }
                //ç”±äºå­˜çš„Integerå¯¹è±¡ï¼Œè¿”å›çš„æ—¶å€™è¦è½¬åŒ–ä¸ºintç±»å‹ã€‚
                return stackOut.pop().intValue();
            }

        }

    }
}

/**
 * Your CQueue object will be instantiated and called as such:
 * CQueue obj = new CQueue();
 * obj.appendTail(value);
 * int param_2 = obj.deleteHead();
 */
```

- æœ¬ä»£ç å› ä¸ºä¸»åŠ¨åŒ…è£…intä¸ºIntegerï¼Œæ€§èƒ½æ›´å·®äº†ï¼Œä½†æ˜¯æ›´ç¬¦åˆæŠŠå¯¹è±¡å­˜å…¥æ ˆçš„æ€æƒ³ã€‚
- `Stack <Integer> stackIn=new Stack<>();`ï¼Œæ³¨æ„æ˜¯åœ¨å‰é¢é™å®šæ³›å‹çš„ç±»å‹ï¼Œåé¢çš„å°–æ‹¬å·å¯ç•™ç©ºç”±ç¼–è¯‘å™¨è‡ªå·±æ¨æµ‹ï¼›ä¸æ­£ç¡®æŒ‡å®šæ³›å‹ç±»å‹çš„è¯ï¼Œä¼šå‡ºç°ä¸€äº›å¥‡æ€ªçš„åŒ…è£…é”™è¯¯ï¼Œæ¯”å¦‚è¯´æœŸå¾…åŒ…è£…æˆintegerå´åŒ…è£…ä¸ºobjectã€‚

- åæ€20220426ï¼šæ ˆä¸æ¨èç”¨stackï¼Œè¿™ä¸ªå·²ç»åºŸå¼ƒäº†ï¼Œç›´æ¥ç”¨dequeä¸ºå¥½ï¼

### [å‰‘æŒ‡ Offer 30. åŒ…å«minå‡½æ•°çš„æ ˆ](https://leetcode-cn.com/problems/bao-han-minhan-shu-de-zhan-lcof/)

#### é¦–æˆ˜å‘Šæ·

```java
class MinStack {

    /** initialize your data structure here. */
    Stack<Integer> myStack=null;
    Stack<Integer> historicalMin=null;
    int min;
    public MinStack() {
        myStack=new Stack<>();
        historicalMin=new Stack<>();
        //ä¸è¦å¿˜è®°ç”¨å¼•å·ç»“å°¾
        min=Integer.MAX_VALUE;
    }
    
    public void push(int x) {
        myStack.push(x);
        
        if(x<=min){
            min=x;
            historicalMin.push(min);
        }
    }
    
    public void pop() {
        int temp=myStack.pop();

        //ä¸è¦è¯¯ç”¨=åˆ¤æ–­ç›¸ç­‰
        if(temp==min){
            historicalMin.pop();
            //å¦‚æœä¸¤ä¸ªæ ˆéƒ½ä¸ºç©ºäº†ï¼Œæ­¤æ—¶å†ç›´æ¥peekä¼šæŠ›å‡ºå¼‚å¸¸ï¼›è¦åˆ¤æ–­hostoricalMinæ˜¯å¦ä¸ºç©º
            if(!historicalMin.empty()){
                min=historicalMin.peek();
            }else{
                min=Integer.MAX_VALUE;
            }
            
        }

    }
    
    public int top() {
        return myStack.peek();
    }
    
    public int min() {
        return min;

    }
}

/**
 * Your MinStack object will be instantiated and called as such:
 * MinStack obj = new MinStack();
 * obj.push(x);
 * obj.pop();
 * int param_3 = obj.top();
 * int param_4 = obj.min();
 */
```

- æ‰§è¡Œåï¼Œæ®æç¤ºå¤„ç†äº†å‡ ä¸ªè¯­æ³•é”™è¯¯ï¼›æäº¤ä¸€æ¬¡åï¼Œå¤„ç†äº†ä¸€ä¸ªé€»è¾‘æ¼æ´ï¼›ç¬¬äºŒæ¬¡æäº¤å®Œæˆã€‚
- å¾…æ”¹è¿›ï¼š
  - è¯»äº†é¢˜è§£åï¼Œæˆ‘å‘ç°ä¸è¯¥åœ¨hostoricalMinä¸ºç©ºæ—¶ï¼ŒæŠŠintgermaxå½“åšminï¼›è€Œåº”è¯¥åœ¨pushæ—¶ï¼Œå‘ç°historicalMinä¸ºç©ºå°±ç›´æ¥å‹å…¥å½“å‰è¢«pushçš„å…ƒç´ ï¼Œè¿™æ ·å°±ä¸å­˜åœ¨æå‰ä¸€æ­¥è®¾ç½®minçš„é—®é¢˜ã€‚
  - åŸºæœ¬æ•°æ®ç±»å‹minå¯ä»¥ä¸è®¾ç½®ï¼Œç›´æ¥ç”¨stack.peek()å°±è¡Œã€‚

---

#### å®˜æ–¹-è¾…åŠ©æ ˆ

è§£é¢˜æ€è·¯ï¼š

æ™®é€šæ ˆçš„ push() å’Œ pop() å‡½æ•°çš„å¤æ‚åº¦ä¸º O(1)O(1) ï¼›è€Œè·å–æ ˆæœ€å°å€¼ min() å‡½æ•°éœ€è¦éå†æ•´ä¸ªæ ˆï¼Œå¤æ‚åº¦ä¸º O(N)O(N) ã€‚

æœ¬é¢˜éš¾ç‚¹ï¼š å°† min() å‡½æ•°å¤æ‚åº¦é™ä¸º O(1)O(1) ï¼Œå¯é€šè¿‡å»ºç«‹è¾…åŠ©æ ˆå®ç°ï¼›

- æ•°æ®æ ˆ Aï¼š æ ˆ Aç”¨äºå­˜å‚¨æ‰€æœ‰å…ƒç´ ï¼Œä¿è¯å…¥æ ˆ push() å‡½æ•°ã€å‡ºæ ˆ pop() å‡½æ•°ã€è·å–æ ˆé¡¶ top() å‡½æ•°çš„æ­£å¸¸é€»è¾‘ã€‚
- è¾…åŠ©æ ˆ B ï¼š æ ˆ B ä¸­å­˜å‚¨æ ˆ AA ä¸­æ‰€æœ‰ éä¸¥æ ¼é™åº çš„å…ƒç´ ï¼Œåˆ™æ ˆ AA ä¸­çš„æœ€å°å…ƒç´ å§‹ç»ˆå¯¹åº”æ ˆ BB çš„æ ˆé¡¶å…ƒç´ ï¼Œå³ min() å‡½æ•°åªéœ€è¿”å›æ ˆ B çš„æ ˆé¡¶å…ƒç´ å³å¯ã€‚

å› æ­¤ï¼Œåªéœ€è®¾æ³•ç»´æŠ¤å¥½ æ ˆ Bçš„å…ƒç´ ï¼Œä½¿å…¶ä¿æŒéä¸¥æ ¼é™åºï¼Œå³å¯å®ç° min() å‡½æ•°çš„ O(1)å¤æ‚åº¦ã€‚

å‡½æ•°è®¾è®¡ï¼š

- push(x) å‡½æ•°ï¼š é‡ç‚¹ä¸ºä¿æŒæ ˆ B çš„å…ƒç´ æ˜¯ éä¸¥æ ¼é™åº çš„ã€‚

  - å°† x å‹å…¥æ ˆ Aï¼ˆå³ A.add(x) ï¼‰ï¼›

  - è‹¥ â‘  æ ˆ BB ä¸ºç©º æˆ– â‘¡ xx å°äºç­‰äº æ ˆ BB çš„æ ˆé¡¶å…ƒç´ ï¼Œåˆ™å°† xx å‹å…¥æ ˆ BB ï¼ˆå³ B.add(x) ï¼‰ã€‚

- pop() å‡½æ•°ï¼š é‡ç‚¹ä¸ºä¿æŒæ ˆ A,B çš„ å…ƒç´ ä¸€è‡´æ€§ ã€‚

  - æ‰§è¡Œæ ˆ AA å‡ºæ ˆï¼ˆå³ A.pop() ï¼‰ï¼Œå°†å‡ºæ ˆå…ƒç´ è®°ä¸º yy ï¼›

  - è‹¥ yy ç­‰äºæ ˆ BB çš„æ ˆé¡¶å…ƒç´ ï¼Œåˆ™æ‰§è¡Œæ ˆ B å‡ºæ ˆï¼ˆå³ B.pop() ï¼‰ã€‚

- top() å‡½æ•°ï¼š ç›´æ¥è¿”å›æ ˆ AA çš„æ ˆé¡¶å…ƒç´ å³å¯ï¼Œå³è¿”å› A.peek() ã€‚

- min() å‡½æ•°ï¼š ç›´æ¥è¿”å›æ ˆ BB çš„æ ˆé¡¶å…ƒç´ å³å¯ï¼Œå³è¿”å› B.peek() ã€‚

å¤æ‚åº¦åˆ†æï¼š

- æ—¶é—´å¤æ‚åº¦ O(1) ï¼š push(), pop(), top(), min() å››ä¸ªå‡½æ•°çš„æ—¶é—´å¤æ‚åº¦å‡ä¸ºå¸¸æ•°çº§åˆ«ã€‚
- ç©ºé—´å¤æ‚åº¦ O(N)ï¼š å½“å…±æœ‰ N ä¸ªå¾…å…¥æ ˆå…ƒç´ æ—¶ï¼Œè¾…åŠ©æ ˆ BB æœ€å·®æƒ…å†µä¸‹å­˜å‚¨ N ä¸ªå…ƒç´ ï¼Œä½¿ç”¨ O(N) é¢å¤–ç©ºé—´ã€‚

ä»£ç ï¼š

Java ä»£ç ä¸­ï¼Œç”±äº Stack ä¸­å­˜å‚¨çš„æ˜¯ int çš„åŒ…è£…ç±» Integer ï¼Œå› æ­¤éœ€è¦ä½¿ç”¨ equals() ä»£æ›¿ == æ¥æ¯”è¾ƒå€¼æ˜¯å¦ç›¸ç­‰ã€‚

```java
class MinStack {
    Stack<Integer> A, B;
    public MinStack() {
        A = new Stack<>();
        B = new Stack<>();
    }
    public void push(int x) {
        A.add(x);
        if(B.empty() || B.peek() >= x)
            B.add(x);
    }
    public void pop() {
        if(A.pop().equals(B.peek()))
            B.pop();
    }
    public int top() {
        return A.peek();
    }
    public int min() {
        return B.peek();
    }
}

```

- æˆ‘ï¼šé‡ç”³ï¼Œæ ˆç”¨dequeå®ç°ï¼
- æˆ‘ï¼šå•è°ƒé˜Ÿåˆ—æ˜¯o1æ‹¿åˆ°é˜Ÿåˆ—çª—å£å†…éƒ¨çš„æœ€å€¼ï¼Œæ˜¯é˜Ÿåˆ—é—®é¢˜ï¼Œé˜Ÿåˆ—æ˜¯å…ˆè¿›å…ˆå‡ºï¼›æœ¬é¢˜æ˜¯æ ˆéµå¾ªå…ˆè¿›åå‡ºï¼Œæ‰€ä»¥ä¸å•è°ƒé˜Ÿåˆ—é—®é¢˜ç›¸åŒºåˆ«ä¸€ä¸‹ï¼æ‰€ä»¥æœ¬é¢˜å®ç°o1æ‹¿åˆ°æ ˆä¸­æœ€å°å€¼å¾ˆç®€å•ï¼Œåªéœ€è¦è¾…åŠ©æ ˆï¼›ä½†æ˜¯çª—å£é˜Ÿåˆ—æƒ³o1æ‹¿åˆ°æœ€å°å€¼å°±åªèƒ½ç”¨å•è°ƒé˜Ÿåˆ—å®ç°äº†ï¼

## é“¾è¡¨

### [å‰‘æŒ‡ Offer 06. ä»å°¾åˆ°å¤´æ‰“å°é“¾è¡¨](https://leetcode-cn.com/problems/cong-wei-dao-tou-da-yin-lian-biao-lcof/)

#### é¦–æˆ˜å‘Šæ·

```java
/**
 * Definition for singly-linked list.
 * public class ListNode {
 *     int val;
 *     ListNode next;
 *     ListNode(int x) { val = x; }
 * }
 */
class Solution {
    //è®°å½•æœ€å¤§é€’å½’æ·±åº¦ï¼Œä»¥ä¾¿å„å±‚å®ç°é€†åºå­˜å…¥æ•°ç»„
    int deepMax;
    int[] array;//arrayåœ¨é€’å½’æœ€åº•å±‚è¢«å»ºç«‹
    public int[] reversePrint(ListNode head) {
        /*
        æ³¨æ„æ•°ç»„åœ¨javaä¸­æ˜¯å¼•ç”¨ä¼ é€’çš„ï¼šhttps://blog.csdn.net/qq_43555323/article/details/84783750;æ‰€ä»¥æ‰€æœ‰é€’å½’å±‚å…±äº«æ•°ç»„ï¼Œä½†æ˜¯é€’å½’æ·±åº¦å‚æ•°ä¸åŒã€‚
        æ‰€ä»¥å¯ä»¥è€ƒè™‘é€’å½’+å¼•ç”¨ä¼ é€’è§£å†³
        */
        return digui(head,0+1);
    }
    //å½¢å‚deepä¸ºæœ¬å±‚çš„æ·±åº¦ï¼Œä¹Ÿå³ä»¥æœ¬å±‚ä¸ºæœ€åèŠ‚ç‚¹çš„è¯ï¼Œæ•°ç»„çš„é•¿åº¦-1ã€‚
    public int[] digui(ListNode head,int deep){
        //å¦‚æœä¼ å…¥çš„å¤´èŠ‚ç‚¹ä¸ä¸ºç©ºï¼Œè¯´æ˜å¯ä»¥ç»§ç»­å¾€ä¸‹é€’å½’ï¼›å°å¿ƒä¸èƒ½ç”¨head.nextåˆ¤æ–­é“¾è¡¨å°¾éƒ¨,å› ä¸ºä¸çŸ¥é“ç»™çš„headæ˜¯å¦ä¸ºç©ºã€‚
        if(head!=null){
            //å…ˆé€’å½’è°ƒç”¨è·å¾—æ•°ç»„
            array = digui(head.next,deep+1);
            //å†æŠŠå½“å‰å…ƒç´ åŠ å…¥æ•°ç»„å¯¹åº”çš„ä½ç½®ï¼›
            array[deepMax-deep]=head.val;

            //åˆ«å¿˜äº†ifå’Œelseéƒ½å¾—æœ‰returnï¼Œå¦åˆ™èµ°ifçš„é€’å½’æ— æ³•è¿”å›
            return array;

        }
        //å¦‚æœèŠ‚ç‚¹ä¸ºç©ºï¼Œåˆ™æœ¬å±‚æ— èŠ‚ç‚¹ï¼›ä¸”åˆ¶é€ æ•°ç»„ï¼Œæ•°ç»„å¤§å°ä¸ºæœ¬å±‚æ·±åº¦-1
        else{
            deepMax=deep-1;
            return new int[deep-1];
        }

    }
}
```

- æˆ‘å’Œä¸€äº›ç½‘å‹ç†è§£ï¼šé€’å½’æœ¬è´¨å°±æ˜¯æ ˆçš„ä½¿ç”¨ï¼Œéšå¼ä½¿ç”¨äº†JVMæ ˆ
- æˆ‘è¿™æ–¹æ³•æ¯”å®˜æ–¹è¿˜å¥½ï¼Œæ²¡æœ‰å ç”¨é¢å¤–ç©ºé—´ï¼›æ—¶é—´å¤æ‚åº¦ä¸€è‡´ï¼›æœ€é«˜èµéå®˜æ–¹è§£ç”¨çš„ä¹Ÿæ˜¯é€’å½’ã€‚
- æˆ‘20220426ï¼šé€’å½’å‡½æ•°ä¼ å‚å®¹æ˜“æŠŠè‡ªå·±å¼„æ··ï¼Œä¸€èˆ¬æœ€å¥½ä½¿ç”¨å…¨å±€å˜é‡å’Œæ•°ç»„ï¼›ä¸è¿‡æœ¬é¢˜é€’å½’ç”¨åˆ°äº†æœ¬åœ°å˜é‡deepå€’åºè®°å½•é€’å½’å±‚çº§ï¼Œæ‰€ä»¥è¿™é‡Œä¸æ¨èä½¿ç”¨å…¨å±€å˜é‡ã€‚

---

#### å®˜æ–¹-ä½¿ç”¨æ ˆ

æ€è·¯ï¼š

æ ˆçš„ç‰¹ç‚¹æ˜¯åè¿›å…ˆå‡ºï¼Œå³æœ€åå‹å…¥æ ˆçš„å…ƒç´ æœ€å…ˆå¼¹å‡ºã€‚è€ƒè™‘åˆ°æ ˆçš„è¿™ä¸€ç‰¹ç‚¹ï¼Œä½¿ç”¨æ ˆå°†é“¾è¡¨å…ƒç´ é¡ºåºå€’ç½®ã€‚ä»é“¾è¡¨çš„å¤´èŠ‚ç‚¹å¼€å§‹ï¼Œä¾æ¬¡å°†æ¯ä¸ªèŠ‚ç‚¹å‹å…¥æ ˆå†…ï¼Œç„¶åä¾æ¬¡å¼¹å‡ºæ ˆå†…çš„å…ƒç´ å¹¶å­˜å‚¨åˆ°æ•°ç»„ä¸­ã€‚

- åˆ›å»ºä¸€ä¸ªæ ˆï¼Œç”¨äºå­˜å‚¨é“¾è¡¨çš„èŠ‚ç‚¹
- åˆ›å»ºä¸€ä¸ªæŒ‡é’ˆï¼Œåˆå§‹æ—¶æŒ‡å‘é“¾è¡¨çš„å¤´èŠ‚ç‚¹
- å½“æŒ‡é’ˆæŒ‡å‘çš„å…ƒç´ éç©ºæ—¶ï¼Œé‡å¤ä¸‹åˆ—æ“ä½œï¼š
  - å°†æŒ‡é’ˆæŒ‡å‘çš„èŠ‚ç‚¹å‹å…¥æ ˆå†…
  - å°†æŒ‡é’ˆç§»åˆ°å½“å‰èŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹
- è·å¾—æ ˆçš„å¤§å° sizeï¼Œåˆ›å»ºä¸€ä¸ªæ•°ç»„ printï¼Œå…¶å¤§å°ä¸º size
- åˆ›å»ºä¸‹æ ‡å¹¶åˆå§‹åŒ– index = 0
- é‡å¤ size æ¬¡ä¸‹åˆ—æ“ä½œï¼š
  - ä»æ ˆå†…å¼¹å‡ºä¸€ä¸ªèŠ‚ç‚¹ï¼Œå°†è¯¥èŠ‚ç‚¹çš„å€¼å­˜åˆ° print[index]
  - å°† index çš„å€¼åŠ  1
- è¿”å› print

ä»£ç ï¼š

```java

/**
 * Definition for singly-linked list.
 * public class ListNode {
 *     int val;
 *     ListNode next;
 *     ListNode(int x) { val = x; }
 * }
 */
class Solution {
    public int[] reversePrint(ListNode head) {
        Stack<ListNode> stack = new Stack<ListNode>();
        ListNode temp = head;
        while (temp != null) {
            stack.push(temp);
            temp = temp.next;
        }
        int size = stack.size();
        int[] print = new int[size];
        for (int i = 0; i < size; i++) {
            print[i] = stack.pop().val;
        }
        return print;
    }
}

```

- è¿™ç§å€’ç€å¤„ç†çš„ï¼Œå°±å¯ä»¥æƒ³åˆ°æ ˆ æˆ–é€’å½’ï¼
- æˆ‘ï¼šé‡ç”³é˜Ÿåˆ—ç”¨dequeã€‚

å¤æ‚æ€§åˆ†æï¼š

- æ—¶é—´å¤æ‚åº¦ï¼šO(n)ã€‚æ­£å‘éå†ä¸€éé“¾è¡¨ï¼Œç„¶åä»æ ˆå¼¹å‡ºå…¨éƒ¨èŠ‚ç‚¹ï¼Œç­‰äºåˆåå‘éå†ä¸€éé“¾è¡¨ã€‚

- ç©ºé—´å¤æ‚åº¦ï¼šO(n)ã€‚é¢å¤–ä½¿ç”¨ä¸€ä¸ªæ ˆå­˜å‚¨é“¾è¡¨ä¸­çš„æ¯ä¸ªèŠ‚ç‚¹ã€‚



### [å‰‘æŒ‡ Offer 24. åè½¬é“¾è¡¨](https://leetcode-cn.com/problems/fan-zhuan-lian-biao-lcof/)

#### é¦–æˆ˜å¯„

```java
/**
 * Definition for singly-linked list.
 * public class ListNode {
 *     int val;
 *     ListNode next;
 *     ListNode(int x) { val = x; }
 * }
 */
class Solution {
    /*
    åè½¬ï¼Œä¸€å¼€å§‹æƒ³åˆ°è¦ç”¨æ ˆç»“æ„ï¼Œå¦‚ç”¨é€’å½’è§£å†³ï¼›ä½†æ˜¯é€’å½’è¿”å›çš„å¤´ç»“ç‚¹æ˜¯åŸèŠ‚ç‚¹çš„æœ«å°¾æ²¡é”™ï¼Œå¯æ˜¯æƒ³æŠŠå½“å‰èŠ‚ç‚¹æ”¾åˆ°é€†é“¾è¡¨çš„å°¾éƒ¨çš„è¯
    å´ä¸èƒ½ç›´æ¥é€šè¿‡å¤´èŠ‚ç‚¹ç›´æ¥æ”¾ç½®ï¼Œå› ä¸ºå¤´èŠ‚ç‚¹çš„åç»­æ°¸è¿œéƒ½æ˜¯å€’æ•°ç¬¬äºŒä¸ªèŠ‚ç‚¹ï¼Œè¦å¤šæ¬¡nextæ‰èƒ½æ”¾åˆ°å°¾éƒ¨ï¼Œå¾ˆéº»çƒ¦ã€‚

    æ¢ç§æ€è·¯ï¼Œåœ¨æ¯å±‚é€’å½’æ—¶ï¼Œäº¤æ¢èŠ‚ç‚¹æŒ‡å‘ï¼›å¹¶è®°å½•é€†é“¾è¡¨çš„å¤´ç»“ç‚¹å³å¯ã€‚
     */
    ListNode resultHead,resultTail,temp; 
    public ListNode reverseList(ListNode head) {
        //resultTailä¿å­˜å°¾èŠ‚ç‚¹ï¼Œæœ€åæ‰èƒ½è®©å°¾èŠ‚ç‚¹æŒ‡å‘null
        resultTail=head;
        //ç¿»è½¬é“¾è¡¨
        recur(head);
        //æ‰èƒ½è®©ç¿»è½¬é“¾è¡¨çš„å°¾èŠ‚ç‚¹æŒ‡å‘null
        resultTail.next=null;

        return resultHead;
    }
    //å› ä¸ºé€†é“¾è¡¨æœ«å°¾éœ€è¦ä¸ºnullï¼Œè€Œä¸æ˜¯ä¸¤ä¸ªèŠ‚ç‚¹ç»„æˆå°ç¯ï¼Œå¿…é¡»æŠŠé€’å½’æå‡ºæ¥
    public void recur(ListNode head){
        //å¦‚æœä¼ å…¥èŠ‚ç‚¹ä¸ºç©ºï¼Œè¯´æ˜æ˜¯ç©ºé“¾è¡¨ï¼Œç›´æ¥é€€å‡ºå‡½æ•°ï¼Œè®©reverseListè¿”å›ç©ºçš„resultHeadèŠ‚ç‚¹
        if(head==null){
            //æ³¨æ„voidä¸èƒ½æœ‰è¿”å›å€¼ï¼Œå¯ä»¥ç”¨returnæ˜¯æœ¬å±‚é€’å½’é€€æ ˆ
            return;
        }
        //å¦‚æœå½“å‰ä¼ å…¥èŠ‚ç‚¹ä¸ä¸ºç©ºï¼Œè¯´æ˜è‡³å°‘æœ‰ä¸€ä¸ªèŠ‚ç‚¹
        else{
            //å¦‚æœä¸‹ä¸€èŠ‚ç‚¹ä¸ºç©ºï¼Œè¯´æ˜å½“å‰èŠ‚ç‚¹æ˜¯é€†é“¾è¡¨çš„å¤´ï¼Œç”¨resultHeadå¼•ç”¨å®ƒï¼Œä¿å­˜å¥½é€†é“¾è¡¨çš„å¤´ï¼›å› ä¸ºå¯¹è±¡ç»™æ–¹æ³•æ—¶ç»™çš„æ˜¯åœ°å€ï¼Œæ‰€ä»¥ä¸åŒå±‚çš„é€’å½’ä¿®æ”¹æ˜¯äº’ç›¸å½±å“çš„ã€‚æ­¤æ—¶ä¸éœ€è¦äº¤æ¢æœ¬èŠ‚ç‚¹ä¸ä¸‹ä¸€èŠ‚ç‚¹ï¼ˆæ¯•ç«Ÿä¸‹ä¸€èŠ‚ç‚¹ä¸ºç©ºï¼‰çš„æŒ‡å‘ã€‚
            if(head.next==null){
                resultHead=head;
            }
            //å¦‚æœä¸‹ä¸€èŠ‚ç‚¹ä¸ä¸ºç©ºï¼Œäº¤æ¢å½“å‰èŠ‚ç‚¹å’Œä¸‹ä¸€èŠ‚ç‚¹çš„æŒ‡å‘
            else{
                //äº¤æ¢æŒ‡å‘ï¼›ä¸€å®šè¦ç”¨tempï¼Œå¦åˆ™é“¾è¡¨ä¼šåœ¨head.nextåæ–­å¼€
                temp.next=head
                ???è¦å¤šä¸ªæŒ‡é’ˆ
                temp=head.next.next;
                head.next.next=head;
                //ä¿è¯é€†é“¾è¡¨çš„å°¾ç»“ç‚¹ä¸ºnull
                //head.next=null;
            }

        }
    }
}
```

- æƒ³æƒ³ç”¨é€’å½’å•æŒ‡é’ˆï¼Œä½†æ˜¯é€»è¾‘ä¸Šæ²¡ç†æ¸…ï¼›å°è¯•é€’å½’+åŒæŒ‡é’ˆæ—¶å°±æ”¾å¼ƒäº†

- ç½‘å‹ï¼šé“¾è¡¨é¢˜å¿…é¡»ç”»å›¾

#### å®˜æ–¹-æ–¹æ³•ä¸€ï¼šè¿­ä»£

![image-20220325152101750](lcof.assets/image-20220325152101750.png)

åœ¨éå†é“¾è¡¨æ—¶ï¼Œå°†å½“å‰èŠ‚ç‚¹çš„ \textit{next}next æŒ‡é’ˆæ”¹ä¸ºæŒ‡å‘å‰ä¸€ä¸ªèŠ‚ç‚¹ã€‚ç”±äºèŠ‚ç‚¹æ²¡æœ‰å¼•ç”¨å…¶å‰ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå› æ­¤å¿…é¡»äº‹å…ˆå­˜å‚¨å…¶å‰ä¸€ä¸ªèŠ‚ç‚¹ã€‚åœ¨æ›´æ”¹å¼•ç”¨ä¹‹å‰ï¼Œè¿˜éœ€è¦å­˜å‚¨åä¸€ä¸ªèŠ‚ç‚¹ã€‚æœ€åè¿”å›æ–°çš„å¤´å¼•ç”¨ã€‚

```java
class Solution {
    public ListNode reverseList(ListNode head) {
        ListNode prev = null;
        ListNode curr = head;
        while (curr != null) {
            ListNode next = curr.next;
            curr.next = prev;
            prev = curr;
            curr = next;
        }
        return prev;
    }
}
```

å¤æ‚åº¦åˆ†æ

- æ—¶é—´å¤æ‚åº¦ï¼šO(n)ï¼Œå…¶ä¸­ n æ˜¯é“¾è¡¨çš„é•¿åº¦ã€‚éœ€è¦éå†é“¾è¡¨ä¸€æ¬¡ã€‚
- ç©ºé—´å¤æ‚åº¦ï¼šO(1)ã€‚

#### å®˜æ–¹-æ–¹æ³•äºŒï¼šé€’å½’

é€’å½’ç‰ˆæœ¬ç¨å¾®å¤æ‚ä¸€äº›ï¼Œå…¶å…³é”®åœ¨äºåå‘å·¥ä½œã€‚å‡è®¾é“¾è¡¨çš„å…¶ä½™éƒ¨åˆ†å·²ç»è¢«åè½¬ï¼Œç°åœ¨åº”è¯¥å¦‚ä½•åè½¬å®ƒå‰é¢çš„éƒ¨åˆ†ï¼Ÿ

å‡è®¾é“¾è¡¨ä¸ºï¼š

![image-20220325152508307](lcof.assets/image-20220325152508307.png)

```java
class Solution {
    public ListNode reverseList(ListNode head) {
        if (head == null || head.next == null) {
            return head;
        }
        ListNode newHead = reverseList(head.next);
        head.next.next = head;
        head.next = null;
        return newHead;
    }
}

```

å¤æ‚åº¦åˆ†æ:

- æ—¶é—´å¤æ‚åº¦ï¼šO(n)ï¼Œå…¶ä¸­ n æ˜¯é“¾è¡¨çš„é•¿åº¦ã€‚éœ€è¦å¯¹é“¾è¡¨çš„æ¯ä¸ªèŠ‚ç‚¹è¿›è¡Œåè½¬æ“ä½œã€‚

- ç©ºé—´å¤æ‚åº¦ï¼šO(n)ï¼Œå…¶ä¸­ n æ˜¯é“¾è¡¨çš„é•¿åº¦ã€‚ç©ºé—´å¤æ‚åº¦ä¸»è¦å–å†³äºé€’å½’è°ƒç”¨çš„æ ˆç©ºé—´ï¼Œæœ€å¤šä¸º n å±‚ã€‚

#### å³æ—¶å†æˆ˜-æˆåŠŸ

```java
/**
 * Definition for singly-linked list.
 * public class ListNode {
 *     int val;
 *     ListNode next;
 *     ListNode(int x) { val = x; }
 * }
 */
class Solution {
    ListNode newHead;
    public ListNode reverseList(ListNode head) {
        //è®¾ç½®é€’å½’è¿”å›æ¡ä»¶
        if(head==null||head.next==null){
            return head;
        }else{//åªæœ‰ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ä¸ä¸ºç©ºï¼Œå°±è®©ä¸‹ä¸€ä¸ªèŠ‚ç‚¹æŒ‡å‘æœ¬èŠ‚ç‚¹ï¼Œæœ¬èŠ‚ç‚¹æŒ‡å‘ç©ºï¼ˆä¿è¯å°¾èŠ‚ç‚¹æŒ‡å‘äº†nullï¼‰
            newHead=reverseList(head.next);
            //å¿…é¡»æŠŠåè½¬é“¾è¡¨æ”¾åœ¨é€’å½’åé¢ï¼Œæ‰èƒ½åˆ©ç”¨é€€æ ˆæ—¶çš„é€†åº
            head.next.next=head;
            head.next=null;
            return newHead;

        }

    }
}
```

- è¿˜æ˜¯ç”¨çš„é€’å½’æ³•



### [å‰‘æŒ‡ Offer 35. å¤æ‚é“¾è¡¨çš„å¤åˆ¶](https://leetcode-cn.com/problems/fu-za-lian-biao-de-fu-zhi-lcof/)

#### é¦–æˆ˜å¯„

ä¸çŸ¥é“æ€ä¹ˆå†™

----

#### å®˜æ–¹-è§£é¢˜æ€è·¯

æ™®é€šé“¾è¡¨çš„èŠ‚ç‚¹å®šä¹‰å¦‚ä¸‹ï¼š

```java
// Definition for a Node.
class Node {
    int val;
    Node next;
    public Node(int val) {
        this.val = val;
        this.next = null;
    }
}

```

æœ¬é¢˜é“¾è¡¨çš„èŠ‚ç‚¹å®šä¹‰å¦‚ä¸‹ï¼š

```java
// Definition for a Node.
class Node {
    int val;
    Node next, random;
    public Node(int val) {
        this.val = val;
        this.next = null;
        this.random = null;
    }
}

```

ç»™å®šé“¾è¡¨çš„å¤´èŠ‚ç‚¹ head ï¼Œå¤åˆ¶æ™®é€šé“¾è¡¨å¾ˆç®€å•ï¼Œåªéœ€éå†é“¾è¡¨ï¼Œæ¯è½®å»ºç«‹æ–°èŠ‚ç‚¹ + æ„å»ºå‰é©±èŠ‚ç‚¹ pre å’Œå½“å‰èŠ‚ç‚¹ node çš„å¼•ç”¨æŒ‡å‘å³å¯ã€‚

æœ¬é¢˜é“¾è¡¨çš„èŠ‚ç‚¹æ–°å¢äº† random æŒ‡é’ˆï¼ŒæŒ‡å‘é“¾è¡¨ä¸­çš„ ä»»æ„èŠ‚ç‚¹ æˆ–è€… null ã€‚è¿™ä¸ª random æŒ‡é’ˆæ„å‘³ç€åœ¨å¤åˆ¶è¿‡ç¨‹ä¸­ï¼Œé™¤äº†æ„å»ºå‰é©±èŠ‚ç‚¹å’Œå½“å‰èŠ‚ç‚¹çš„å¼•ç”¨æŒ‡å‘ pre.next ï¼Œè¿˜è¦æ„å»ºå‰é©±èŠ‚ç‚¹å’Œå…¶éšæœºèŠ‚ç‚¹çš„å¼•ç”¨æŒ‡å‘ pre.random ã€‚

æœ¬é¢˜éš¾ç‚¹ï¼š åœ¨å¤åˆ¶é“¾è¡¨çš„è¿‡ç¨‹ä¸­æ„å»ºæ–°é“¾è¡¨å„èŠ‚ç‚¹çš„ random å¼•ç”¨æŒ‡å‘:

```java
class Solution {
    public Node copyRandomList(Node head) {
        Node cur = head;
        Node dum = new Node(0), pre = dum;
        while(cur != null) {
            Node node = new Node(cur.val); // å¤åˆ¶èŠ‚ç‚¹ cur
            pre.next = node;               // æ–°é“¾è¡¨çš„ å‰é©±èŠ‚ç‚¹ -> å½“å‰èŠ‚ç‚¹
            // pre.random = "???";         // æ–°é“¾è¡¨çš„ ã€Œ å‰é©±èŠ‚ç‚¹ -> å½“å‰èŠ‚ç‚¹ ã€ æ— æ³•ç¡®å®š
            cur = cur.next;                // éå†ä¸‹ä¸€èŠ‚ç‚¹
            pre = node;                    // ä¿å­˜å½“å‰æ–°èŠ‚ç‚¹
        }
        return dum.next;
    }
}
```

> æœ¬æ–‡ä»‹ç» ã€Œå“ˆå¸Œè¡¨ã€ ï¼Œã€Œæ‹¼æ¥ + æ‹†åˆ†ã€ ä¸¤ç§æ–¹æ³•ã€‚å“ˆå¸Œè¡¨æ–¹æ³•æ¯”è¾ƒç›´è§‚ï¼›æ‹¼æ¥ + æ‹†åˆ†æ–¹æ³•çš„ç©ºé—´å¤æ‚åº¦æ›´ä½ã€‚

#### å®˜æ–¹-æ–¹æ³•ä¸€ï¼šå“ˆå¸Œè¡¨

åˆ©ç”¨å“ˆå¸Œè¡¨çš„æŸ¥è¯¢ç‰¹ç‚¹ï¼Œè€ƒè™‘æ„å»º åŸé“¾è¡¨èŠ‚ç‚¹ å’Œ æ–°é“¾è¡¨å¯¹åº”èŠ‚ç‚¹ çš„é”®å€¼å¯¹æ˜ å°„å…³ç³»ï¼Œå†éå†æ„å»ºæ–°é“¾è¡¨å„èŠ‚ç‚¹çš„ next å’Œ random å¼•ç”¨æŒ‡å‘å³å¯ã€‚

ç®—æ³•æµç¨‹ï¼š

1. è‹¥å¤´èŠ‚ç‚¹ head ä¸ºç©ºèŠ‚ç‚¹ï¼Œç›´æ¥è¿”å› null ï¼›
2. åˆå§‹åŒ–ï¼š å“ˆå¸Œè¡¨ dic ï¼Œ èŠ‚ç‚¹ cur æŒ‡å‘å¤´èŠ‚ç‚¹ï¼›
3. å¤åˆ¶é“¾è¡¨ï¼š
   1. å»ºç«‹æ–°èŠ‚ç‚¹ï¼Œå¹¶å‘ dic æ·»åŠ é”®å€¼å¯¹ (åŸ cur èŠ‚ç‚¹, æ–° cur èŠ‚ç‚¹ï¼‰ ï¼›
   2. cur éå†è‡³åŸé“¾è¡¨ä¸‹ä¸€èŠ‚ç‚¹ï¼›
4. æ„å»ºæ–°é“¾è¡¨çš„å¼•ç”¨æŒ‡å‘ï¼š
   1. æ„å»ºæ–°èŠ‚ç‚¹çš„ next å’Œ random å¼•ç”¨æŒ‡å‘ï¼›
   2. cur éå†è‡³åŸé“¾è¡¨ä¸‹ä¸€èŠ‚ç‚¹ï¼›
5. è¿”å›å€¼ï¼š æ–°é“¾è¡¨çš„å¤´èŠ‚ç‚¹ dic[cur] ï¼›

å¤æ‚åº¦åˆ†æï¼š

- æ—¶é—´å¤æ‚åº¦ O(N ï¼š ä¸¤è½®éå†é“¾è¡¨ï¼Œä½¿ç”¨ O(N)O(N) æ—¶é—´ã€‚
- ç©ºé—´å¤æ‚åº¦ O(N)ï¼š å“ˆå¸Œè¡¨ dic ä½¿ç”¨çº¿æ€§å¤§å°çš„é¢å¤–ç©ºé—´ã€‚

ä»£ç ï¼š

```java
class Solution {
    public Node copyRandomList(Node head) {
        if(head == null) return null;
        Node cur = head;
        Map<Node, Node> map = new HashMap<>();
        // 3. å¤åˆ¶å„èŠ‚ç‚¹ï¼Œå¹¶å»ºç«‹ â€œåŸèŠ‚ç‚¹ -> æ–°èŠ‚ç‚¹â€ çš„ Map æ˜ å°„
        while(cur != null) {
            map.put(cur, new Node(cur.val));
            cur = cur.next;
        }
        cur = head;
        // 4. æ„å»ºæ–°é“¾è¡¨çš„ next å’Œ random æŒ‡å‘
        while(cur != null) {
            map.get(cur).next = map.get(cur.next);
            map.get(cur).random = map.get(cur.random);
            cur = cur.next;
        }
        // 5. è¿”å›æ–°é“¾è¡¨çš„å¤´èŠ‚ç‚¹
        return map.get(head);
    }
}
```

#### å®˜æ–¹-æ–¹æ³•äºŒï¼šæ‹¼æ¥ + æ‹†åˆ†

è€ƒè™‘æ„å»º åŸèŠ‚ç‚¹ 1 -> æ–°èŠ‚ç‚¹ 1 -> åŸèŠ‚ç‚¹ 2 -> æ–°èŠ‚ç‚¹ 2 -> â€¦â€¦ çš„æ‹¼æ¥é“¾è¡¨ï¼Œå¦‚æ­¤ä¾¿å¯åœ¨è®¿é—®åŸèŠ‚ç‚¹çš„ random æŒ‡å‘èŠ‚ç‚¹çš„åŒæ—¶æ‰¾åˆ°æ–°å¯¹åº”æ–°èŠ‚ç‚¹çš„ random æŒ‡å‘èŠ‚ç‚¹ã€‚

ç®—æ³•æµç¨‹ï¼š

1. å¤åˆ¶å„èŠ‚ç‚¹ï¼Œæ„å»ºæ‹¼æ¥é“¾è¡¨:

   ![image-20220325163531591](lcof.assets/image-20220325163531591.png)

2. æ„å»ºæ–°é“¾è¡¨å„èŠ‚ç‚¹çš„ random æŒ‡å‘ï¼š
   - å½“è®¿é—®åŸèŠ‚ç‚¹ cur çš„éšæœºæŒ‡å‘èŠ‚ç‚¹ cur.random æ—¶ï¼Œå¯¹åº”æ–°èŠ‚ç‚¹ cur.next çš„éšæœºæŒ‡å‘èŠ‚ç‚¹ä¸º cur.random.next ã€‚
3. æ‹†åˆ†åŸ / æ–°é“¾è¡¨ï¼š
   - è®¾ç½® pre / cur åˆ†åˆ«æŒ‡å‘åŸ / æ–°é“¾è¡¨å¤´èŠ‚ç‚¹ï¼Œéå†æ‰§è¡Œ pre.next = pre.next.next å’Œ cur.next = cur.next.next å°†ä¸¤é“¾è¡¨æ‹†åˆ†å¼€ã€‚
4. è¿”å›æ–°é“¾è¡¨çš„å¤´èŠ‚ç‚¹ res å³å¯ã€‚

å¤æ‚åº¦åˆ†æï¼š

- æ—¶é—´å¤æ‚åº¦ O(N)ï¼š ä¸‰è½®éå†é“¾è¡¨ï¼Œä½¿ç”¨ O(N) æ—¶é—´ã€‚
- ç©ºé—´å¤æ‚åº¦ O(1) ï¼š èŠ‚ç‚¹å¼•ç”¨å˜é‡ä½¿ç”¨å¸¸æ•°å¤§å°çš„é¢å¤–ç©ºé—´ã€‚

ä»£ç ï¼š

```java
class Solution {
    public Node copyRandomList(Node head) {
        if(head == null) return null;
        Node cur = head;
        // 1. å¤åˆ¶å„èŠ‚ç‚¹ï¼Œå¹¶æ„å»ºæ‹¼æ¥é“¾è¡¨
        while(cur != null) {
            Node tmp = new Node(cur.val);
            tmp.next = cur.next;
            cur.next = tmp;
            cur = tmp.next;
        }
        // 2. æ„å»ºå„æ–°èŠ‚ç‚¹çš„ random æŒ‡å‘
        cur = head;
        while(cur != null) {
            if(cur.random != null)
                cur.next.random = cur.random.next;
            cur = cur.next.next;
        }
        // 3. æ‹†åˆ†ä¸¤é“¾è¡¨
        cur = head.next;
        Node pre = head, res = head.next;
        while(cur.next != null) {
            pre.next = pre.next.next;
            cur.next = cur.next.next;
            pre = pre.next;
            cur = cur.next;
        }
        pre.next = null; // å•ç‹¬å¤„ç†åŸé“¾è¡¨å°¾èŠ‚ç‚¹
        return res;      // è¿”å›æ–°é“¾è¡¨å¤´èŠ‚ç‚¹
    }
}
```

#### 20220325 åŠå¯„

```java
/*
// Definition for a Node.
class Node {
    int val;
    Node next;
    Node random;

    public Node(int val) {
        this.val = val;
        this.next = null;
        this.random = null;
    }
}
*/
class Solution {
    public Node copyRandomList(Node head) {
        //å¤„ç†ç©ºèŠ‚ç‚¹
        if(head==null)
            return head;

        //æŠŠæ–°é“¾è¡¨çš„æ¯ä¸ªèŠ‚ç‚¹ï¼Œè·Ÿåœ¨è€é“¾è¡¨çš„æ¯ä¸ªèŠ‚ç‚¹åé¢
        Node cur=head;
        while(cur!=null){
            Node temp=new Node(cur.val);
            temp.next=cur.next;
            cur.next=temp;
            cur=cur.next.next;
        }
        
        //æ ¹æ®è€é“¾è¡¨çš„ramdonï¼Œè®¾ç½®æ–°é“¾è¡¨çš„random
        cur=head;
        while(cur!=null){
            //æœ‰äº›èŠ‚ç‚¹æŒ‡å‘randomï¼Œæ‰€ä»¥è¦å°å¿ƒrandom.nextæ—¶å‘ç”Ÿç©ºæŒ‡é’ˆå¼‚å¸¸ã€‚ä¸ç»™æ–°é“¾è¡¨çš„randomèµ‹å€¼çš„è¯ï¼Œrandomå°±æ˜¯é»˜è®¤çš„nullã€‚
            if(cur.random!=null)
                cur.next.random=cur.random.next;
            cur=cur.next.next;
        }

        //æ‹†åˆ†ä¸¤ä¸ªé“¾è¡¨
        cur=head;
        Node result=cur.next;
        while(cur!=null){
            //å¿…é¡»è¦ä¸´æ—¶è¾…åŠ©èŠ‚ç‚¹è®°å½•æˆªæ–­å¤„
            Node temp=cur.next;
            cur.next=cur.next.next; 
            //ï¼ï¼ï¼é“¾è¡¨ä¸­å°å¿ƒæ·±åº¦nextï¼›æœ¬å¤„å¯èƒ½tempä¸ºæ–°é“¾è¡¨çš„æœ€åä¸€ä¸ªèŠ‚ç‚¹äº†ï¼Œä¸¤é‡nextä¼šæŠ¥é”™ï¼›æ¨èåƒæ ‡ç­”é‚£æ ·ï¼Œä»¥åè€…ä¸ºnextç»ˆæ­¢æ¡ä»¶
            if(temp.next!=null)
                temp.next=temp.next.next;
            cur=cur.next;
        }

        return result;
        
    }
}
```

- æ€è·¯æœ‰ï¼Œä½†æ˜¯åœ¨å¤„ç†æœ€åæ‹†åˆ†çš„æ—¶å€™ï¼Œæ²¡æ³¨æ„å¥½nextçš„æ·±åº¦ã€‚
  - å®˜æ–¹æ–¹æ³•äºŒæ‹†åˆ†æ—¶ï¼Œcur.next != nullå¯ä»¥ä¿è¯è¿˜æœ‰ä¸¤ä¸ªèŠ‚ç‚¹æ²¡æ‹†åˆ†ï¼Œä½†æ˜¯ä¼šå¯¼è‡´æ–°æ—§ä¸¤ä¸ªé“¾è¡¨æœ€åä¸€ä¸ªèŠ‚ç‚¹é»åœ¨ä¸€èµ·çš„æƒ…å†µï¼Œæ‰€ä»¥æœ€åè¦å•ç‹¬è®©åŸé“¾è¡¨çš„å°¾éƒ¨ä¸ºnullã€‚
  - æˆ‘çš„æ‹†åˆ†æ—¶ï¼Œä¸éœ€è¦æœ€åå¤„ç†æœ€åèŠ‚ç‚¹ç²˜åœ¨ä¸€èµ·çš„æƒ…å†µï¼Œä½†æ˜¯æ¯æ¬¡è¿­ä»£éƒ½è¦ifåˆ¤æ–­æ¯”è¾ƒè€—æ—¶ï¼›
  - æ€»ä¹‹ç¼åˆé“¾è¡¨æ‹†åˆ†æ—¶ï¼Œä»¥ç²˜åˆå¤„çš„åè€…ä¸ºåˆ¤æ–­ç¦»å¼€çš„æ ‡å¿—ä¸ºå¥½ï¼Œä¸å®¹æ˜“ç©ºæŒ‡é’ˆå¼‚å¸¸ã€‚



## 111å­—ç¬¦ä¸²

### [å‰‘æŒ‡ Offer 05. æ›¿æ¢ç©ºæ ¼](https://leetcode-cn.com/problems/ti-huan-kong-ge-lcof/)

#### é¦–æˆ˜å‘Šæ·

```java
class Solution {
    public String replaceSpace(String s) {
        
        String result="";

        //å¯¹å­—ç¬¦ä¸²çš„æ¯ä¸ªå­—ç¬¦è¿›è¡Œå¤„ç†ã€‚å­—ç¬¦ä¸²é•¿åº¦ç”¨length()ï¼Œæ•°ç»„é•¿åº¦ç”¨lengthã€‚ï¼Ÿï¼Ÿï¼Ÿsizeçš„å¤§å°åŒ…å«ç©ºæ ¼å—
        for(int i=0;i<s.length();i++){
            //è·å–å­—ç¬¦ä¸²å½¢å¼è¡¨ç¤ºçš„å½“å‰å­—ç¬¦
            String temp=String.valueOf(s.charAt(i));
            //å¯¹ç©ºæ ¼è¿›è¡Œæ›¿æ¢ã€‚æ³¨æ„å­—ç¬¦ä¸²ä¸èƒ½ç”¨==åˆ¤æ–­åœ°å€ç›¸ç­‰æ¨å‡ºå†…å®¹ç›¸ç­‰ï¼Œå› ä¸ºä¸åŒåœ°å€å­˜çš„å­—ç¬¦ä¸²çš„å†…å®¹å¯èƒ½ç›¸ç­‰ï¼›è€Œå¾—ç”¨equalsæ‰èƒ½åˆ¤æ–­å†…å®¹æ˜¯å¦ç›¸ç­‰ï¼ŒStringé‡å†™äº†equalsã€‚
            if(temp.equals(" ")){
                result+="%20";
            }else{
                result+=temp;
            }
        }

        return result;
    }
}
```

- æ³¨æ„ï¼šå­—ç¬¦ä¸²åˆ¤æ–­å†…å®¹ç›¸ç­‰è¦ç”¨equals

- charAtå¯ä»¥å¾—åˆ°å­—ç¬¦ä¸²æŸä½ç½®çš„å­—ç¬¦ï¼›String.valueOf()å¯ä»¥æŠŠå­—ç¬¦è½¬åŒ–ä¸ºå­—ç¬¦ä¸²å­˜å…¥å †ä¸­çš„å­—ç¬¦ä¸²å¸¸é‡æ± ã€‚

----

#### å®˜æ–¹1-éå†æ·»åŠ 

åœ¨ Python å’Œ Java ç­‰è¯­è¨€ä¸­ï¼Œå­—ç¬¦ä¸²éƒ½è¢«è®¾è®¡æˆã€Œä¸å¯å˜ã€çš„ç±»å‹ï¼Œå³æ— æ³•ç›´æ¥ä¿®æ”¹å­—ç¬¦ä¸²çš„æŸä¸€ä½å­—ç¬¦ï¼Œéœ€è¦æ–°å»ºä¸€ä¸ªå­—ç¬¦ä¸²å®ç°ã€‚

ç®—æ³•æµç¨‹ï¼š

1. åˆå§‹åŒ–ä¸€ä¸ª list (Python) / StringBuilder (Java) ï¼Œè®°ä¸º res ï¼›
2. éå†åˆ—è¡¨ s ä¸­çš„æ¯ä¸ªå­—ç¬¦ c ï¼š
   - å½“ c ä¸ºç©ºæ ¼æ—¶ï¼šå‘ res åæ·»åŠ å­—ç¬¦ä¸² "%20" ï¼›
   - å½“ c ä¸ä¸ºç©ºæ ¼æ—¶ï¼šå‘ res åæ·»åŠ å­—ç¬¦ c ï¼›
3. å°†åˆ—è¡¨ res è½¬åŒ–ä¸ºå­—ç¬¦ä¸²å¹¶è¿”å›ã€‚

å¤æ‚åº¦åˆ†æï¼š

- æ—¶é—´å¤æ‚åº¦ O(N) ï¼š éå†ä½¿ç”¨ O(N) ï¼Œæ¯è½®æ·»åŠ ï¼ˆä¿®æ”¹ï¼‰å­—ç¬¦æ“ä½œä½¿ç”¨ O(1)ï¼›
- ç©ºé—´å¤æ‚åº¦ O(N) ï¼š Python æ–°å»ºçš„ list å’Œ Java æ–°å»ºçš„ StringBuilder éƒ½ä½¿ç”¨äº†çº¿æ€§å¤§å°çš„é¢å¤–ç©ºé—´ã€‚

```java

class Solution {
    public String replaceSpace(String s) {
        StringBuilder res = new StringBuilder();
        for(Character c : s.toCharArray())
        {
            if(c == ' ') res.append("%20");
            else res.append(c);
        }
        return res.toString();
    }
}

```



#### å®˜æ–¹2-å­—ç¬¦æ•°ç»„

ç”±äºæ¯æ¬¡æ›¿æ¢ä» 1 ä¸ªå­—ç¬¦å˜æˆ 3 ä¸ªå­—ç¬¦ï¼Œä½¿ç”¨å­—ç¬¦æ•°ç»„å¯æ–¹ä¾¿åœ°è¿›è¡Œæ›¿æ¢ã€‚å»ºç«‹å­—ç¬¦æ•°ç»„åœ°é•¿åº¦ä¸º s çš„é•¿åº¦çš„ 3 å€ï¼Œè¿™æ ·å¯ä¿è¯å­—ç¬¦æ•°ç»„å¯ä»¥å®¹çº³æ‰€æœ‰æ›¿æ¢åçš„å­—ç¬¦ã€‚ç®—æ³•ï¼š

- è·å¾— s çš„é•¿åº¦ length
- åˆ›å»ºå­—ç¬¦æ•°ç»„ arrayï¼Œå…¶é•¿åº¦ä¸º length * 3
- åˆå§‹åŒ– size ä¸º 0ï¼Œsize è¡¨ç¤ºæ›¿æ¢åçš„å­—ç¬¦ä¸²çš„é•¿åº¦
- ä»å·¦åˆ°å³éå†å­—ç¬¦ä¸² s
  - è·å¾— s çš„å½“å‰å­—ç¬¦ c
  - å¦‚æœå­—ç¬¦ c æ˜¯ç©ºæ ¼ï¼Œåˆ™ä»¤ array[size] = '%'ï¼Œarray[size + 1] = '2'ï¼Œarray[size + 2] = '0'ï¼Œå¹¶å°† size çš„å€¼åŠ  3
  - å¦‚æœå­—ç¬¦ c ä¸æ˜¯ç©ºæ ¼ï¼Œåˆ™ä»¤ array[size] = cï¼Œå¹¶å°† size çš„å€¼åŠ  1
- éå†ç»“æŸä¹‹åï¼Œsize çš„å€¼ç­‰äºæ›¿æ¢åçš„å­—ç¬¦ä¸²çš„é•¿åº¦ï¼Œä» array çš„å‰ size ä¸ªå­—ç¬¦åˆ›å»ºæ–°å­—ç¬¦ä¸²ï¼Œå¹¶è¿”å›æ–°å­—ç¬¦ä¸²

ä»£ç ï¼š

```java
class Solution {
    public String replaceSpace(String s) {
        int length = s.length();
        char[] array = new char[length * 3];
        int size = 0;
        for (int i = 0; i < length; i++) {
            char c = s.charAt(i);
            if (c == ' ') {
                array[size++] = '%';
                array[size++] = '2';
                array[size++] = '0';
            } else {
                array[size++] = c;
            }
        }
        String newStr = new String(array, 0, size);
        return newStr;
    }
}

```

- ç½‘å‹ï¼šè¿™æ ·ä¸è¡Œå—ğŸ˜‚`return s.replace(" ","%20");`?
  - ç½‘å‹ç­”ï¼šä¸è¡Œï¼Œè¿™ä¸ªåªèƒ½æ›¿æ¢ç¬¬ä¸€ä¸ªï¼Œåº”è¯¥ç”¨replaceAll
    - ç½‘å‹åé©³ï¼šä¸æ˜¯å“‡ï¼Œè¿™ä¸ªreplaceæ–¹æ³•ç¡®å®æ˜¯æ›¿æ¢äº†å‘€ï¼Œä½ å†å»ç¿»ç¿»çœ‹æ–‡æ¡£
    - ç½‘å‹ï¼šreplaceå’ŒreplaceAllçš„åŒºåˆ«æ˜¯åè€…æ”¯æŒæ­£åˆ™ä½†æ˜¯å‰è€…ä¸æ”¯æŒï¼Œä½†æ˜¯å®ƒä»¬éƒ½æ˜¯å…¨éƒ¨æ›¿æ¢çš„

å¤æ‚æ€§åˆ†æ:

- æ—¶é—´å¤æ‚åº¦ï¼šO(n)ã€‚éå†å­—ç¬¦ä¸² `s` ä¸€éã€‚
- ç©ºé—´å¤æ‚åº¦ï¼šO(n)ã€‚é¢å¤–åˆ›å»ºå­—ç¬¦æ•°ç»„ï¼Œé•¿åº¦ä¸º `s` çš„é•¿åº¦çš„ 3 å€ã€‚



### [å‰‘æŒ‡ Offer 58 - II. å·¦æ—‹è½¬å­—ç¬¦ä¸²](https://leetcode-cn.com/problems/zuo-xuan-zhuan-zi-fu-chuan-lcof/)

#### é¦–æˆ˜å‘Šæ·

```java
class Solution {
    public String reverseLeftWords(String s, int n) {
        //ä¿å­˜å‰è‹¥å¹²ä½å­—ç¬¦
        String head="";
        //ä¿å­˜åè‹¥å¹²ä½å­—ç¬¦
        String tail="";

        //æŠŠå‰nä½å­—ç¬¦å­˜å…¥head
        for(int i=0;i<n;i++){
            head+=String.valueOf(s.charAt(i));
        }

        //æŠŠåŸå­—ç¬¦ä¸²åé¢çš„éƒ¨åˆ†å–å‡ºæ¥
        for(int i=n;i<s.length();i++){
            tail+=String.valueOf(s.charAt(i));
        }

        return tail+head;

    }
}
```

- â€œæŠŠå­—ç¬¦ä¸²æ‹†æˆå•ä¸ªå­—ç¬¦ï¼Œå†æŠŠå•ä¸ªå­—ç¬¦è½¬åŒ–æˆå•å­—ç¬¦å­—ç¬¦ä¸²ï¼Œå†æ“ä½œå­—ç¬¦ä¸²â€ï¼›è¿™ç§æ–¹æ³•å¾ˆå®¹æ˜“ï¼Œä½†æ˜¯æ—¶é—´å’Œç©ºé—´å¤æ‚åº¦æ¯”è¾ƒå¤§ã€‚



#### å®˜æ–¹-æ–¹æ³•ä¸€ï¼šå­—ç¬¦ä¸²åˆ‡ç‰‡

è§£é¢˜æ€è·¯ï¼š

- æœ¬é¢˜åšæ³•è¾ƒå¤šï¼Œæœ¬æ–‡ä¸»è¦ä»‹ç» â€œå­—ç¬¦ä¸²åˆ‡ç‰‡â€ ï¼Œ â€œåˆ—è¡¨éå†æ‹¼æ¥â€ ï¼Œ â€œå­—ç¬¦ä¸²éå†æ‹¼æ¥â€ ä¸‰ç§æ–¹æ³•ã€‚
  ç”±äºæœ¬é¢˜çš„å¤šè§£æ³•æ¶‰åŠåˆ°äº† å­—ç¬¦ä¸²ä¸ºä¸å¯å˜å¯¹è±¡ çš„ç›¸å…³æ¦‚å¿µï¼Œå¯¼è‡´æ•ˆç‡åŒºåˆ«è¾ƒå¤§ã€‚å› æ­¤ï¼Œå•åˆ—ä¸€èŠ‚ ä¸‰ç§æ–¹æ³•çš„æ•ˆç‡åˆ†æ ï¼Œæœ›å¯¹å„ä½æœ‰æ‰€å¸®åŠ©ã€‚

æ–¹æ³•ä¸€ï¼šå­—ç¬¦ä¸²åˆ‡ç‰‡

- åº”ç”¨å­—ç¬¦ä¸²åˆ‡ç‰‡å‡½æ•°ï¼Œå¯æ–¹ä¾¿å®ç°å·¦æ—‹è½¬å­—ç¬¦ä¸²ã€‚

- è·å–å­—ç¬¦ä¸² s[n:]s[n:] åˆ‡ç‰‡å’Œ s[:n]s[:n] åˆ‡ç‰‡ï¼Œä½¿ç”¨ "++" è¿ç®—ç¬¦æ‹¼æ¥å¹¶è¿”å›å³å¯ã€‚

å¤æ‚åº¦åˆ†æï¼š

- æ—¶é—´å¤æ‚åº¦ O(N) ï¼š å…¶ä¸­ N ä¸ºå­—ç¬¦ä¸² sçš„é•¿åº¦ï¼Œå­—ç¬¦ä¸²åˆ‡ç‰‡å‡½æ•°ä¸ºçº¿æ€§æ—¶é—´å¤æ‚åº¦ï¼ˆå‚è€ƒèµ„æ–™ï¼‰ï¼›
- ç©ºé—´å¤æ‚åº¦ O(N)ï¼š ä¸¤ä¸ªå­—ç¬¦ä¸²åˆ‡ç‰‡çš„æ€»é•¿åº¦ä¸º Nã€‚

ä»£ç ï¼š

```java
class Solution {
    public String reverseLeftWords(String s, int n) {
        return s.substring(n, s.length()) + s.substring(0, n);
    }
}

```

- substringå·¦åŒ…å³ä¸åŒ…



#### å®˜æ–¹-æ–¹æ³•äºŒï¼šåˆ—è¡¨éå†æ‹¼æ¥
è‹¥é¢è¯•è§„å®šä¸å…è®¸ä½¿ç”¨ åˆ‡ç‰‡å‡½æ•° ï¼Œåˆ™ä½¿ç”¨æ­¤æ–¹æ³•ã€‚

ç®—æ³•æµç¨‹ï¼š

1. æ–°å»ºä¸€ä¸ª list(Python)ã€StringBuilder(Java) ï¼Œè®°ä¸º resres ï¼›

2. å…ˆå‘ resres æ·»åŠ  â€œç¬¬ n + 1n+1 ä½è‡³æœ«ä½çš„å­—ç¬¦â€ ï¼›
3. å†å‘ resres æ·»åŠ  â€œé¦–ä½è‡³ç¬¬ nn ä½çš„å­—ç¬¦â€ ï¼›
4. å°† resres è½¬åŒ–ä¸ºå­—ç¬¦ä¸²å¹¶è¿”å›ã€‚

å¤æ‚åº¦åˆ†æï¼š

- æ—¶é—´å¤æ‚åº¦ O(N)ï¼š çº¿æ€§éå† så¹¶æ·»åŠ ï¼Œä½¿ç”¨çº¿æ€§æ—¶é—´ï¼›
- ç©ºé—´å¤æ‚åº¦ O(N)ï¼š æ–°å»ºçš„è¾…åŠ© resä½¿ç”¨ O(N)å¤§å°çš„é¢å¤–ç©ºé—´ã€‚

ä»£ç ï¼š

```java
class Solution {
    public String reverseLeftWords(String s, int n) {
        StringBuilder res = new StringBuilder();
        for(int i = n; i < s.length(); i++)
            res.append(s.charAt(i));
        for(int i = 0; i < n; i++)
            res.append(s.charAt(i));
        return res.toString();
    }
}
```

- æ³¨æ„ï¼šStirngBuilderå®ä¾‹åŒ–çš„å¯¹è±¡æœ€åè¦ç”¨toStringæ–¹æ³•æŠŠè‡ªå·±è½¬æ¢æˆå­—ç¬¦ä¸²ã€‚
- StirngBuilderå¯ä»¥ç›´æ¥appendå­—ç¬¦



#### å®˜æ–¹-æ–¹æ³•ä¸‰ï¼šå­—ç¬¦ä¸²éå†æ‹¼æ¥
è‹¥è§„å®š Python ä¸èƒ½ä½¿ç”¨ join() å‡½æ•°ï¼Œæˆ–è§„å®š Java åªèƒ½ç”¨ String ï¼Œåˆ™ä½¿ç”¨æ­¤æ–¹æ³•ã€‚

æ­¤æ–¹æ³•ä¸ æ–¹æ³•äºŒ æ€è·¯ä¸€è‡´ï¼ŒåŒºåˆ«æ˜¯ä½¿ç”¨å­—ç¬¦ä¸²ä»£æ›¿åˆ—è¡¨ã€‚

å¤æ‚åº¦åˆ†æï¼š

- æ—¶é—´å¤æ‚åº¦ O(N)ï¼š çº¿æ€§éå† så¹¶æ·»åŠ ï¼Œä½¿ç”¨çº¿æ€§æ—¶é—´ï¼›
- ç©ºé—´å¤æ‚åº¦ O(N) ï¼š å‡è®¾å¾ªç¯è¿‡ç¨‹ä¸­å†…å­˜ä¼šè¢«åŠæ—¶å›æ”¶ï¼Œå†…å­˜ä¸­è‡³å°‘åŒæ—¶å­˜åœ¨é•¿åº¦ä¸º Nå’Œ N-1çš„ä¸¤ä¸ªå­—ç¬¦ä¸²ï¼ˆæ–°å»ºé•¿åº¦ä¸º Nçš„ reséœ€è¦ä½¿ç”¨å‰ä¸€ä¸ªé•¿åº¦ N-1çš„ resï¼‰ï¼Œå› æ­¤è‡³å°‘ä½¿ç”¨ O(N)çš„é¢å¤–ç©ºé—´ã€‚

ä»£ç ï¼š

```java
class Solution {
    public String reverseLeftWords(String s, int n) {
        String res = "";
        for(int i = n; i < s.length(); i++)
            res += s.charAt(i);
        for(int i = 0; i < n; i++)
            res += s.charAt(i);
        return res;
    }
}
```

- è¿™ä¸ªå°±æ˜¯æˆ‘é¦–æˆ˜çš„åšæ³•ï¼›ä¸è¿‡æˆ‘è¿˜æŠŠcharAtè½¬æ¢æˆStirngåï¼Œå†ç”¨+=ã€‚



#### ä¸‰ç§å®˜æ–¹ç®—æ³•çš„åŒºåˆ«

è¯¦ç»†åˆ†æè¯·å‚è€ƒ Efficient String Concatenation in Python ã€‚

ä»¥ä¸Šä¸‰ç§æ–¹æ³•çš„ç©ºé—´ä½¿ç”¨å¦‚ä¸‹å›¾æ‰€ç¤ºã€‚
ä»¥ Python ä¸ºä¾‹å¼€å±•ä¸‰ç§æ–¹æ³•çš„æ•ˆç‡æµ‹è¯•ï¼Œç»“è®ºåŒæ ·é€‚ç”¨äº Java ç­‰å…¶ä»–è¯­è¨€ã€‚

![Picture4.png](lcof.assets/ef68413b3366b97af3ed76037c6a9d1e40ac09c74fd6e5cb6d5173cbd7116beb-Picture4.png)

### ç›¸å…³é¢˜ç›®

- å‰‘æŒ‡ Offer 37. åºåˆ—åŒ–äºŒå‰æ ‘ï¼šè§£æ³•æœ‰è›®å¤šå­—ç¬¦ä¸²çš„çŸ¥è¯†ï¼Œå°¤å…¶æ˜¯StringBuilderçš„ä½¿ç”¨ã€‚

## æŸ¥æ‰¾ç®—æ³•ï¼ˆç®€å•ï¼‰

### [å‰‘æŒ‡ Offer 03. æ•°ç»„ä¸­é‡å¤çš„æ•°å­—](https://leetcode-cn.com/problems/shu-zu-zhong-zhong-fu-de-shu-zi-lcof/)

#### é¦–æˆ˜å‘Šæ·

```java
class Solution {
    public int findRepeatNumber(int[] nums) {
        /*
        "é•¿åº¦ä¸º n çš„æ•°ç»„ nums é‡Œçš„æ‰€æœ‰æ•°å­—éƒ½åœ¨ 0ï½n-1 çš„èŒƒå›´å†…",å°±æ˜¯æ˜ç¤ºè¦ç”¨æ•°ç»„å†…å®¹ä¸æ•°ç»„ä¸‹æ ‡å…³è”ã€‚
         */

        //docæ•°ç»„çš„æ¯ä¸€ä½ï¼Œè®°è½½äº†numsæ•°ç»„ä¸­å„å…ƒç´ å‡ºç°çš„é¢‘ç‡ï¼›docçš„ä¸‹æ ‡å’Œnumsçš„å€¼å¯¹åº”ã€‚æ•°ç»„ä¸­åˆå§‹ä¸ºå…¨0ã€‚
        int[] doc=new int[nums.length];

        //éå†numsï¼Œnumsä¸­å‡ºç°çš„å€¼å¯¹åº”docæ•°ç»„çš„ä¸‹æ ‡ï¼Œç»™å¯¹åº”ä¸‹æ ‡å­˜çš„å€¼+1æ¥è®°å½•é¢‘æ¬¡ã€‚
        for(int i=0;i<nums.length;i++){
           doc[nums[i]]++; 
        }

        //æŠŠé‡å¤æ•°å­—é‡Œï¼Œæœ€å°çš„é‚£ä¸ªè¿”å›
        for(int i=0;i<doc.length;i++){
            if(doc[i]>1){
                return i;
            }
        }

        //å¦‚æœä¸Šé¢forå¾ªç¯æ²¡æœ‰è¿”å›ï¼Œåˆ™è¯´æ˜æ•°ç»„ä¸­æ²¡æœ‰é‡å¤æ•°å­—ï¼›è¿”å›-1è¡¨ç¤ºæŠ¥é”™ã€‚
        return -1;

    }
}
```

- æˆ‘è¿™ç§æ–¹æ³•ï¼Œå¦‚æœnumsçš„å†…å®¹å¾ˆå¤§ï¼Œå¯èƒ½ä¼šè¶…è¿‡intçš„èŒƒå›´ï¼Œè¿™æ ·æ¥è¯´è¿˜æ˜¯å®˜æ–¹çš„æ›´å®‰å…¨
  - intçš„å–å€¼èŒƒå›´ä¸ºï¼š -2^31â€”â€”2^31-1ï¼Œå³-2147483648â€”â€”2147483647ã€‚
  - ä¸è¿‡æœ¬é¢˜ä¸­çš„â€é™åˆ¶â€œè¯´2 <= n <= 100000ï¼Œé‚£ä¹ˆä¸ä¼šå‡»ç©¿ã€‚åšé¢˜ä¸€å®šè¦çœ‹ç¤ºä¾‹ä¸‹çš„**â€œæç¤ºâ€**æˆ–**â€é™åˆ¶â€œ**

#### å®˜æ–¹-æ–¹æ³•ä¸€ï¼šéå†æ•°ç»„
ç”±äºåªéœ€è¦æ‰¾å‡ºæ•°ç»„ä¸­ä»»æ„ä¸€ä¸ªé‡å¤çš„æ•°å­—ï¼Œå› æ­¤éå†æ•°ç»„ï¼Œé‡åˆ°é‡å¤çš„æ•°å­—å³è¿”å›ã€‚ä¸ºäº†åˆ¤æ–­ä¸€ä¸ªæ•°å­—æ˜¯å¦é‡å¤é‡åˆ°ï¼Œä½¿ç”¨é›†åˆå­˜å‚¨å·²ç»é‡åˆ°çš„æ•°å­—ï¼Œå¦‚æœé‡åˆ°çš„ä¸€ä¸ªæ•°å­—å·²ç»åœ¨é›†åˆä¸­ï¼Œåˆ™å½“å‰çš„æ•°å­—æ˜¯é‡å¤æ•°å­—ã€‚ç®—æ³•ï¼š

- åˆå§‹åŒ–é›†åˆä¸ºç©ºé›†åˆï¼Œé‡å¤çš„æ•°å­— repeat = -1
- éå†æ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ ï¼š
  - å°†è¯¥å…ƒç´ åŠ å…¥é›†åˆä¸­ï¼Œåˆ¤æ–­æ˜¯å¦æ·»åŠ æˆåŠŸ
    - å¦‚æœæ·»åŠ å¤±è´¥ï¼Œè¯´æ˜è¯¥å…ƒç´ å·²ç»åœ¨é›†åˆä¸­ï¼Œå› æ­¤è¯¥å…ƒç´ æ˜¯é‡å¤å…ƒç´ ï¼Œå°†è¯¥å…ƒç´ çš„å€¼èµ‹ç»™ repeatï¼Œå¹¶ç»“æŸéå†
- è¿”å› repeat

ä»£ç ï¼š

```java
class Solution {
    public int findRepeatNumber(int[] nums) {
        Set<Integer> set = new HashSet<Integer>();
        int repeat = -1;
        for (int num : nums) {
            if (!set.add(num)) {
                repeat = num;
                break;
            }
        }
        return repeat;
    }
}
```

- **åˆ©ç”¨äº†hashSetåˆ¤æ–­é‡å¤ï¼›åŒç†å¯ä»¥åˆ©ç”¨hashmapåˆ¤æ–­ä¸ªæ•°**ã€‚

å¤æ‚æ€§åˆ†æï¼š

- æ—¶é—´å¤æ‚åº¦ï¼šO(n)ã€‚
  - éå†æ•°ç»„ä¸€éã€‚ä½¿ç”¨å“ˆå¸Œé›†åˆï¼ˆHashSetï¼‰ï¼Œæ·»åŠ å…ƒç´ çš„æ—¶é—´å¤æ‚åº¦ä¸º O(1)ï¼Œæ•…æ€»çš„æ—¶é—´å¤æ‚åº¦æ˜¯ O(n)ã€‚
- ç©ºé—´å¤æ‚åº¦ï¼šO(n)ã€‚ä¸é‡å¤çš„æ¯ä¸ªå…ƒç´ éƒ½å¯èƒ½å­˜å…¥é›†åˆï¼Œå› æ­¤å ç”¨ O(n)é¢å¤–ç©ºé—´ã€‚



### [å‰‘æŒ‡ Offer 53 - I. åœ¨æ’åºæ•°ç»„ä¸­æŸ¥æ‰¾æ•°å­— I](https://leetcode-cn.com/problems/zai-pai-xu-shu-zu-zhong-cha-zhao-shu-zi-lcof/)

#### é¦–æˆ˜å‘Šæ·-hashæ³•

```java
class Solution {
    public int search(int[] nums, int target) {
        /*
        å› ä¸º10çš„9æ¬¡æ–¹ï¼Œå°äº2*10çš„9æ¬¡æ¬¡æ–¹ï¼Œæ‰€ä»¥numså­˜å€¼çš„èŒƒå›´åœ¨æ•´æ•°èŒƒå›´å†…ï¼Œä½†æ˜¯ç”¨æ•°ç»„ä¼šæœ‰è¿ç»­ç©ºé—´ï¼Œæµªè´¹ï¼›ç”¨hashMapå§
        */

        //æ³¨æ„å·¦è¾¹æŒ‡å®šæ³›å‹çš„å…·ä½“ç±»å‹
        Map<Integer,Integer> map=new HashMap<>();

        //ä¾¿åˆ©ç»™å®šçš„æ•°ç»„
        for(int i=0;i<nums.length;i++){
            //å¦‚æœå·²ä»…å­˜åœ¨hashæ˜ å°„ï¼Œç»™æ¬¡æ•°åŠ ä¸€
            if(map.containsKey(nums[i])){
                map.put(nums[i],map.get(nums[i])+1);

            }else{//å¦åˆ™å»ºç«‹é’ˆå¯¹æŸæ•°å­—å’Œå…¶æ•°å­—çš„hashæ˜ å°„
                map.put(nums[i],1);
            }
        }

        //å¤„ç†æ¬¡æ•°ä¸º0çš„è¯·æ¬¾
        return map.containsKey(target)?map.get(target):0;

    }
}
```

- æœ¬é¢˜æ¡ä»¶æ˜¯â€œæ’åºæ•°ç»„â€ï¼Œè¿™ä¸ªæ–¹æ³•æ²¡ç”¨ä¸Šè¿™ä¸ªæ¡ä»¶ï¼›æ’åºæ•°ç»„åº”è¯¥ç”¨åŒæŒ‡é’ˆè§£å†³ã€‚

#### é¦–æˆ˜å‘Šæ·-åŒæŒ‡é’ˆ

```java
class Solution {
    public int search(int[] nums, int target) {
        //çœ‹åˆ°æ’åºæ•°ç»„ï¼Œæ‰€ä»¥ç›®æ ‡æ•°å­—æ˜¯è¿ç»­çš„ï¼›ç”¨åŒæŒ‡é’ˆ

        //å¤„ç†ç‰¹æ®Šæƒ…å†µï¼šç©ºæ•°ç»„æƒ…å†µï¼Œå¦åˆ™nums[right]ä¼šè¶…è¿‡æ•°ç»„è¾¹ç•Œ
        if(nums.length==0){
            return 0;
        }

        //åˆå§‹åŒ–åŒæŒ‡é’ˆä¸ºæ•°ç»„ä¸¤ç«¯
        int left=0;
        int right=nums.length-1;

        //åªè¦ä¸¤ä¸ªæŒ‡é’ˆæ²¡ç¢°åˆ°ç›®æ ‡æ•°å°±ä¸€ç›´å¾ªç¯
        while(true){
            if(nums[left]!=target){
                left++;
            }
            if(nums[right]!=target){
                right--;
            }

            //å½“left>rightï¼Œæˆ–nums[left]==nums[right]!=targetæ—¶ç›´æ¥è¿”å›0ï¼›å½“nums[left]==nums[right]==targetæ—¶è¿”å›right-left+1
            if(left>right||((nums[left]==nums[right])&&(nums[right]!=target))){
                return 0;
            }else if((nums[left]==nums[right])&&(nums[right]==target)){
                return right-left+1;
            }
        }

    }
}
```

- æˆ‘ï¼š
  - æ•°ç»„é—®é¢˜ï¼Œå°å¿ƒè‡ªå®šä¹‰iæ—¶ï¼Œåœ¨ç‰¹æ®Šè¾¹ç•Œæ¡ä»¶ä¸‹ï¼Œiè¶…å‡ºè¾¹ç•Œ
  - å˜é‡è¦ä¸€è‡´ï¼Œæ¯”å¦‚leftä¸è¦å†™ç€å†™ç€å°±å†™æˆlã€‚
- ç½‘å‹ï¼šé¢è¯•å®˜å‡ºè¿™é¢˜çš„è¯è‚¯å®šæ˜¯æƒ³è®©ä½ å†™äºŒåˆ†çš„å•¦ å…¶ä»–æ²¡ç”¨
  - ç½‘å‹ï¼šæˆ‘ç¬¬ä¸€æƒ³æ³•ä¹Ÿæ˜¯äºŒåˆ†ï¼Œä½†æ˜¯æˆ‘å‘ç°é¢˜ç›®æ²¡ç»™æ•°ç»„é•¿åº¦ï¼Œæ±‚ä¸ªé•¿åº¦ä¸å°±å·²ç» O(n)äº†å—
    - ç½‘å‹åé©³ï¼š åƒjavaè¿™ç§è¯­è¨€ï¼Œæ•°ç»„çš„é•¿åº¦æ˜¯ç¼–è¯‘çš„æ—¶å€™å°±ç”Ÿæˆå¥½çš„ï¼Œä¸éœ€è¦å®æ—¶ç®—çš„ï¼›nums.lengthç›´æ¥æ˜¯æ•°ç»„é•¿åº¦ï¼Œè¿™æ˜¯æ•°ç»„æœ¬èº«çš„å±æ€§
- æœ¬é¢˜åŒæŒ‡é’ˆï¼Œä¸å¦‚å®˜æ–¹çš„2åˆ†æ•ˆç‡é«˜ã€‚

æ€§èƒ½ï¼š

![image-20220326170601282](lcof.assets/image-20220326170601282.png)

#### å®˜æ–¹-äºŒåˆ†æ³•

è§£é¢˜æ€è·¯ï¼š

æ’åºæ•°ç»„ä¸­çš„æœç´¢é—®é¢˜ï¼Œé¦–å…ˆæƒ³åˆ° **äºŒåˆ†æ³•** è§£å†³ã€‚

![image-20220326172735012](lcof.assets/image-20220326172735012.png)

ç®—æ³•è§£æï¼š

![image-20220326172816408](lcof.assets/image-20220326172816408.png)

æ•ˆç‡ä¼˜åŒ–ï¼š

![image-20220326172840370](lcof.assets/image-20220326172840370.png)

å¤æ‚åº¦åˆ†æï¼š

- æ—¶é—´å¤æ‚åº¦ O(log N)ï¼š äºŒåˆ†æ³•ä¸ºå¯¹æ•°çº§åˆ«å¤æ‚åº¦ã€‚
- ç©ºé—´å¤æ‚åº¦ O(1) ï¼š å‡ ä¸ªå˜é‡ä½¿ç”¨å¸¸æ•°å¤§å°çš„é¢å¤–ç©ºé—´ã€‚

ä»£ç ï¼š

```java
class Solution {
    public int search(int[] nums, int target) {
        // æœç´¢å³è¾¹ç•Œ right
        int i = 0, j = nums.length - 1;
        while(i <= j) {
            int m = (i + j) / 2;
            if(nums[m] <= target) i = m + 1;
            else j = m - 1;
        }
        int right = i;
        // è‹¥æ•°ç»„ä¸­æ—  target ï¼Œåˆ™æå‰è¿”å›
        if(j >= 0 && nums[j] != target) return 0;
        // æœç´¢å·¦è¾¹ç•Œ right
        i = 0; j = nums.length - 1;
        while(i <= j) {
            int m = (i + j) / 2;
            if(nums[m] < target) i = m + 1;
            else j = m - 1;
        }
        int left = j;
        return right - left - 1;
    }
}
```

- å¯å°† nums[m] = targetnums[m]=target æƒ…å†µåˆå¹¶è‡³å…¶ä»–ä¸¤ç§æƒ…å†µä¸­ã€‚



### [å‰‘æŒ‡ Offer 53 - II. 0ï½n-1ä¸­ç¼ºå¤±çš„æ•°å­—](https://leetcode-cn.com/problems/que-shi-de-shu-zi-lcof/)

#### é¦–æˆ˜å‘Šæ·

```java
class Solution {
    public int missingNumber(int[] nums) {
        /*
        å¯ä»¥äºŒåˆ†æŸ¥æ‰¾ï¼Œâ€œl-râ€ä¸ç­‰äºâ€œnums[l]-nums[r]â€çš„è¯ï¼Œåˆ™ç¡®å®çš„æ•°å­—åœ¨lrä¹‹é—´ã€‚
        ä½†æ˜¯çº¯åŒæŒ‡é’ˆä¼šè·³è¿‡ç›®æ ‡å€¼ï¼Œä½¿ç›®æ ‡å€¼ä¸å†lrä¹‹é—´ï¼›å› ä¸ºåŒæŒ‡é’ˆè§„åˆ™ä¸­â€œå¥½åƒâ€è¯´lå’Œråœ¨ä¿®æ”¹æ—¶ä¸èƒ½å’Œmé‡åˆï¼Œåªèƒ½è¶Šè¿‡ã€‚

        æˆ‘å…ˆç”¨onéå†çš„æ–¹æ³•åšäº†
        */

        //ç¼ºå¤±å€¼åœ¨[0,n-2]æ—¶
        for(int i=0;i<nums.length;i++){
            if(nums[i]!=i)
                return i;
        }
        //ç¼ºå¤±å€¼æ˜¯n-1æ—¶
        return nums.length;

    }
}
```

æ•ˆæœè¿˜è¡Œï¼š

![image-20220327154126719](lcof.assets/image-20220327154126719.png)



#### å®˜æ–¹-äºŒåˆ†æ³•

è§£é¢˜æ€è·¯ï¼š

![image-20220327155156544](lcof.assets/image-20220327155156544.png)

ç®—æ³•è§£æï¼š

![image-20220327155218162](lcof.assets/image-20220327155218162.png)

å¤æ‚åº¦åˆ†æï¼š

![image-20220327155245698](lcof.assets/image-20220327155245698.png)

ä»£ç ï¼š

```java
class Solution {
    public int missingNumber(int[] nums) {
        int i = 0, j = nums.length - 1;
        while(i <= j) {
            int m = (i + j) / 2;
            if(nums[m] == m) i = m + 1;
            else j = m - 1;
        }
        return i;
    }
}
```

- æˆ‘å’Œå®˜æ–¹å’Œé«˜èµç½‘å‹ï¼šâ€œ**æ’åºæ•°ç»„ä¸­çš„æœç´¢é—®é¢˜ï¼Œé¦–å…ˆæƒ³åˆ° äºŒåˆ†æ³• è§£å†³**ã€‚â€getä¸€é¡¹æ–°æŠ€èƒ½ã€‚

- æˆ‘ï¼šæœ¬é¢˜è§£çš„è§†é¢‘ä¸é”™ï¼Œå¾ˆæ¸…æ™°ï¼Œå¯ä»¥çœ‹çœ‹
- æˆ‘ï¼šå®˜æ–¹ç®—æ³•åœ¨l==rçš„æ—¶å€™ä¸é€€å‡ºï¼Œè®©å®ƒä¸¤å†ç§»åŠ¨ä¸€æ­¥ä»è€Œäº¤å‰å¤¹ä½ç›®æ ‡å€¼ï¼Œä¸é”™ï¼



## æŸ¥æ‰¾ç®—æ³•ï¼ˆä¸­ç­‰ï¼‰

### [å‰‘æŒ‡ Offer 04. äºŒç»´æ•°ç»„ä¸­çš„æŸ¥æ‰¾](https://leetcode-cn.com/problems/er-wei-shu-zu-zhong-de-cha-zhao-lcof/)

#### é¦–æˆ˜å¯„

#### å®˜æ–¹-äºŒå‰æœç´¢æ ‘æ³•

ç”±äºç»™å®šçš„äºŒç»´æ•°ç»„å…·å¤‡æ¯è¡Œä»å·¦åˆ°å³é€’å¢ä»¥åŠæ¯åˆ—ä»ä¸Šåˆ°ä¸‹é€’å¢çš„ç‰¹ç‚¹ï¼Œå½“è®¿é—®åˆ°ä¸€ä¸ªå…ƒç´ æ—¶ï¼Œå¯ä»¥æ’é™¤æ•°ç»„ä¸­çš„éƒ¨åˆ†å…ƒç´ ã€‚

ä»äºŒç»´æ•°ç»„çš„å³ä¸Šè§’å¼€å§‹æŸ¥æ‰¾ã€‚å¦‚æœå½“å‰å…ƒç´ ç­‰äºç›®æ ‡å€¼ï¼Œåˆ™è¿”å› trueã€‚å¦‚æœå½“å‰å…ƒç´ å¤§äºç›®æ ‡å€¼ï¼Œåˆ™ç§»åˆ°å·¦è¾¹ä¸€åˆ—ã€‚å¦‚æœå½“å‰å…ƒç´ å°äºç›®æ ‡å€¼ï¼Œåˆ™ç§»åˆ°ä¸‹è¾¹ä¸€è¡Œã€‚

å¯ä»¥è¯æ˜è¿™ç§æ–¹æ³•ä¸ä¼šé”™è¿‡ç›®æ ‡å€¼ã€‚å¦‚æœå½“å‰å…ƒç´ å¤§äºç›®æ ‡å€¼ï¼Œè¯´æ˜å½“å‰å…ƒç´ çš„ä¸‹è¾¹çš„æ‰€æœ‰å…ƒç´ éƒ½ä¸€å®šå¤§äºç›®æ ‡å€¼ï¼Œå› æ­¤å¾€ä¸‹æŸ¥æ‰¾ä¸å¯èƒ½æ‰¾åˆ°ç›®æ ‡å€¼ï¼Œå¾€å·¦æŸ¥æ‰¾å¯èƒ½æ‰¾åˆ°ç›®æ ‡å€¼ã€‚å¦‚æœå½“å‰å…ƒç´ å°äºç›®æ ‡å€¼ï¼Œè¯´æ˜å½“å‰å…ƒç´ çš„å·¦è¾¹çš„æ‰€æœ‰å…ƒç´ éƒ½ä¸€å®šå°äºç›®æ ‡å€¼ï¼Œå› æ­¤å¾€å·¦æŸ¥æ‰¾ä¸å¯èƒ½æ‰¾åˆ°ç›®æ ‡å€¼ï¼Œå¾€ä¸‹æŸ¥æ‰¾å¯èƒ½æ‰¾åˆ°ç›®æ ‡å€¼ã€‚

- è‹¥æ•°ç»„ä¸ºç©ºï¼Œè¿”å› false
- åˆå§‹åŒ–è¡Œä¸‹æ ‡ä¸º 0ï¼Œåˆ—ä¸‹æ ‡ä¸ºäºŒç»´æ•°ç»„çš„åˆ—æ•°å‡ 1
- é‡å¤ä¸‹åˆ—æ­¥éª¤ï¼Œç›´åˆ°è¡Œä¸‹æ ‡æˆ–åˆ—ä¸‹æ ‡è¶…å‡ºè¾¹ç•Œ
  - è·å¾—å½“å‰ä¸‹æ ‡ä½ç½®çš„å…ƒç´  num
  - å¦‚æœ num å’Œ target ç›¸ç­‰ï¼Œè¿”å› true
  - å¦‚æœ num å¤§äº targetï¼Œåˆ—ä¸‹æ ‡å‡ 1
  - å¦‚æœ num å°äº targetï¼Œè¡Œä¸‹æ ‡åŠ  1
- å¾ªç¯ä½“æ‰§è¡Œå®Œæ¯•ä»æœªæ‰¾åˆ°å…ƒç´ ç­‰äº target ï¼Œè¯´æ˜ä¸å­˜åœ¨è¿™æ ·çš„å…ƒç´ ï¼Œè¿”å› false`

ä»£ç ï¼š

```java

class Solution {
    public boolean findNumberIn2DArray(int[][] matrix, int target) {
        if (matrix == null || matrix.length == 0 || matrix[0].length == 0) {
            return false;
        }
        int rows = matrix.length, columns = matrix[0].length;
        int row = 0, column = columns - 1;
        while (row < rows && column >= 0) {
            int num = matrix[row][column];
            if (num == target) {
                return true;
            } else if (num > target) {
                column--;
            } else {
                row++;
            }
        }
        return false;
    }
}

```

å¤æ‚åº¦åˆ†æ:

- æ—¶é—´å¤æ‚åº¦ï¼šO(n+m)ã€‚è®¿é—®åˆ°çš„ä¸‹æ ‡çš„è¡Œæœ€å¤šå¢åŠ  n æ¬¡ï¼Œåˆ—æœ€å¤šå‡å°‘ m æ¬¡ï¼Œå› æ­¤å¾ªç¯ä½“æœ€å¤šæ‰§è¡Œ n + m æ¬¡ã€‚
- ç©ºé—´å¤æ‚åº¦ï¼šO(1)ã€‚



#### 20220327æˆåŠŸ

```java
class Solution {
    public boolean findNumberIn2DArray(int[][] matrix, int target) {

        //å¤„ç†ç©ºæ•°ç»„æƒ…å†µ
        if(matrix.length==0){
            return false;
        }

        //å¤„ç†éç©ºæ•°ç»„ï¼Œä»æ•°ç»„çš„å·¦ä¸‹è§’å¼€å§‹åšäºŒå‰æœç´¢æ ‘å¼æ¢ç´¢
        //åˆå§‹åŒ–è¡Œåˆ—åæ ‡ï¼›å…±nè¡Œmåˆ—
        int n=matrix.length-1,m=0,maxM=matrix[0].length-1;

        while(n>=0&&m<=maxM){
            if(matrix[n][m]<target){
                m++;
            }else if(matrix[n][m]>target){
                n--;
            }else{
                return true;
            }
        }

        return false;

    }
}
```



### [å‰‘æŒ‡ Offer 11. æ—‹è½¬æ•°ç»„çš„æœ€å°æ•°å­—](https://leetcode-cn.com/problems/xuan-zhuan-shu-zu-de-zui-xiao-shu-zi-lcof/)

#### é¦–æˆ˜åŠå¯„

```java
class Solution {
    public int minArray(int[] numbers) {

        //é¢˜ç›®è¯´nä¸ä¸ºè´Ÿæ•°ï¼Œä½†æ˜¯numbers[n]å¯èƒ½æ˜¯è´Ÿæ•°ï¼›é‚£ä¹ˆè¿™ä¸ªlastå–0å°±ä¼šå¯¼è‡´å…ƒç´ ä¸€æ—¦æœ‰è´Ÿæ•°ï¼Œå°±æå‰é€€å‡ºforå¾ªç¯
        //int last=0;
        int last=Integer.MIN_VALUE;
        for(int i=0;i<numbers.length;i++){
            //ä¾¦æŸ¥åˆ°æ–­å´–å°±è¿”å›
            if(numbers[i]<last){
                return numbers[i];
            }
            last=numbers[i];
        }

        //æ²¡ä¾¦æŸ¥åˆ°æ–­å´–ï¼Œå¯èƒ½æ˜¯æ•°å­—å…¨ç›¸åŒï¼›æˆ–è€…ç»å†äº†næ¬¡æ—‹è½¬æˆäº†æ²¡æ—‹è½¬å‰çš„å‡åºçŠ¶æ€ï¼šè¿”å›ç¬¬ä¸€ä¸ªæ•°
        return numbers[0];
    }
}
```

- æ€è·¯æœ‰ï¼Œä½†æ˜¯æŠŠlastè®¾ç½®ä¸º0å¿½ç•¥äº†æ•°ç»„å…ƒç´ ä¸ºè´Ÿæ•°çš„æƒ…å†µï¼Œå¯¼è‡´ç¨‹åºä¸€ç¢°åˆ°è´Ÿæ•°å…ƒç´ å°±ä»¥ä¸ºç¢°åˆ°äº†æ–­å´–å°±é€€å‡ºå¾ªç¯å¹¶è¿”å›é”™è¯¯çš„å€¼äº†ï¼›æŠŠlaståˆå§‹å€¼æ¢æˆæœ€å°æ•´æ•°å°±è¿‡äº†ã€‚
- æˆ‘åæ€ï¼šæ—¢ç„¶éƒ½çº¿æ€§éå†äº†ï¼Œä¸å¦‚å¹²è„†ç”¨laterè®°å½•ç¢°åˆ°è¿‡çš„æœ€å°å€¼ï¼Œç”šè‡³éƒ½ä¸ç”¨æŸ¥çœ‹æ–­å´–ï¼›æˆ‘ç›¸å½“äºç›¸åŒçš„æ—¶é—´å¤æ‚åº¦èƒ½è§£å†³çš„é—®é¢˜ï¼Œç”¨æ›´å¤æ‚çš„æ–¹å¼è§£å†³äº†ï¼Œå‡åˆ†é¡¹ã€‚

#### å®˜æ–¹-äºŒåˆ†æŸ¥æ‰¾

è§£é¢˜æ€è·¯ï¼š

![image-20220327224636236](lcof.assets/image-20220327224636236.png)

ç®—æ³•æµç¨‹ï¼š

![image-20220327224718445](lcof.assets/image-20220327224718445.png)

- æˆ‘ï¼šj=j-1åï¼Œæœ€å°å€¼è¿˜åœ¨ijä¹‹é—´ï¼Œå› ä¸ºï¼š
  - å¦‚æœjæ˜¯æœ€å°å€¼ï¼Œé‚£ä¹ˆåŸæœ¬numsm==numsjï¼Œè®©j--åï¼Œè‡³å°‘mä½ç½®æœ‰æœ€å°å€¼
  - j--ç›¸å½“äºæ˜¯ä¸ºé‡å¤å…ƒç´ å»é‡ã€‚

æ­£ç¡®æ€§è¯æ˜ï¼š

![image-20220327224758158](lcof.assets/image-20220327224758158.png)

è¡¥å……æ€è€ƒï¼š ä¸ºä»€ä¹ˆæœ¬é¢˜äºŒåˆ†æ³•ä¸ç”¨ nums[m]*n**u**m**s*[*m*] å’Œ nums[i]*n**u**m**s*[*i*] ä½œæ¯”è¾ƒï¼Ÿ

![image-20220327224829837](lcof.assets/image-20220327224829837.png)

å¤æ‚åº¦åˆ†æï¼š

![image-20220327224853507](lcof.assets/image-20220327224853507.png)

ä»£ç ï¼š

```java
class Solution {
    public int minArray(int[] numbers) {
        int i = 0, j = numbers.length - 1;
        while (i < j) {
            int m = (i + j) / 2;
            if (numbers[m] > numbers[j]) i = m + 1;
            else if (numbers[m] < numbers[j]) j = m;
            else j--;
        }
        return numbers[i];
    }
}
```

- ç½‘å‹ï¼šä¸ºä»€ä¹ˆå®˜æ–¹çš„äºŒåˆ†æ³•çš„é¢˜è§£å¾ˆå¤šéƒ½æ˜¯å†™çš„`low + (high - low) / 2 `è€Œä¸æ˜¯ `(high + low) / 2`
  - ç½‘å‹ç­”ï¼šé˜²æ­¢æº¢å‡ºå§ã€‚

### [å‰‘æŒ‡ Offer 50. ç¬¬ä¸€ä¸ªåªå‡ºç°ä¸€æ¬¡çš„å­—ç¬¦](https://leetcode-cn.com/problems/di-yi-ge-zhi-chu-xian-yi-ci-de-zi-fu-lcof/)

#### é¦–æˆ˜å‘Šæ·

```java
class Solution {
    public char firstUniqChar(String s) {
        /*
        ç¬¬ä¸€æ¬¡é‡å¤ã€‚æ²¡æœ‰è¯´æœ‰åºï¼Œä½¿ç”¨hashMapåˆ¤æ–­é‡å¤
         */
        Map<Character,Integer> map=new HashMap<>();
        //å…ˆåšä¸€æ¬¡éå†ï¼Œè®°å½•ä¸‹å„å­—ç¬¦å‡ºç°çš„é¢‘åº¦
        for(int i=0;i<s.length();i++){
            char tempCh=s.charAt(i);
            if(map.containsKey(tempCh)){
                map.put(tempCh,map.get(tempCh)+1);
            }else{
                //åŸºæœ¬æ•°æ®ç±»å‹ä¼šè‡ªåŠ¨åŒ…è£…æ‹†åŒ…
                map.put(tempCh,1);
            }
        }
        //æŸ¥æ‰¾ç¬¬ä¸€ä¸ªåªå‡ºç°ä¸€æ¬¡çš„å­—ç¬¦
        for(int i=0;i<s.length();i++){
            char tempCh=s.charAt(i);
            if(map.get(tempCh)==1){
                return tempCh;
            }
        }

        //ä¸€ç›´æ²¡return è¯´æ˜ä¸å­˜åœ¨å­—ç¬¦
        return ' ';
    }
}
```

#### ç½‘å‹1-æ•°ç»„è®°å½•

```java
public char firstUniqChar(String s) {
    if (s.equals("")) return ' ';
    //åˆ›å»ºâ€˜a'-'z'çš„å­—å…¸
    int[] target = new int[26];
    //ç¬¬ä¸€æ¬¡éå†ï¼Œå°†å­—ç¬¦ç»Ÿè®¡åˆ°å­—å…¸æ•°ç»„
    for (int i = 0; i < s.length(); i++) {
        target[s.charAt(i) - 'a']++;
    }
    //ç¬¬äºŒæ¬¡éå†ï¼Œä»å­—å…¸æ•°ç»„è·å–æ¬¡æ•°
    for (int i = 0; i < s.length(); i++) {
        if (target[s.charAt(i) - 'a'] == 1) return s.charAt(i);
    }

    return ' ';
}
```

- é¢˜å¹²è¯´`s åªåŒ…å«å°å†™å­—æ¯`ï¼Œæˆ‘åšé¢˜æ—¶è®¤ä¸ºï¼Œé™¤äº†è‹±æ–‡çš„26ä¸ªå­—æ¯å¯èƒ½è¿˜æœ‰åˆ«çš„å°å†™å­—æ¯ï¼Œå°±ç”¨äº†hashMapï¼›å¦‚æœè¿™é‡Œçš„å°å†™å­—æ¯åªæŒ‡è‹±æ–‡26å­—æ¯çš„è¯ï¼Œç½‘å‹1çš„åšæ³•ç¡®å®æ›´å¿«æ›´å¥½ï¼›ä½†æ˜¯æˆ‘çœ‹å®˜æ–¹ä¹Ÿæ²¡æœ‰ä½¿ç”¨26å­—æ¯çš„ç‰¹æ€§ï¼Œä¿é™©èµ·è§ï¼Œè¿˜æ˜¯åˆ«ç”¨ç½‘å‹1çš„æ–¹æ³•ã€‚

#### å®˜æ–¹æ–¹æ³•1-hashè¡¨

æœ¬é¢˜è€ƒå¯Ÿ å“ˆå¸Œè¡¨ çš„ä½¿ç”¨ï¼Œæœ¬æ–‡ä»‹ç» å“ˆå¸Œè¡¨ å’Œ æœ‰åºå“ˆå¸Œè¡¨ ä¸¤ç§è§£æ³•ã€‚å…¶ä¸­ï¼Œåœ¨å­—ç¬¦ä¸²é•¿åº¦è¾ƒå¤§ã€é‡å¤å­—ç¬¦å¾ˆå¤šæ—¶ï¼Œâ€œæœ‰åºå“ˆå¸Œè¡¨â€ è§£æ³•ç†è®ºä¸Šæ•ˆç‡æ›´é«˜ã€‚

1. éå†å­—ç¬¦ä¸² `s` ï¼Œä½¿ç”¨å“ˆå¸Œè¡¨ç»Ÿè®¡ â€œå„å­—ç¬¦æ•°é‡æ˜¯å¦ > 1>1 â€ã€‚
2. å†éå†å­—ç¬¦ä¸² `s` ï¼Œåœ¨å“ˆå¸Œè¡¨ä¸­æ‰¾åˆ°é¦–ä¸ª â€œæ•°é‡ä¸º 11 çš„å­—ç¬¦â€ï¼Œå¹¶è¿”å›ã€‚

![Picture1.png](lcof.assets/ed093aabc9195caff6d088454eaebe3cad875e8ca4a643c004ef25e4e5e9e174-Picture1.png)

ç®—æ³•æµç¨‹ï¼š

- åˆå§‹åŒ–ï¼š å­—å…¸ (Python)ã€HashMap(Java)ã€map(C++)ï¼Œè®°ä¸º dic ï¼›
- å­—ç¬¦ç»Ÿè®¡ï¼š éå†å­—ç¬¦ä¸² s ä¸­çš„æ¯ä¸ªå­—ç¬¦ c ï¼›
  - è‹¥ dic ä¸­ ä¸åŒ…å« é”®(key) c ï¼šåˆ™å‘ dic ä¸­æ·»åŠ é”®å€¼å¯¹ (c, True) ï¼Œä»£è¡¨å­—ç¬¦ c çš„æ•°é‡ä¸º 11 ï¼›
  - è‹¥ dic ä¸­ åŒ…å« é”®(key) c ï¼šåˆ™ä¿®æ”¹é”® c çš„é”®å€¼å¯¹ä¸º (c, False) ï¼Œä»£è¡¨å­—ç¬¦ c çš„æ•°é‡ > 1>1 ã€‚
- æŸ¥æ‰¾æ•°é‡ä¸º 11 çš„å­—ç¬¦ï¼š éå†å­—ç¬¦ä¸² s ä¸­çš„æ¯ä¸ªå­—ç¬¦ c ï¼›
  - è‹¥ dicä¸­é”® c å¯¹åº”çš„å€¼ä¸º True ï¼šï¼Œåˆ™è¿”å› c ã€‚
- è¿”å› ' ' ï¼Œä»£è¡¨å­—ç¬¦ä¸²æ— æ•°é‡ä¸º 11 çš„å­—ç¬¦ã€‚

å¤æ‚åº¦åˆ†æï¼š

- æ—¶é—´å¤æ‚åº¦ O(N)ï¼š Nä¸ºå­—ç¬¦ä¸² s çš„é•¿åº¦ï¼›éœ€éå† s ä¸¤è½®ï¼Œä½¿ç”¨ O(N)ï¼›HashMap æŸ¥æ‰¾æ“ä½œçš„å¤æ‚åº¦ä¸º O(1) ï¼›
- ç©ºé—´å¤æ‚åº¦ O(1) ï¼š ç”±äºé¢˜ç›®æŒ‡å‡º s åªåŒ…å«å°å†™å­—æ¯ï¼Œå› æ­¤æœ€å¤šæœ‰ 26 ä¸ªä¸åŒå­—ç¬¦ï¼ŒHashMap å­˜å‚¨éœ€å ç”¨ O(26) = O(1)çš„é¢å¤–ç©ºé—´ã€‚

ä»£ç ï¼š

```java
class Solution {
    public char firstUniqChar(String s) {
        HashMap<Character, Boolean> dic = new HashMap<>();
        char[] sc = s.toCharArray();
        for(char c : sc)
            dic.put(c, !dic.containsKey(c));
        for(char c : sc)
            if(dic.get(c)) return c;
        return ' ';
    }
}
```

- æˆ‘ï¼šè¿™ä¸ªè§£æ³•å’Œæˆ‘çš„å¾ˆåƒï¼Œåªæ˜¯å®ƒæ²¡æœ‰å­˜å‚¨sä¸­å­—ç¬¦å‡ºç°çš„å…·ä½“æ•°ç›®ï¼Œè€Œæ˜¯å­˜å‚¨æ˜¯å¦è¶…è¿‡1ä¸ªï¼ˆå¸ƒå°”å€¼ï¼‰
  - ç½‘å‹é’ˆå¯¹æˆ‘çš„å†™æ³•çš„è¯„ä»·ï¼šæˆ‘è§‰å¾— Map ç»“æ„çš„ Value ä½¿ç”¨ Boolean ç±»å‹æ˜¯ä¸€ä¸ªæ›´å¥½çš„é€‰æ‹©ï¼ŒåŸå› å¦‚ä¸‹ï¼š
    1. ä¸€ä¸ªå­—æ¯å‡ºç°çš„æ¬¡æ•°å¤§äº 1 æ¬¡å°±ä¸ç¬¦åˆè¦æ±‚äº†ï¼Œè¿™ä¸ªæ—¶å€™ä½¿ç”¨ Fasle æ ‡è®°çŠ¶æ€ç›¸å¯¹äº Integer çš„ä¸æ–­é€’å¢æ›´åˆç†ï¼Œä¹Ÿæ›´çœç©ºé—´ã€‚
    2. å¸ƒå°”å€¼å¯ä»¥ç”¨æ¥åˆ¤æ–­ï¼Œå¯ä»¥ç®€åŒ–ä»£ç é€»è¾‘ã€‚

#### å®˜æ–¹æ–¹æ³•2-æœ‰åºhashè¡¨æ³•

åœ¨å“ˆå¸Œè¡¨çš„åŸºç¡€ä¸Šï¼Œæœ‰åºå“ˆå¸Œè¡¨ä¸­çš„é”®å€¼å¯¹æ˜¯ **æŒ‰ç…§æ’å…¥é¡ºåºæ’åº** çš„ã€‚åŸºäºæ­¤ï¼Œå¯é€šè¿‡éå†æœ‰åºå“ˆå¸Œè¡¨ï¼Œå®ç°æœç´¢é¦–ä¸ª â€œæ•°é‡ä¸º 11 çš„å­—ç¬¦â€ã€‚

å“ˆå¸Œè¡¨æ˜¯ **å»é‡** çš„ï¼Œå³å“ˆå¸Œè¡¨ä¸­é”®å€¼å¯¹æ•°é‡ â‰¤ å­—ç¬¦ä¸² s çš„é•¿åº¦ã€‚å› æ­¤ï¼Œç›¸æ¯”äºæ–¹æ³•ä¸€ï¼Œæ–¹æ³•äºŒå‡å°‘äº†ç¬¬äºŒè½®éå†çš„å¾ªç¯æ¬¡æ•°ã€‚å½“å­—ç¬¦ä¸²å¾ˆé•¿ï¼ˆé‡å¤å­—ç¬¦å¾ˆå¤šï¼‰æ—¶ï¼Œæ–¹æ³•äºŒåˆ™æ•ˆç‡æ›´é«˜ã€‚

å¤æ‚åº¦åˆ†æï¼š

- æ—¶é—´å’Œç©ºé—´å¤æ‚åº¦å‡ä¸ â€œæ–¹æ³•ä¸€â€ ç›¸åŒï¼Œè€Œå…·ä½“åˆ†æï¼šæ–¹æ³•ä¸€ éœ€éå† s ä¸¤è½®ï¼›æ–¹æ³•äºŒ éå† s ä¸€è½®ï¼Œéå† dic ä¸€è½®ï¼ˆ dic çš„é•¿åº¦ä¸å¤§äº 26 ï¼‰ã€‚

ä»£ç ï¼š

```java
class Solution {
    public char firstUniqChar(String s) {
        Map<Character, Boolean> dic = new LinkedHashMap<>();
        char[] sc = s.toCharArray();
        for(char c : sc)
            dic.put(c, !dic.containsKey(c));
        for(Map.Entry<Character, Boolean> d : dic.entrySet()){
           if(d.getValue()) return d.getKey();
        }
        return ' ';
    }
}
```

- Java ä½¿ç”¨ LinkedHashMap å®ç°æœ‰åºå“ˆå¸Œè¡¨ã€‚

- å­—ç¬¦ä¸²è½¬æ¢ä¸ºå­—ç¬¦æ•°ç»„ï¼š`s.toCharArray();`

- [ä¸ºä»€ä¹ˆè¦ä½¿ç”¨Map.Entry](https://www.cnblogs.com/a198720/articles/4212034.html)



## æœç´¢ä¸å›æº¯ç®—æ³•(ç®€å•)

### [å‰‘æŒ‡ Offer 32 - I. ä»ä¸Šåˆ°ä¸‹æ‰“å°äºŒå‰æ ‘](https://leetcode-cn.com/problems/cong-shang-dao-xia-da-yin-er-cha-shu-lcof/)

#### é¦–æˆ˜åŠå¯„

```java
/**
 * Definition for a binary tree node.
 * public class TreeNode {
 *     int val;
 *     TreeNode left;
 *     TreeNode right;
 *     TreeNode(int x) { val = x; }
 * }
 */
class Solution {
    public int[] levelOrder(TreeNode root) {
        /*
        ä»ä¸Šå¾€ä¸‹ï¼Œä»å·¦å¾€å³ï¼Œè¿™æ˜¯bfsçš„ç‰¹ç‚¹ã€‚ä½¿ç”¨é˜Ÿåˆ—å®ç°bfsï¼šhttps://www.runoob.com/java/data-queue.html
        Queueæ¥å£è¦ç”¨linkedlistå®ç°ã€‚
         */
        //å¤„ç†ç‰¹æ®Šæƒ…å†µ
        if(root==null)return new int[0];

         //å­˜å‚¨ç»“æœ
         ArrayList<Integer> arrayList=new ArrayList<>();
         //åˆå§‹åŒ–é˜Ÿåˆ—
         Queue <TreeNode> queue=new LinkedList<>();
         queue.offer(root);

        //æŠŠå¤´èŠ‚ç‚¹åŠ å…¥ç»“æœæ•°ç»„åˆ—è¡¨ï¼Œå¹¶æŠŠå·¦å³å­èŠ‚ç‚¹åŠ å…¥é˜Ÿåˆ—
         while(!queue.isEmpty()){
             TreeNode temp=queue.poll();
             arrayList.add(temp.val);
            if(temp.left!=null)
                queue.offer(temp.left);
            if(temp.right!=null)
                queue.offer(temp.right);
         }

         //æŠŠintegeræ•°ç»„åˆ—è¡¨è½¬æ¢æˆintæ•°ç»„ï¼Œè¿™é‡Œåªèƒ½forå¾ªç¯ã€‚https://blog.csdn.net/huanghanqian/article/details/73920439
         int[] result=new int[arrayList.size()];
         for(int i=0;i<arrayList.size();i++){
             //arraylistä¸èƒ½æ•°ç»„å¼è®¿é—®ï¼Œè¦ç”¨getï¼Œä¸èƒ½ç”¨arraylist[i]å½¢å¼è®¿é—®
             result[i]=arrayList.get(i).intValue();
         }
         return result;

    }
}
```

- æ€è·¯æœ‰ï¼Œä½†æ˜¯queueçš„ä½¿ç”¨ï¼Œarraylistè½¬arrayéƒ½æ˜¯å€ŸåŠ©ç½‘ç»œäº†ï¼Œä¸­é—´è¿è¡Œäº†å‡ æ¬¡ã€‚

- æˆ‘æ¨æµ‹ï¼šå•ä¸ªint Integeräº’ç›¸è½¬æ¢å¯ä»¥è‡ªåŠ¨è£…ç®±æ‹†ç®±ï¼›ä½†æ˜¯int[]å’ŒInteger[]äº’ç›¸è½¬æ¢å°±ä¸èƒ½ç›´æ¥è£…ç®±æ‹†ç®±ï¼Œè€Œè¦å¯¹ä¸€ä¸ªä¸ªå…ƒç´ æ‰‹åŠ¨/è‡ªåŠ¨è£…ç®±æ‹†ç®±ï¼›
  - å¦‚æœ¬é¢˜ç›®æ‰€ç¤º`result[i]=arrayList.get(i).intValue();`æ˜¯æ‰‹åŠ¨æ‹†ç®±ï¼Œ`result[i]=arrayList.get(i);`æ˜¯è‡ªåŠ¨æ‹†ç®±ï¼Œäº²æµ‹éƒ½å¯ä»¥æäº¤æˆåŠŸã€‚

#### å®˜æ–¹-bfs

è§£é¢˜æ€è·¯ï¼š

- é¢˜ç›®è¦æ±‚çš„äºŒå‰æ ‘çš„ **ä»ä¸Šè‡³ä¸‹** æ‰“å°ï¼ˆå³æŒ‰å±‚æ‰“å°ï¼‰ï¼Œåˆç§°ä¸ºäºŒå‰æ ‘çš„ **å¹¿åº¦ä¼˜å…ˆæœç´¢**ï¼ˆBFSï¼‰ã€‚
- BFS é€šå¸¸å€ŸåŠ© **é˜Ÿåˆ—** çš„å…ˆå…¥å…ˆå‡ºç‰¹æ€§æ¥å®ç°ã€‚

![Picture0.png](lcof.assets/f824fdd8052ae4ee657365c98633480caf03c60e42e4661797618e318baf8664-Picture0.png)

ç®—æ³•æµç¨‹ï¼š

1. ç‰¹ä¾‹å¤„ç†ï¼š å½“æ ‘çš„æ ¹èŠ‚ç‚¹ä¸ºç©ºï¼Œåˆ™ç›´æ¥è¿”å›ç©ºåˆ—è¡¨ [] ï¼›
2. åˆå§‹åŒ–ï¼š æ‰“å°ç»“æœåˆ—è¡¨ res = [] ï¼ŒåŒ…å«æ ¹èŠ‚ç‚¹çš„é˜Ÿåˆ— queue = [root] ï¼›
3. BFS å¾ªç¯ï¼š å½“é˜Ÿåˆ— queue ä¸ºç©ºæ—¶è·³å‡ºï¼›
   1. å‡ºé˜Ÿï¼š é˜Ÿé¦–å…ƒç´ å‡ºé˜Ÿï¼Œè®°ä¸º nodeï¼›
   2. æ‰“å°ï¼š å°† node.val æ·»åŠ è‡³åˆ—è¡¨ tmp å°¾éƒ¨ï¼›
   3. æ·»åŠ å­èŠ‚ç‚¹ï¼š è‹¥ node çš„å·¦ï¼ˆå³ï¼‰å­èŠ‚ç‚¹ä¸ä¸ºç©ºï¼Œåˆ™å°†å·¦ï¼ˆå³ï¼‰å­èŠ‚ç‚¹åŠ å…¥é˜Ÿåˆ— queue ï¼›
4. è¿”å›å€¼ï¼š è¿”å›æ‰“å°ç»“æœåˆ—è¡¨ res å³å¯ã€‚

å¤æ‚åº¦åˆ†æï¼š

- æ—¶é—´å¤æ‚åº¦ O(N)O(N) ï¼š NN ä¸ºäºŒå‰æ ‘çš„èŠ‚ç‚¹æ•°é‡ï¼Œå³ BFS éœ€å¾ªç¯ NN æ¬¡ã€‚
- ç©ºé—´å¤æ‚åº¦ O(N)O(N) ï¼š æœ€å·®æƒ…å†µä¸‹ï¼Œå³å½“æ ‘ä¸ºå¹³è¡¡äºŒå‰æ ‘æ—¶ï¼Œæœ€å¤šæœ‰ N/2N/2 ä¸ªæ ‘èŠ‚ç‚¹åŒæ—¶åœ¨ queue ä¸­ï¼Œä½¿ç”¨ O(N)O(N) å¤§å°çš„é¢å¤–ç©ºé—´ã€‚

ä»£ç ï¼š

```java
class Solution {
    public int[] levelOrder(TreeNode root) {
        if(root == null) return new int[0];
        Queue<TreeNode> queue = new LinkedList<>(){{ add(root); }};
        ArrayList<Integer> ans = new ArrayList<>();
        while(!queue.isEmpty()) {
            TreeNode node = queue.poll();
            ans.add(node.val);
            if(node.left != null) queue.add(node.left);
            if(node.right != null) queue.add(node.right);
        }
        int[] res = new int[ans.size()];
        for(int i = 0; i < ans.size(); i++)
            res[i] = ans.get(i);
        return res;
    }
}
```

- æˆ‘ï¼šå’Œæˆ‘çš„ä»£ç åŸºæœ¬ä¸€æ ·ã€‚

### [å‰‘æŒ‡ Offer 32 - II. ä»ä¸Šåˆ°ä¸‹æ‰“å°äºŒå‰æ ‘ II](https://leetcode-cn.com/problems/cong-shang-dao-xia-da-yin-er-cha-shu-ii-lcof/)

#### é¦–æˆ˜å‘Šæ·

```java
/**
 * Definition for a binary tree node.
 * public class TreeNode {
 *     int val;
 *     TreeNode left;
 *     TreeNode right;
 *     TreeNode(int x) { val = x; }
 * }
 */
class Solution {
    public List<List<Integer>> levelOrder(TreeNode root) {
        /*
        "I. ä»ä¸Šåˆ°ä¸‹æ‰“å°äºŒå‰æ ‘ ç±»ä¼¼ï¼Œå…³é”®æ˜¯æ€ä¹ˆåˆ¤æ–­ä¸€å±‚çš„èŒƒå›´
        æ‰“ç®—ä½¿ç”¨ä¸¤ä¸ªé˜Ÿåˆ—ï¼Œcurå’Œnext
         */
         //å¤„ç†ç‰¹æ®Šæƒ…å†µ
         if(root==null) return new ArrayList<>();

        Queue<TreeNode> cur =new LinkedList<>();
        Queue<TreeNode> next =new LinkedList<>();
        List<List<Integer>> result=new ArrayList<>();//ArrayListåº•å±‚æ˜¯æ•°ç»„ï¼ŒæŸ¥è¯¢å¿«ã€å¢åˆ æ…¢ï¼›LinkedListåº•å±‚æ˜¯é“¾è¡¨ï¼ŒæŸ¥è¯¢æ…¢ã€å¢åˆ å¿«ã€‚

        cur.offer(root);
        do{
            //ç”¨äºå­˜å‚¨æ¥ä¸‹æ¥çš„é“¾è¡¨ä¸­çš„èŠ‚ç‚¹å€¼
            List<Integer> tempList=new ArrayList<>();
            while(!cur.isEmpty()){
            //å¤„ç†å½“å‰é˜Ÿåˆ—ä¸­çš„æ¯ä¸ªèŠ‚ç‚¹
            TreeNode temp=cur.poll();
            tempList.add(temp.val);
            if(temp.left!=null) next.offer(temp.left);
            if(temp.right!=null) next.offer(temp.right);
            }
            //æŠŠä¸€ä¸ªé˜Ÿåˆ—å¤„ç†å®Œåå¾—åˆ°çš„åˆ—è¡¨ï¼Œå­˜å…¥ç»“æœåˆ—è¡¨
            result.add(tempList);

            //curå¤„ç†å®Œäº†ï¼Œäº¤æ¢curå’Œnextï¼›è®©curå˜æˆå­˜äº†èŠ‚ç‚¹çš„é˜Ÿåˆ—ï¼Œnextå˜æˆç©ºé˜Ÿåˆ—
            Queue<TreeNode> tempQueue=cur;
            cur=next;
            next=tempQueue;

        }while(!cur.isEmpty());//è¿™é‡Œåˆ¤æ–­å½“å‰é˜Ÿåˆ—ä¸ºç©ºï¼Œå®é™…ä¸Šå°±æ˜¯åˆ¤æ–­ä¸Šä¸€è½®é˜Ÿåˆ—å¤„ç†åï¼Œè¿˜æœ‰æ²¡æœ‰èŠ‚ç‚¹è¦å¤„ç†

        return result;

    }
}
```

- æ€è·¯å’ŒçŸ¥è¯†ç‚¹éƒ½çŸ¥é“ï¼Œæœ‰äº›å°è¯­æ³•é”™è¯¯ï¼Œå€ŸåŠ©â€œæ‰§è¡Œä»£ç â€æ”¹äº†ä¸‹ï¼Œå°±æˆåŠŸäº†ã€‚

#### å®˜æ–¹-BFS

è§£é¢˜æ€è·¯ï¼š

> å»ºè®®å…ˆåš é¢è¯•é¢˜32 - I. ä»ä¸Šåˆ°ä¸‹æ‰“å°äºŒå‰æ ‘ å†åšæ­¤é¢˜ï¼Œä¸¤é¢˜ä»…æœ‰å¾®å°åŒºåˆ«ï¼Œå³æœ¬é¢˜éœ€å°† **æ¯ä¸€å±‚æ‰“å°åˆ°ä¸€è¡Œ** ã€‚

I. æŒ‰å±‚æ‰“å°ï¼š é¢˜ç›®è¦æ±‚çš„äºŒå‰æ ‘çš„ ä»ä¸Šè‡³ä¸‹ æ‰“å°ï¼ˆå³æŒ‰å±‚æ‰“å°ï¼‰ï¼Œåˆç§°ä¸ºäºŒå‰æ ‘çš„ å¹¿åº¦ä¼˜å…ˆæœç´¢ï¼ˆBFSï¼‰ã€‚BFS é€šå¸¸å€ŸåŠ© é˜Ÿåˆ— çš„å…ˆå…¥å…ˆå‡ºç‰¹æ€§æ¥å®ç°ã€‚

II. æ¯å±‚æ‰“å°åˆ°ä¸€è¡Œï¼š å°†æœ¬å±‚å…¨éƒ¨èŠ‚ç‚¹æ‰“å°åˆ°ä¸€è¡Œï¼Œå¹¶å°†ä¸‹ä¸€å±‚å…¨éƒ¨èŠ‚ç‚¹åŠ å…¥é˜Ÿåˆ—ï¼Œä»¥æ­¤ç±»æ¨ï¼Œå³å¯åˆ†ä¸ºå¤šè¡Œæ‰“å°ã€‚

![Picture1.png](lcof.assets/59e0600588ffdc2f34b4b563193b56c1f678743637e2754e2a9be0e7facc5d48-Picture1.png)

ç®—æ³•æµç¨‹ï¼š

1. ç‰¹ä¾‹å¤„ç†ï¼š å½“æ ¹èŠ‚ç‚¹ä¸ºç©ºï¼Œåˆ™è¿”å›ç©ºåˆ—è¡¨ [] ï¼›
2. åˆå§‹åŒ–ï¼š æ‰“å°ç»“æœåˆ—è¡¨ res = [] ï¼ŒåŒ…å«æ ¹èŠ‚ç‚¹çš„é˜Ÿåˆ— queue = [root] ï¼›
3. BFS å¾ªç¯ï¼š å½“é˜Ÿåˆ— queue ä¸ºç©ºæ—¶è·³å‡ºï¼›
   1. æ–°å»ºä¸€ä¸ªä¸´æ—¶åˆ—è¡¨ tmp ï¼Œç”¨äºå­˜å‚¨å½“å‰å±‚æ‰“å°ç»“æœï¼›
   2. å½“å‰å±‚æ‰“å°å¾ªç¯ï¼š å¾ªç¯æ¬¡æ•°ä¸ºå½“å‰å±‚èŠ‚ç‚¹æ•°ï¼ˆå³é˜Ÿåˆ— queue é•¿åº¦ï¼‰ï¼›
      1. å‡ºé˜Ÿï¼š é˜Ÿé¦–å…ƒç´ å‡ºé˜Ÿï¼Œè®°ä¸º nodeï¼›
      2. æ‰“å°ï¼š å°† node.val æ·»åŠ è‡³ tmp å°¾éƒ¨ï¼›
      3. æ·»åŠ å­èŠ‚ç‚¹ï¼š è‹¥ node çš„å·¦ï¼ˆå³ï¼‰å­èŠ‚ç‚¹ä¸ä¸ºç©ºï¼Œåˆ™å°†å·¦ï¼ˆå³ï¼‰å­èŠ‚ç‚¹åŠ å…¥é˜Ÿåˆ— queue ï¼›
   3. å°†å½“å‰å±‚ç»“æœ tmp æ·»åŠ å…¥ res ã€‚
4. è¿”å›å€¼ï¼š è¿”å›æ‰“å°ç»“æœåˆ—è¡¨ res å³å¯ã€‚

å¤æ‚åº¦åˆ†æï¼š

- æ—¶é—´å¤æ‚åº¦ O(N) ï¼š Nä¸ºäºŒå‰æ ‘çš„èŠ‚ç‚¹æ•°é‡ï¼Œå³ BFS éœ€å¾ªç¯ N æ¬¡ã€‚
- ç©ºé—´å¤æ‚åº¦ O(N) ï¼š æœ€å·®æƒ…å†µä¸‹ï¼Œå³å½“æ ‘ä¸ºå¹³è¡¡äºŒå‰æ ‘æ—¶ï¼Œæœ€å¤šæœ‰ N/2 ä¸ªæ ‘èŠ‚ç‚¹åŒæ—¶åœ¨ queue ä¸­ï¼Œä½¿ç”¨ O(N)å¤§å°çš„é¢å¤–ç©ºé—´ã€‚

ä»£ç ï¼š

```java
class Solution {
    public List<List<Integer>> levelOrder(TreeNode root) {
        Queue<TreeNode> queue = new LinkedList<>();
        List<List<Integer>> res = new ArrayList<>();
        if(root != null) queue.add(root);
        while(!queue.isEmpty()) {
            List<Integer> tmp = new ArrayList<>();
            for(int i = queue.size(); i > 0; i--) {
                TreeNode node = queue.poll();
                tmp.add(node.val);
                if(node.left != null) queue.add(node.left);
                if(node.right != null) queue.add(node.right);
            }
            res.add(tmp);
        }
        return res;
    }
}

```

- ç½‘å‹ï¼šè¿˜åœ¨æ€è€ƒæ€ä¹ˆåˆ†å±‚æ‰“å°ï¼Œåšä¸»è¿™ä¸ªlen(queue)çš„æ“ä½œå¤ª6äº†
  - æˆ‘ç†è§£ï¼šè¿™è¯´çš„len(queue)å°±æ˜¯i = queue.size()



### [å‰‘æŒ‡ Offer 32 - III. ä»ä¸Šåˆ°ä¸‹æ‰“å°äºŒå‰æ ‘ III](https://leetcode-cn.com/problems/cong-shang-dao-xia-da-yin-er-cha-shu-iii-lcof/)

#### é¦–æˆ˜åŠå¯„

```java
/**
 * Definition for a binary tree node.
 * public class TreeNode {
 *     int val;
 *     TreeNode left;
 *     TreeNode right;
 *     TreeNode(int x) { val = x; }
 * }
 */
class Solution {
    public List<List<Integer>> levelOrder(TreeNode root) {
        /*
        æ€»æ˜¯ä½¿ç”¨dequeä¸ä¼šé”™ï¼Œå®ƒä¹Ÿä»£æ›¿äº†Stackï¼šhttps://blog.csdn.net/devnn/article/details/82716447
         */

         //åˆ›å»ºåŒç«¯é˜Ÿåˆ—;é»˜è®¤èŠ‚ç‚¹lastè¿›firstå‡º;æ³¨æ„ç”¨LinkedListå®ç°Dequeï¼ï¼ï¼
         Deque <TreeNode> deque=new LinkedList<>();
         Deque <TreeNode> deque2=new LinkedList<>();
         if(root!=null) deque.offerLast(root);

         List<List<Integer>> resultList=new ArrayList<>();

         //å†³å®šæ˜¯å¦ä»å·¦(first)å¾€å³ï¼ˆlastï¼‰æ‰“å°èŠ‚ç‚¹;ç¬¬ä¸€è¡Œä»å·¦å¾€å³ï¼Œæ‰€ä»¥åˆå§‹true
         boolean left2right=true;

         while(!deque.isEmpty()){
             List<Integer> tempList=new ArrayList();
             //ä¸èƒ½åœ¨forä¸­åˆ¤æ–­sizeï¼Œå› ä¸ºåŠ äº†å­èŠ‚ç‚¹sizeå°±å˜äº†
             int dequeSize=deque.size();
             for(int i=0;i<dequeSize;i++){
                 //ä»å·¦å¾€å³æ‰“å°èŠ‚ç‚¹ï¼Œå°±å…ˆæ”¾å·¦å­èŠ‚ç‚¹è¿›é˜Ÿåˆ—(é»˜è®¤éƒ½ä»å°¾éƒ¨å…¥)
                if(left2right){
                    TreeNode temp=deque.pollLast();
                    tempList.add(temp.val);
                    //!!!åƒä¸‡ä¸è¦æŠŠnullå­˜å…¥é˜Ÿåˆ—ï¼Œå®ƒä¼šå ç”¨é˜Ÿåˆ—çš„ä¸€ä¸ªä½ç½®ï¼Œä¸”null.val null.leftéƒ½ä¼šå¯¼è‡´é”™è¯¯
                    if(temp.left!=null)deque2.offerLast(temp.left);
                    if(temp.right!=null)deque2.offerLast(temp.right);

                }else{//ä»å³å¾€å·¦æ‰“å°èŠ‚ç‚¹ï¼Œå°±å…ˆæ”¾å³å­èŠ‚ç‚¹è¿›é˜Ÿåˆ—(é»˜è®¤éƒ½ä»å°¾éƒ¨å…¥)
                    TreeNode temp=deque.pollLast();
                    tempList.add(temp.val);
                    if(temp.right!=null)deque2.offerLast(temp.right);
                    if(temp.left!=null)deque2.offerLast(temp.left);

                }
             }
             //æ›´æ”¹èµ°å‘æ ‡å¿—ï¼Œæ¢ä¸€ä¸ªæ–¹å‘çš„å­èŠ‚ç‚¹å…ˆå…¥é˜Ÿåˆ—
             left2right=!left2right;
             resultList.add(tempList);

             Deque <TreeNode> tempDeque=deque;
             deque=deque2;
             deque2=tempDeque;
         }

         return resultList;
    }
}
```

- åšçš„æ—¶å€™å„ç§bugï¼Œå’Œé€»è¾‘å°é”™è¯¯ï¼Œæœ€åç”¨ideaä¸€ä¸‹ä¸‹debugå¼„å‡ºæ¥äº†
- åº”è¯¥æ˜¯ç”¨æ¥å®˜æ–¹æ–¹æ³•2ï¼Œä½†æ˜¯ç¡®å®ç»•ã€‚

#### å®˜æ–¹1-å±‚åºéå† + åŒç«¯é˜Ÿåˆ—

æ€æƒ³ï¼š

- åˆ©ç”¨åŒç«¯é˜Ÿåˆ—çš„ä¸¤ç«¯çš†å¯æ·»åŠ å…ƒç´ çš„ç‰¹æ€§ï¼Œè®¾æ‰“å°åˆ—è¡¨ï¼ˆåŒç«¯é˜Ÿåˆ—ï¼‰ tmp ï¼Œå¹¶è§„å®šï¼š
  - å¥‡æ•°å±‚ åˆ™æ·»åŠ è‡³ tmp å°¾éƒ¨ ï¼Œ
  - å¶æ•°å±‚ åˆ™æ·»åŠ è‡³ tmp å¤´éƒ¨ ã€‚

ç®—æ³•æµç¨‹ï¼š

1. ç‰¹ä¾‹å¤„ç†ï¼š å½“æ ‘çš„æ ¹èŠ‚ç‚¹ä¸ºç©ºï¼Œåˆ™ç›´æ¥è¿”å›ç©ºåˆ—è¡¨ [] ï¼›
2. åˆå§‹åŒ–ï¼š æ‰“å°ç»“æœç©ºåˆ—è¡¨ res ï¼ŒåŒ…å«æ ¹èŠ‚ç‚¹çš„åŒç«¯é˜Ÿåˆ— deque ï¼›
3. BFS å¾ªç¯ï¼š å½“ deque ä¸ºç©ºæ—¶è·³å‡ºï¼›
   1. æ–°å»ºåˆ—è¡¨ tmp ï¼Œç”¨äºä¸´æ—¶å­˜å‚¨å½“å‰å±‚æ‰“å°ç»“æœï¼›
   2. å½“å‰å±‚æ‰“å°å¾ªç¯ï¼š å¾ªç¯æ¬¡æ•°ä¸ºå½“å‰å±‚èŠ‚ç‚¹æ•°ï¼ˆå³ deque é•¿åº¦ï¼‰ï¼›
      1. å‡ºé˜Ÿï¼š é˜Ÿé¦–å…ƒç´ å‡ºé˜Ÿï¼Œè®°ä¸º nodeï¼›
      2. æ‰“å°ï¼š è‹¥ä¸ºå¥‡æ•°å±‚ï¼Œå°† node.val æ·»åŠ è‡³ tmp å°¾éƒ¨ï¼›å¦åˆ™ï¼Œæ·»åŠ è‡³ tmp å¤´éƒ¨ï¼›
      3. æ·»åŠ å­èŠ‚ç‚¹ï¼š è‹¥ node çš„å·¦ï¼ˆå³ï¼‰å­èŠ‚ç‚¹ä¸ä¸ºç©ºï¼Œåˆ™åŠ å…¥ deque ï¼›
   3. å°†å½“å‰å±‚ç»“æœ tmp è½¬åŒ–ä¸º list å¹¶æ·»åŠ å…¥ res ï¼›
4. è¿”å›å€¼ï¼š è¿”å›æ‰“å°ç»“æœåˆ—è¡¨ res å³å¯ï¼›

å¤æ‚åº¦åˆ†æï¼š

- æ—¶é—´å¤æ‚åº¦ O(N) ï¼š Nä¸ºäºŒå‰æ ‘çš„èŠ‚ç‚¹æ•°é‡ï¼Œå³ BFS éœ€å¾ªç¯ Næ¬¡ï¼Œå ç”¨ O(N) ï¼›åŒç«¯é˜Ÿåˆ—çš„é˜Ÿé¦–å’Œé˜Ÿå°¾çš„æ·»åŠ å’Œåˆ é™¤æ“ä½œçš„æ—¶é—´å¤æ‚åº¦å‡ä¸º O(1) ã€‚
- ç©ºé—´å¤æ‚åº¦ O(N) ï¼š æœ€å·®æƒ…å†µä¸‹ï¼Œå³å½“æ ‘ä¸ºæ»¡äºŒå‰æ ‘æ—¶ï¼Œæœ€å¤šæœ‰ N/2 ä¸ªæ ‘èŠ‚ç‚¹ åŒæ—¶ åœ¨ deque ä¸­ï¼Œä½¿ç”¨ O(N)å¤§å°çš„é¢å¤–ç©ºé—´ã€‚

ä»£ç ï¼š

```java
class Solution {
    public List<List<Integer>> levelOrder(TreeNode root) {
        Queue<TreeNode> queue = new LinkedList<>();
        List<List<Integer>> res = new ArrayList<>();
        if(root != null) queue.add(root);
        while(!queue.isEmpty()) {
            LinkedList<Integer> tmp = new LinkedList<>();
            for(int i = queue.size(); i > 0; i--) {
                TreeNode node = queue.poll();
                if(res.size() % 2 == 0) tmp.addLast(node.val); // å¶æ•°å±‚ -> é˜Ÿåˆ—å¤´éƒ¨
                else tmp.addFirst(node.val); // å¥‡æ•°å±‚ -> é˜Ÿåˆ—å°¾éƒ¨
                if(node.left != null) queue.add(node.left);
                if(node.right != null) queue.add(node.right);
            }
            res.add(tmp);
        }
        return res;
    }
}
```

- Java ä¸­å°†é“¾è¡¨ LinkedList ä½œä¸ºåŒç«¯é˜Ÿåˆ—ä½¿ç”¨ï¼ŒLinkedList å¯ä»¥ç”¨addLastå’ŒaddFirstä»é“¾çŠ¶åˆ—è¡¨çš„ä¸¤ç«¯æ’å…¥ã€‚
- æ³¨æ„ï¼šæˆ‘` for(int i = 0; i <queue.size(); i++) `ï¼Œä¼šå¯¼è‡´å¾€é˜Ÿåˆ—åŠ å…ƒç´ åé˜Ÿåˆ—é•¿åº¦å˜åŒ–ï¼Œå¯¼è‡´çš„æ— æ³•æŒ‰å±‚è¾“å‡ºã€‚ä½†æ˜¯é¢˜è§£ä¸­` for(int i = queue.size(); i > 0; i--)`çš„å†™æ³•ï¼Œå°±ä¿è¯ä¸€å±‚çº§çš„èŠ‚ç‚¹æ•°ä¸ä¼šè¢«åç»­åŠ å…¥é˜Ÿåˆ—çš„èŠ‚ç‚¹æ‰€å½±å“ã€‚

#### å®˜æ–¹2-å±‚åºéå† + åŒç«¯é˜Ÿåˆ—ï¼ˆå¥‡å¶å±‚é€»è¾‘åˆ†ç¦»ï¼‰
- æ–¹æ³•ä¸€ä»£ç ç®€çŸ­ã€å®¹æ˜“å®ç°ï¼›ä½†éœ€è¦åˆ¤æ–­æ¯ä¸ªèŠ‚ç‚¹çš„æ‰€åœ¨å±‚å¥‡å¶æ€§ï¼Œå³å†—ä½™äº† NN æ¬¡åˆ¤æ–­ã€‚
- é€šè¿‡å°†å¥‡å¶å±‚é€»è¾‘æ‹†åˆ†ï¼Œå¯ä»¥æ¶ˆé™¤å†—ä½™çš„åˆ¤æ–­ã€‚

ç®—æ³•æµç¨‹ï¼š

![image-20220329165225545](lcof.assets/image-20220329165225545.png)

- ä¸æ–¹æ³•ä¸€å¯¹æ¯”ï¼Œä»… BFS å¾ªç¯ä¸åŒã€‚

- BFS å¾ªç¯ï¼š å¾ªç¯æ‰“å°å¥‡ / å¶æ•°å±‚ï¼Œå½“ deque ä¸ºç©ºæ—¶è·³å‡ºï¼›
  1. æ‰“å°å¥‡æ•°å±‚ï¼š ä»å·¦å‘å³ æ‰“å°ï¼Œå…ˆå·¦åå³ åŠ å…¥ä¸‹å±‚èŠ‚ç‚¹ï¼›
  2. è‹¥ deque ä¸ºç©ºï¼Œè¯´æ˜å‘ä¸‹æ— å¶æ•°å±‚ï¼Œåˆ™è·³å‡ºï¼›
  3. æ‰“å°å¶æ•°å±‚ï¼š ä»å³å‘å·¦ æ‰“å°ï¼Œå…ˆå³åå·¦ åŠ å…¥ä¸‹å±‚èŠ‚ç‚¹ï¼›

å¤æ‚åº¦åˆ†æï¼š

- æ—¶é—´å¤æ‚åº¦ O(N) ï¼š åŒæ–¹æ³•ä¸€ã€‚
- ç©ºé—´å¤æ‚åº¦ O(N)ï¼š åŒæ–¹æ³•ä¸€ã€‚

ä»£ç ï¼š

```java
class Solution {
    public List<List<Integer>> levelOrder(TreeNode root) {
        Deque<TreeNode> deque = new LinkedList<>();
        List<List<Integer>> res = new ArrayList<>();
        if(root != null) deque.add(root);
        while(!deque.isEmpty()) {
            // æ‰“å°å¥‡æ•°å±‚
            List<Integer> tmp = new ArrayList<>();
            for(int i = deque.size(); i > 0; i--) {
                // ä»å·¦å‘å³æ‰“å°
                TreeNode node = deque.removeFirst();
                tmp.add(node.val);
                // å…ˆå·¦åå³åŠ å…¥ä¸‹å±‚èŠ‚ç‚¹
                if(node.left != null) deque.addLast(node.left);
                if(node.right != null) deque.addLast(node.right);
            }
            res.add(tmp);
            if(deque.isEmpty()) break; // è‹¥ä¸ºç©ºåˆ™æå‰è·³å‡º
            // æ‰“å°å¶æ•°å±‚
            tmp = new ArrayList<>();
            for(int i = deque.size(); i > 0; i--) {
                // ä»å³å‘å·¦æ‰“å°
                TreeNode node = deque.removeLast();
                tmp.add(node.val);
                // å…ˆå³åå·¦åŠ å…¥ä¸‹å±‚èŠ‚ç‚¹
                if(node.right != null) deque.addFirst(node.right);
                if(node.left != null) deque.addFirst(node.left);
            }
            res.add(tmp);
        }
        return res;
    }
}

```

- å› ä¸ºå¥‡æ•°å±‚æ—¶ä»firstæ‹¿ï¼Œä»laståŠ ï¼›å¶æ•°å±‚æ˜¯ä»lastæ‹¿ï¼Œä»firståŠ ï¼›ä¸¤è€…åˆ†åˆ«ä»ä¸¤ç«¯æ‹¿ã€‚æ‰€ä»¥å¯ä»¥å¤„ç†å®Œå¥‡æ•°å±‚åç´§æ¥ç€å°±å¤„ç†å¶æ•°å±‚ã€‚
- æœ¬é¢˜ï¼Œå¥‡æ•°å±‚ä»åŒç«¯é˜Ÿåˆ—çš„å·¦è¾¹æ‹¿æ•°ï¼Œå¶æ•°å±‚ä»åŒç«¯é˜Ÿåˆ—çš„å³è¾¹æ‹¿æ•°ã€‚





### [å‰‘æŒ‡ Offer 26. æ ‘çš„å­ç»“æ„](https://leetcode-cn.com/problems/shu-de-zi-jie-gou-lcof/)

#### é¦–æˆ˜å¯„

- æ€è·¯æ¯”è¾ƒæ··ä¹±ï¼Œæ‹…å¿ƒè‡ªå·±çš„ç®—æ³•ä¼šé€ æˆèŠ‚ç‚¹çš„åå¤åˆ¤æ–­ï¼Œå°±æ”¾å¼ƒäº†

#### å®˜æ–¹-é€’å½’

è§£é¢˜æ€è·¯ï¼š

![image-20220329184634598](lcof.assets/image-20220329184634598.png)

ç®—æ³•æµç¨‹ï¼š

![image-20220329184701480](lcof.assets/image-20220329184701480.png)

å¤æ‚åº¦åˆ†æï¼š

![image-20220329185817677](lcof.assets/image-20220329185817677.png)

ä»£ç ï¼š

```java
/**
 * Definition for a binary tree node.
 * public class TreeNode {
 *     int val;
 *     TreeNode left;
 *     TreeNode right;
 *     TreeNode(int x) { val = x; }
 * }
 */
class Solution {
    public boolean isSubStructure(TreeNode A, TreeNode B) {
        //å¦‚æœå·¦å³èŠ‚ç‚¹æœ‰ç©ºçš„ï¼Œåˆ™è¯´æ˜ä¼ äº†ç©ºæ ‘è¿›æ¥ï¼ŒæŒ‰ç…§é¢˜ç›®è¯´æ˜ï¼Œç©ºæ ‘ä¸å‚ä¸å­—æ•°åˆ¤æ–­ï¼Œç›´æ¥è¿”å›falseã€‚
        if (A == null||B == null ) {
            return false;
        }

        //å·¦å³èŠ‚ç‚¹éƒ½ä¸ä¸ºç©ºï¼Œå¦‚æœå½“å‰èŠ‚ç‚¹ç›¸ç­‰ï¼Œå°±ç»§ç»­åˆ¤æ–­å½“å‰ä¸¤ä¸ªèŠ‚ç‚¹çš„å·¦å³å­æ ‘æ˜¯å¦è¿˜ç¬¦åˆå­ç»“æ„
        if (A.val == B.val && (helper(A.left, B.left) && helper(A.right, B.right))) {
            return true;
        }

        //å¦‚æœä»¥å½“å‰èŠ‚ç‚¹ä¸ºæ ¹çš„æ ‘ä¸ç¬¦åˆï¼Œå°±åˆ¤æ–­Açš„å·¦å­æ ‘æ˜¯å¦åŒ…å«Bï¼Œæˆ–Açš„å³å­æ ‘æ˜¯å¦åŒ…å«B
        return isSubStructure(A.left, B) || isSubStructure(A.right, B);
    }

    private boolean helper(TreeNode root1, TreeNode root2) {
        //å¿…é¡»è¦å…ˆåˆ¤æ–­root2ï¼Œå†åˆ¤æ–­root1ï¼›è¿™æ ·å¦‚é¢˜å¹²ä¸­Bæ ‘çš„4å·èŠ‚ç‚¹çš„å³å­æ ‘ä¸ºç©ºï¼Œä½†æ˜¯Aæ ‘çš„4å·èŠ‚ç‚¹çš„å³å­æ ‘ä¸ä¸ºç©ºï¼Œå…ˆåˆ¤æ–­Bæ ‘ä¸ºç©ºæ‰èƒ½è¿”å›trueã€‚
        if (root2 == null) {
            return true;
        }
        if (root1 == null) {
            return false;
        }
        //å¦‚æœæ ‘çš„è·¯å¾„ä¸Šçš„èŠ‚ç‚¹ç›¸åŒï¼Œç»§ç»­å¾€ä¸‹åˆ¤æ–­
        if (root1.val == root2.val) {
            return helper(root1.left, root2.left) && helper(root1.right, root2.right);
        } else {
            return false;
        }
    }
}
```

- helperä¸“é—¨ç”¨æ¥åˆ¤æ–­å·¦å³å­æ ‘ã€‚



### [å‰‘æŒ‡ Offer 27. äºŒå‰æ ‘çš„é•œåƒ](https://leetcode-cn.com/problems/er-cha-shu-de-jing-xiang-lcof/)

#### é¦–æˆ˜å‘Šæ·

```java
/**
 * Definition for a binary tree node.
 * public class TreeNode {
 *     int val;
 *     TreeNode left;
 *     TreeNode right;
 *     TreeNode(int x) { val = x; }
 * }
 */
class Solution {
    public TreeNode mirrorTree(TreeNode root) {
        /*
        äº¤æ¢æ¯ä¸ªèŠ‚ç‚¹çš„å·¦å³å­èŠ‚ç‚¹ï¼Œå³å¾—åˆ°é•œåƒ
         */
         
         //å¦‚æœåŸæ ‘ä¸ºç©ºï¼Œè¿”å›null
         if(root==null)return null;
        //å¦‚æœåŸæ ‘ä¸ä¸ºç©ºï¼Œåˆ›é€ æ–°æ ‘çš„æ ¹èŠ‚ç‚¹ï¼Œå¹¶é€’å½’æ„å»ºæ–°æ ‘çš„å·¦å³å­èŠ‚ç‚¹ã€‚
         TreeNode result=new TreeNode(root.val);
         result.left=recur(root.right);
         result.right=recur(root.left);

        //è¿”å›æ–°æ ‘
         return result;
    }
    public TreeNode recur(TreeNode root){
        if(root==null) return null;
        
        //è®¾ç½®å¥½å½“å‰èŠ‚ç‚¹å’Œå·¦å³å­èŠ‚ç‚¹
        TreeNode curNode=new TreeNode(root.val);
        curNode.left=recur(root.right);
        curNode.right=recur(root.left);

        //æŠŠå½“å‰èŠ‚ç‚¹è¿”å›ç»™ä¸Šä¸€å±‚é€’å½’
        return curNode;
    }
}
```

#### å®˜æ–¹-é€’å½’

æ€è·¯ä¸ç®—æ³•:

- è¿™æ˜¯ä¸€é“å¾ˆç»å…¸çš„äºŒå‰æ ‘é—®é¢˜ã€‚æ˜¾ç„¶ï¼Œæˆ‘ä»¬ä»æ ¹èŠ‚ç‚¹å¼€å§‹ï¼Œé€’å½’åœ°å¯¹æ ‘è¿›è¡Œéå†ï¼Œå¹¶ä»å¶å­èŠ‚ç‚¹å…ˆå¼€å§‹ç¿»è½¬å¾—åˆ°é•œåƒã€‚å¦‚æœå½“å‰éå†åˆ°çš„èŠ‚ç‚¹root çš„å·¦å³ä¸¤æ£µå­æ ‘éƒ½å·²ç»ç¿»è½¬å¾—åˆ°é•œåƒï¼Œé‚£ä¹ˆæˆ‘ä»¬åªéœ€è¦äº¤æ¢ä¸¤æ£µå­æ ‘çš„ä½ç½®ï¼Œå³å¯å¾—åˆ°ä»¥root ä¸ºæ ¹èŠ‚ç‚¹çš„æ•´æ£µå­æ ‘çš„é•œåƒã€‚

ä»£ç ï¼š

```java
class Solution {
    public TreeNode mirrorTree(TreeNode root) {
        if (root == null) {
            return null;
        }
        TreeNode left = mirrorTree(root.left);
        TreeNode right = mirrorTree(root.right);
        root.left = right;
        root.right = left;
        return root;
    }
}
```

- å®˜æ–¹æ€è·¯å’Œæˆ‘ä¸€æ ·ï¼Œä¸è¿‡æˆ‘è‡ªå»ºäº†ä¸€ä¸ªrecurå‡½æ•°ï¼Œè®©recurä¸“é—¨è´Ÿè´£å­èŠ‚ç‚¹çš„å¤„ç†ï¼Œè®©é€»è¾‘æ›´æ¸…æ™°ã€‚

å¤æ‚åº¦åˆ†æ:

- æ—¶é—´å¤æ‚åº¦ï¼šO(N)ï¼Œå…¶ä¸­ N  ä¸ºäºŒå‰æ ‘èŠ‚ç‚¹çš„æ•°ç›®ã€‚æˆ‘ä»¬ä¼šéå†äºŒå‰æ ‘ä¸­çš„æ¯ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå¯¹æ¯ä¸ªèŠ‚ç‚¹è€Œè¨€ï¼Œæˆ‘ä»¬åœ¨å¸¸æ•°æ—¶é—´å†…äº¤æ¢å…¶ä¸¤æ£µå­æ ‘ã€‚

- ç©ºé—´å¤æ‚åº¦ï¼šO(N) ã€‚ä½¿ç”¨çš„ç©ºé—´ç”±é€’å½’æ ˆçš„æ·±åº¦å†³å®šï¼Œå®ƒç­‰äºå½“å‰èŠ‚ç‚¹åœ¨äºŒå‰æ ‘ä¸­çš„é«˜åº¦ã€‚åœ¨å¹³å‡æƒ…å†µä¸‹ï¼ŒäºŒå‰æ ‘çš„é«˜åº¦ä¸èŠ‚ç‚¹ä¸ªæ•°ä¸ºå¯¹æ•°å…³ç³»ï¼Œå³ O(logN)ã€‚è€Œåœ¨æœ€åæƒ…å†µä¸‹ï¼Œæ ‘å½¢æˆé“¾çŠ¶ï¼Œç©ºé—´å¤æ‚åº¦ä¸º O(N)ã€‚

### [å‰‘æŒ‡ Offer 28. å¯¹ç§°çš„äºŒå‰æ ‘](https://leetcode-cn.com/problems/dui-cheng-de-er-cha-shu-lcof/)

#### é¦–æˆ˜å¯„

```java
/**
 * Definition for a binary tree node.
 * public class TreeNode {
 *     int val;
 *     TreeNode left;
 *     TreeNode right;
 *     TreeNode(int x) { val = x; }
 * }
 */
class Solution {
    public boolean isSymmetric(TreeNode root) {
        /*
        dequeå’Œqueueç”¨linkedlistå®ç°æ˜¯å¯ä»¥å­˜å‚¨nullçš„ï¼ˆå®˜æ–¹ä¸å»ºè®®ï¼‰ï¼Œè¿™æ ·å¯ä»¥ç”¨bfsæ„å»ºé˜Ÿåˆ—ï¼Œä»ä¸¤ç«¯æ‹¿èŠ‚ç‚¹ï¼Œåªè¦ä¸åŒå°±è¿”å›false
         */
        if(root==null)return true;

        Deque<Integer> deque=new LinkedList<>();
        deque.addLast(root.val);
        while(!deque.isEmpty()){
            
            for
        }

    }
}
```

- æ²¡æœ‰å¥½æ–¹æ³•ï¼Œæœ¬æ¥æƒ³ç€ç”¨dequeä»ä¸¤ç«¯å¾€ä¸­é—´æ‹¿æ•°æ¥åˆ¤æ–­å¯¹ç§°ï¼Œä½†æ˜¯åŒæ—¶ä»ä¸¤ç«¯åŒæ—¶æ‹¿æ•°çš„è¯åˆæ— æ³•æ­£å¸¸å½¢æˆä¸‹ä¸€å±‚é˜Ÿåˆ—ã€‚

#### å®˜æ–¹-é€’å½’

è§£é¢˜æ€è·¯ï¼š

![image-20220330162905068](lcof.assets/image-20220330162905068.png)

ç®—æ³•æµç¨‹ï¼š

![image-20220330162925469](lcof.assets/image-20220330162925469.png)

å¤æ‚åº¦åˆ†æï¼š

![image-20220330162944480](lcof.assets/image-20220330162944480.png)

<img src="https://pic.leetcode-cn.com/88916808515487aac3ca24f9c55cbbdf6514f012eea04ec46cc2cc26acf9c4eb-Picture12.png" alt="Picture12.png" style="zoom:25%;" />

ä»£ç ï¼š

ç»†èŠ‚ç‰ˆï¼š

```java
/**
 * Definition for a binary tree node.
 * public class TreeNode {
 *     int val;
 *     TreeNode left;
 *     TreeNode right;
 *     TreeNode(int x) { val = x; }
 * }
 */
class Solution {
    public boolean isSymmetric(TreeNode root) {
        if (root == null) return true;
        return check(root.left, root.right); // æ£€æŸ¥rootçš„å·¦å³å­æ ‘
    }

    private boolean check(TreeNode a, TreeNode b) { 
        if (a == null && b == null) return true; // éƒ½ä¸ºç©º, å¯¹ç§°
        if (a != null && b == null) return false;
        if (a == null && b != null) return false; // åªæœ‰ä¸€è¾¹ä¸ºç©º, ä¸å¯¹ç§°
        if (a.val != b.val) return false; // éƒ½ä¸ä¸ºç©º, ä½†å€¼ä¸ç›¸ç­‰

        boolean outside = check(a.left, b.right); // æ¯”è¾ƒa, bä¸¤æ£µæ ‘çš„å¤–ä¾§
        boolean inside = check(a.right, b.left); // æ¯”è¾ƒa, bä¸¤é¢—æ ‘çš„å†…æµ‹
        return outside && inside; // a, bå†…å¤–ä¾§éƒ½ç›¸ç­‰æ‰å¯¹ç§°
    }
}

```

ç®€å†™ç‰ˆï¼š

```java
class Solution {
    public boolean isSymmetric(TreeNode root) {
        return root == null ? true : recur(root.left, root.right);
    }
    boolean recur(TreeNode L, TreeNode R) {
        if(L == null && R == null) return true;
        if(L == null || R == null || L.val != R.val) return false;
        return recur(L.left, R.right) && recur(L.right, R.left);
    }
}

```

#### å³æ—¶å†æˆ˜æˆåŠŸ

```java
/**
 * Definition for a binary tree node.
 * public class TreeNode {
 *     int val;
 *     TreeNode left;
 *     TreeNode right;
 *     TreeNode(int x) { val = x; }
 * }
 */
class Solution {
    public boolean isSymmetric(TreeNode root) {
        /*å¯¹ç§°æ¯”è¾ƒï¼ŒæŠ“ä½æ ‘çš„å¤–ä¾§å’Œå†…ä¾§ */
        if(root==null)return true;

        //åŸæ ‘æ ¹èŠ‚ç‚¹ä¸ä¸ºç©ºçš„è¯ï¼Œæ¯”è¾ƒå·¦å³å­æ ‘æ˜¯å¦å¯¹ç§°
        return recur(root.left,root.right);
    }
    public boolean recur(TreeNode leftTree,TreeNode rightTree){
        //å¦‚æœä¼ å…¥çš„ä¸¤ä¸ªèŠ‚ç‚¹éƒ½ä¸ºnullï¼Œè¯´æ˜éå†åˆ°æœ¬è·¯åŠ²çš„æœ«å°¾éƒ½æ²¡falseï¼Œè¿”å›ä»£è¡¨æœ¬è·¯åŠ²çš„true
        if(leftTree==null&&rightTree==null) return true;
        //å¦‚æœä¼ å…¥çš„ä¸¤ä¸ªæ ‘æ ¹èŠ‚ç‚¹çš„å€¼ä¸ç›¸åŒï¼Œæˆ–å·¦å³æ ¹èŠ‚ç‚¹æœ‰ä¸€ä¸ªä¸ºç©ºå¦ä¸€ä¸ªä¸æ˜¯ï¼Œåˆ™è¯´æ˜ä¼ å…¥çš„ä¸¤ä¸ªæ ‘ä¸å¯¹ç§°ï¼›æ³¨æ„åˆ¤æ–­nullåœ¨å–valä¹‹å‰åšï¼Œå¦åˆ™å¯èƒ½ç©ºæŒ‡é’ˆå¼‚å¸¸,è¿™å°±è¦åˆ©ç”¨||çš„â€œå¾—åˆ°trueå°±åœæ­¢åˆ¤æ–­çš„ç‰¹æ€§â€
        if((leftTree==null&&rightTree!=null)||(leftTree!=null&&rightTree==null)||(leftTree.val!=rightTree.val))return false;

        //å¦‚æœä¸Šé¢æƒ…å†µéƒ½æ²¡å‘ç”Ÿï¼Œè¯´æ˜ä¼ å…¥çš„ä¸¤ä¸ªæ ‘çš„æ ¹èŠ‚ç‚¹ç›¸åŒï¼Œé€’å½’åˆ¤æ–­è¿™é“¾å„ä¸ªæ ‘æ˜¯å¦ä¸ºå¯¹ç§°çš„ã€‚
        return recur(leftTree.left,rightTree.right)&&recur(leftTree.right,rightTree.left);
    }

}
```

## åŠ¨æ€è§„åˆ’(ç®€å•)

### [å‰‘æŒ‡ Offer 10- I. æ–æ³¢é‚£å¥‘æ•°åˆ—](https://leetcode-cn.com/problems/fei-bo-na-qi-shu-lie-lcof/)

#### é¦–æˆ˜å¯„

å…ˆå°è¯•ç›´æ¥é€’å½’ï¼Œn==43æ—¶ä¼šè¶…æ—¶ï¼Œå› ä¸ºæ‰§è¡Œæ¯ä¸€ä¸ªfibéƒ½ä¼šä¸€ç›´é€’å½’åˆ°0æˆ–1ï¼Œä½†æ˜¯æ¯”å¦‚`return (fib(n-1)+fib(n-2))%1000000007;`è®¡ç®—äº†å·¦è¾¹çš„fib(49)åï¼Œè®¡ç®—å³è¾¹çš„fib(48)æ—¶è¿˜é€’å½’åˆ°åº•ï¼Œæ‰€ä»¥æœ€å¥½æŠŠè®¡ç®—è¿‡çš„ç»“æœä¿å­˜ï¼ä¿å­˜è®¡ç®—ç»“æœåº”è¯¥æ˜¯åŠ¨æ€è§„åˆ’åŒºåˆ«äºé€’å½’çš„ä¸€ä¸ªç‰¹å¾ã€‚

```java
class Solution {
    public int fib(int n) {
        //è®¾å®šè¿”å›æ¡ä»¶
        if(n==0) {
            return 0;
        }else if(n==1) {
            return 1;
        }

        return (fib(n-1)+fib(n-2))%1000000007;
    }
}
```

- ä½†æ˜¯æƒ³ä¸èµ·æ¥æ€ä¹ˆä¿å­˜ç»“æœäº†

#### å®˜æ–¹-åŠ¨æ€è§„åˆ’

è§£é¢˜æ€è·¯ï¼š

![image-20220330174419199](lcof.assets/image-20220330174419199.png)

![image-20220330174432153](lcof.assets/image-20220330174432153.png)

åŠ¨æ€è§„åˆ’è§£æï¼š

![image-20220330174451619](lcof.assets/image-20220330174451619.png)

ç©ºé—´å¤æ‚åº¦ä¼˜åŒ–ï¼š

![image-20220330174517988](lcof.assets/image-20220330174517988.png)

å¾ªç¯æ±‚ä½™æ³• å¤„ç†å¤§æ•°ï¼š

![image-20220330174550027](lcof.assets/image-20220330174550027.png)

å¤æ‚åº¦åˆ†æï¼š

![image-20220330174615495](lcof.assets/image-20220330174615495.png)

ä»£ç ï¼š

```java
class Solution {
    public int fib(int n) {
        int a = 0, b = 1, sum;
        for(int i = 0; i < n; i++){
            sum = (a + b) % 1000000007;
            a = b;
            b = sum;
        }
        return a;
    }
}
```

#### å³æ—¶å†æˆ˜åŠå¯„

```java
class Solution {
    public int fib(int n) {
        /*
        åŠ¨æ€è§„åˆ’ï¼Œå½“å‰å€¼åªä¸å‰ä¸¤ä¸ªå€¼æœ‰å…³ï¼›è®©å€¼ä»å°å¾€å¤§åŠ å³å¯
         */

        //å…ˆè¿”å›ç‰¹æ®Šå€¼ï¼›è¿™æ ·ä¸‹é¢çš„forå¾ªç¯æ‰èƒ½å®‰å…¨åœ°åªæ¥æ”¶n>=2çš„æƒ…å†µ
        if(n==0||n==1)return n;

        int pre2=0,pre1=1;

        //å¾ªç¯å½“å‰çš„iä¸ºè°ï¼Œæ‰§è¡Œå®Œå½“å‰å¾ªç¯ï¼Œå¾—åˆ°çš„sumå³ä¸ºfib(i)
        for(int i=2;i<=n;i++){

            int tempSum=(pre2%1000000007+pre1%1000000007)%1000000007;
            pre2=pre1;
            pre1=tempSum;
        }

        //æœ€åä¸€æ¬¡å¾ªç¯å¾—åˆ°çš„sumå³ä¸ºfib(n)ï¼Œè¿™ä¸ªsumè¢«å¤åˆ¶ç»™pre1äº†
        return pre1;

    }
}
```

- ç¬¬ä¸€æ¬¡æäº¤çš„æ—¶å€™ï¼Œå¿½ç•¥äº†å¤„ç†n==1å’Œ0çš„æƒ…å†µï¼›forå¾ªç¯æ— æ³•å¤„ç†n<2çš„æƒ…å†µï¼Œæ‰€ä»¥è¦åšé¢å¯¹n==1å’Œ0çš„æƒ…å†µæ—¶çš„ç‰¹æ®Šå¤„ç†ã€‚å¦‚ä¸Šå¤„ç†åå°±æäº¤æˆåŠŸäº†ã€‚



### [å‰‘æŒ‡ Offer 10- II. é’è›™è·³å°é˜¶é—®é¢˜](https://leetcode-cn.com/problems/qing-wa-tiao-tai-jie-wen-ti-lcof/)

#### é¦–æˆ˜å‘Šæ·

```java
class Solution {
    public int numWays(int n) {
        /*
        è·³ä¸Šå°é˜¶çš„è·³æ³•ï¼Œè‡³åªä¸å‰ä¸¤æ­¥æœ‰å…³ç³»:è·³åˆ°å½“å‰å°é˜¶çš„æ–¹æ³•æ•°==è·³åˆ°prev1ï¼ˆå‰ä¸€ä¸ªå°é˜¶ï¼‰çš„æ–¹æ³•æ•°+è·³åˆ°prev2çš„æ–¹æ³•æ•°ã€‚
        å› ä¸ºè·³åˆ°å½“å‰å°é˜¶åªæœ‰ä¸¤ç§å¯èƒ½ï¼šä»prev1è·³1ä¸ªå°é˜¶ä¸Šæ¥ï¼Œæˆ–ä»prev2ä¸€è·ƒè·³ä¸¤ä¸ªå°é˜¶ä¸Šæ¥
         */

         if(n==0||n==1)return 1;
         if(n==2)return 2;

        //ä»ç¬¬ä¸‰çº§å°é˜¶å¼€å§‹åŠ¨æ€è§„åˆ’
         int prev1=2,prev2=1;
         //å½“å‰å¾ªç¯ä¸ºiï¼Œåˆ™æ‰§è¡Œå®Œå½“å‰å¾ªç¯æ—¶çš„sumä¸ºè·³åˆ°ç¬¬içº§å°é˜¶çš„è·³æ³•æ•°
         for(int i=3;i<=n;i++){
             int tempSum=(prev1%1000000007+prev2%1000000007)%1000000007;
             prev2=prev1;
             prev1=tempSum;
         }

         return prev1;

    }
}
```

#### å®˜æ–¹-åŠ¨æ€è§„åˆ’

è§£é¢˜æ€è·¯ï¼š

![image-20220330180140749](lcof.assets/image-20220330180140749.png)

- æœ¬é¢˜å’Œæ–æ³¢é‚£å¥‘æ•°åˆ—é—®é¢˜åŸºæœ¬ä¸€æ¨¡ä¸€æ ·ã€‚
- æ³¨æ„å¤§ä½¬è¯„è¯­ï¼šæ­¤ç±»æ±‚ ***å¤šå°‘ç§å¯èƒ½æ€§*** çš„é¢˜ç›®ä¸€èˆ¬éƒ½æœ‰ **é€’æ¨æ€§è´¨** ï¼Œå³ f(n)*f*(*n*) å’Œ f(n-1)*f*(*n*âˆ’1)â€¦f(1)*f*(1) ä¹‹é—´æ˜¯æœ‰è”ç³»çš„ã€‚

å¤æ‚åº¦åˆ†æï¼š

![image-20220330180256791](lcof.assets/image-20220330180256791.png)

ä»£ç ï¼š

```java
class Solution {
    public int numWays(int n) {
        int a = 1, b = 1, sum;
        for(int i = 0; i < n; i++){
            sum = (a + b) % 1000000007;
            a = b;
            b = sum;
        }
        return a;
    }
}
```



### [å‰‘æŒ‡ Offer 63. è‚¡ç¥¨çš„æœ€å¤§åˆ©æ¶¦](https://leetcode-cn.com/problems/gu-piao-de-zui-da-li-run-lcof/)

#### é¦–æˆ˜å‘Šæ·

```java
class Solution {
    public int maxProfit(int[] prices) {
        /*è®°å½•å†å²æœ€å¤§åˆ©æ¶¦ï¼Œå’Œæœ€ä½ä»·æ ¼çš„è‚¡ç¥¨ */
        
        //å¤„ç†ç‰¹æ®Šæƒ…å†µ
        if(prices.length==0)return 0;
        
        int lowP=prices[0];
        int benefit=0;
        for(int i=0;i<prices.length;i++){
            //æ—¶åˆ»æ›´æ–°æœ€å¤§æ”¶ç›Š
            if((prices[i]-lowP)>benefit){
                benefit=prices[i]-lowP;
            }
            //åªè¦ç¢°è§æ›´å°çš„priceå°±ä¿å­˜ï¼Œå› ä¸ºæœªæ¥ç¢°è§ç›¸åŒçš„é«˜å€¼æ—¶ï¼Œè®°å½•ä¸‹æ›´å°çš„lowPå¯ä»¥å¸¦æ¥æ›´å¤§çš„æ”¶å…¥ã€‚
            if(prices[i]<lowP){
                lowP=prices[i];
            }
        }
        
        return benefit;

    }
}
```

#### å®˜æ–¹-åŠ¨æ€è§„åˆ’

è§£é¢˜æ€è·¯ï¼š

![image-20220330192323464](lcof.assets/image-20220330192323464.png)

åŠ¨æ€è§„åˆ’è§£æï¼š

![image-20220330192357464](lcof.assets/image-20220330192357464.png)

æ•ˆç‡ä¼˜åŒ–ï¼š

![image-20220330192427858](lcof.assets/image-20220330192427858.png)

å¤æ‚åº¦åˆ†æï¼š

![image-20220330192446488](lcof.assets/image-20220330192446488.png)

ä»£ç ï¼š

```java
class Solution {
    public int maxProfit(int[] prices) {
        int cost = Integer.MAX_VALUE, profit = 0;
        for(int price : prices) {
            cost = Math.min(cost, price);
            profit =Math.min(profit, price - cost);
        }
        return profit;
    }
}
```

- æ³¨æ„è¿™é‡Œjavaå·¥å…·ç±»æ–¹æ³•`Math.min`å’Œ`Math.min`çš„ç”¨æ³•ã€‚



## åŠ¨æ€è§„åˆ’(ä¸­ç­‰)

### [å‰‘æŒ‡ Offer 42. è¿ç»­å­æ•°ç»„çš„æœ€å¤§å’Œ](https://leetcode-cn.com/problems/lian-xu-zi-shu-zu-de-zui-da-he-lcof/)

#### é¦–æˆ˜å¯„

#### å®˜æ–¹-åŠ¨æ€è§„åˆ’

è§£é¢˜æ€è·¯ï¼š

![image-20220331195848158](lcof.assets/image-20220331195848158.png)

åŠ¨æ€è§„åˆ’è§£æï¼š

![image-20220331195938823](lcof.assets/image-20220331195938823.png)

ç©ºé—´å¤æ‚åº¦é™ä½ï¼š

![image-20220331200048428](lcof.assets/image-20220331200048428.png)

å¤æ‚åº¦åˆ†æï¼š

![image-20220331200117017](lcof.assets/image-20220331200117017.png)

ä»£ç ï¼š

```java
class Solution {
    public int maxSubArray(int[] nums) {
        int res = nums[0];
        for(int i = 1; i < nums.length; i++) {
            nums[i] += Math.max(nums[i - 1], 0);
            res = Math.max(res, nums[i]);
        }
        return res;
    }
}
```

ç½‘å‹è¡¥å……ï¼šæ„Ÿè°¢åˆ†äº«ï¼Œæ€è·¯å¾ˆæ¸…æ™°ï¼Œåªæ˜¯æœ‰ä¸€ç‚¹å»ºè®®ã€‚ å› ä¸ºæœ‰çš„æ—¶å€™ï¼Œé¢˜ç›®è¦æ±‚å¯èƒ½ä¸èƒ½ä¿®æ”¹åŸæœ‰æ•°ç»„ï¼Œè€ƒè™‘åˆ°åœ¨dpåˆ—è¡¨ä¸­ï¼Œdp[i]åªå’Œdp[i-1]æœ‰å…³,æ‰€ä»¥ç”¨ä¸¤ä¸ªå‚æ•°å­˜å‚¨å¾ªç¯è¿‡ç¨‹ä¸­çš„dp[i]å’Œdp[i-1]çš„å€¼å³å¯ï¼Œç©ºé—´å¤æ‚åº¦ä¹Ÿä¸ºO(1)ã€‚ ä»£ç å¦‚ä¸‹ï¼š

```java
class Solution {
    public int maxSubArray(int[] nums) {
        int max = nums[0];
        int former = 0;//ç”¨äºè®°å½•dp[i-1]çš„å€¼ï¼Œå¯¹äºdp[0]è€Œè¨€ï¼Œå…¶å‰é¢çš„dp[-1]=0
        int cur = nums[0];//ç”¨äºè®°å½•dp[i]çš„å€¼
        for(int num:nums){
            cur = num;
            if(former>0) cur +=former;
            if(cur>max) max = cur;
            former=cur;
        }
        return max;
    }
}
```



#### å³æ—¶å†æˆ˜æˆåŠŸ

```java
class Solution {
    public int maxSubArray(int[] nums) {
        /* 
        dpiè¡¨ç¤ºå·²iå·å…ƒç´ ç»“å°¾çš„æœ€å¤§å­æ•°ç»„ï¼Œé‚£ä¹ˆdpi=Max(dp[i-1]+numsi,numsi),æ‰€ä»¥dp[i-1]<0çš„è¯åªèƒ½æ‹–åè…¿å°±æˆªæ‰
        å› ä¸ºæœ€é•¿å­æ•°ç»„æ˜¯è¿ç»­çš„ï¼Œæ‰€ä»¥è¦ä»¥iä¸ºç»“å°¾çš„æ•°ç»„åšdpæ•°ç»„
        */
        //å¤„ç†ç‰¹æ®Šæƒ…å†µ
        if(nums.length==0)return 0;
        if(nums.length==1)return nums[0];

        //ä»æ•°ç»„ç¬¬äºŒä¸ªå…ƒç´ å¼€å§‹å°±dpi
        int curMaxSum=nums[0],historyMaxSum=curMaxSum;
        for(int i=1;i<nums.length;i++){
            if(curMaxSum<0){
                curMaxSum=nums[i];
            }else{
                curMaxSum+=nums[i];
            }

            //åˆ¤æ–­å½“å‰çš„æœ€å¤§å€¼æ˜¯å¦æ¯”ä¹‹å‰æ‰€æœ‰è®°è½½è¿‡çš„æœ€å¤§å€¼éƒ½å¤§ï¼Œéƒ½å¤§çš„è¯æ›´æ–°å†å²æœ€å¤§å€¼
            if(curMaxSum>historyMaxSum){
                historyMaxSum=curMaxSum;
            }
        }

        return historyMaxSum;

    }
}
```



### [å‰‘æŒ‡ Offer 47. ç¤¼ç‰©çš„æœ€å¤§ä»·å€¼](https://leetcode-cn.com/problems/li-wu-de-zui-da-jie-zhi-lcof/)

#### é¦–æˆ˜å‘Šæ·

```java
class Solution {
    public int maxValue(int[][] grid) {
        /*
        è¦†å†™äºŒç»´æ•°ç»„ï¼Œåœ¨ç›¸åº”ä½ç½®å†™ä¸Šâ€œä»¥å·¦ä¸Šè§’å‡ºå‘åˆ°å½“å‰ä½ç½®èƒ½æ‹¿åˆ°çš„æœ€å¤§ç¤¼ç‰©â€ï¼Œè¿™ä¸ªç¤¼ç‰©å€¼åªä¸ä¸Šä¸€èŠ‚ç‚¹å’Œå·¦ä¸€èŠ‚ç‚¹æœ‰å…³ã€‚

        ä¸ºäº†ç©ºé—´å¤æ‚åº¦ï¼Œç›´æ¥åœ¨äºŒç»´æ•°ç»„ä¸Šè®°å½•
         */
         //å¤„ç†ç‰¹æ®Šæƒ…å†µ;æ³¨æ„è¦å…ˆåˆ¤æ–­è¡Œä¸ä¸º0ï¼Œå¦åˆ™å…ˆåˆ¤æ–­åˆ—ä¸ä¸º0çš„è¯å¯èƒ½å‡ºç°ç©ºæŒ‡é’ˆå¼‚å¸¸
         if(grid.length==0||grid[0].length==0)return 0;

         //å…ˆå¤„ç†äºŒç»´æ•°ç»„çš„è¡Œ
         for(int i=0;i<grid.length;i++){
             //å†åœ¨äºŒç»´æ•°ç»„çš„æŸä¸ªè¡Œä¸­ä¾æ¬¡å¤„ç†å„ä¸ªåˆ—å…ƒç´ 
             for(int j=0;j<grid[0].length;j++){
                 //è·å¾—æ•°ç»„å½“å‰å…ƒç´ ï¼Œä»å·¦orä»ä¸Šæ¥ï¼Œå“ªä¸ªæ‹¿æ›´å¤šç¤¼ç‰©
                 int tempLeft=0,tempUp=0;
                if(i>0){//å¦‚æœiå¤§äº0ï¼Œè¯´æ˜ä¸åœ¨ç¬¬ä¸€è¡Œï¼Œé‚£ä¹ˆå¯ä»¥è·å¾—grid[i-1][j]ä½ç½®å­˜æ”¾çš„æœ€å¤§ç¤¼ç‰©
                    tempUp=grid[i-1][j];
                }
                if(j>0){//å¦‚æœjå¤§äº0ï¼Œè¯´æ˜ä¸åœ¨ç¬¬ä¸€åˆ—ï¼Œé‚£ä¹ˆå¯ä»¥è·å¾—grid[i][j-1]ä½ç½®å­˜æ”¾çš„æœ€å¤§ç¤¼ç‰©
                    tempLeft=grid[i][j-1];
                }

                //æŠŠgrid[i][j]è¦†ç›–å†™ä¸ºèµ°å½“å½“å‰ä½ç½®èƒ½æ‹¿åˆ°å¾—æœ€å¤šç¤¼ç‰©ã€‚
                grid[i][j]=Math.max(tempLeft,tempUp)+grid[i][j];
             }

         }

         return grid[grid.length-1][grid[0].length-1];

    }
}
```

- çœ‹äº†å®˜æ–¹è§£æï¼Œæˆ‘å¾—è§£æ³•å°±æ˜¯å®˜æ–¹çš„å¾…ä¼˜åŒ–ç‰ˆï¼Œå¯ä»¥å…ˆåˆå§‹åŒ–â€œç¬¬ä¸€è¡Œ ç¬¬ä¸€åˆ—â€ï¼Œè¿™æ ·å°±é¿å…æ¯æ¬¡åˆ¤æ–­å½“å‰å…ƒç´ æ˜¯ä¸æ˜¯åœ¨äºŒç»´æ•°ç»„çš„è¾¹ç¼˜ã€‚

#### å®˜æ–¹-åŠ¨æ€è§„åˆ’

è§£é¢˜æ€è·¯ï¼š

![image-20220401152228155](lcof.assets/image-20220401152228155.png)

åŠ¨æ€è§„åˆ’è§£æï¼š

![image-20220401152255940](lcof.assets/image-20220401152255940.png)

ç©ºé—´å¤æ‚åº¦ä¼˜åŒ–ï¼š

![image-20220401152320811](lcof.assets/image-20220401152320811.png)

å¤æ‚åº¦åˆ†æï¼š

![image-20220401152346735](lcof.assets/image-20220401152346735.png)

ä»£ç ï¼š

```java
class Solution {
    public int maxValue(int[][] grid) {
        int m = grid.length, n = grid[0].length;
        for(int i = 0; i < m; i++) {
            for(int j = 0; j < n; j++) {
                if(i == 0 && j == 0) continue;
                if(i == 0) grid[i][j] += grid[i][j - 1] ;
                else if(j == 0) grid[i][j] += grid[i - 1][j];
                else grid[i][j] += Math.max(grid[i][j - 1], grid[i - 1][j]);
            }
        }
        return grid[m - 1][n - 1];
    }
}
```

ä»¥ä¸Šä»£ç é€»è¾‘æ¸…æ™°ï¼Œå’Œè½¬ç§»æ–¹ç¨‹ç›´æ¥å¯¹åº”ï¼Œä½†ä»å¯æå‡æ•ˆç‡ï¼šå½“ gridgrid çŸ©é˜µå¾ˆå¤§æ—¶ï¼Œ i = 0i=0 æˆ– j = 0j=0 çš„æƒ…å†µä»…å æå°‘æ•°ï¼Œç›¸å½“å¾ªç¯æ¯è½®éƒ½å†—ä½™äº†ä¸€æ¬¡åˆ¤æ–­ã€‚å› æ­¤ï¼Œå¯å…ˆåˆå§‹åŒ–çŸ©é˜µç¬¬ä¸€è¡Œå’Œç¬¬ä¸€åˆ—ï¼Œå†å¼€å§‹éå†é€’æ¨:

```java
class Solution {
    public int maxValue(int[][] grid) {
        int m = grid.length, n = grid[0].length;
        for(int j = 1; j < n; j++) // åˆå§‹åŒ–ç¬¬ä¸€è¡Œ
            grid[0][j] += grid[0][j - 1];
        for(int i = 1; i < m; i++) // åˆå§‹åŒ–ç¬¬ä¸€åˆ—
            grid[i][0] += grid[i - 1][0];
        for(int i = 1; i < m; i++)
            for(int j = 1; j < n; j++) 
                grid[i][j] += Math.max(grid[i][j - 1], grid[i - 1][j]);
        return grid[m - 1][n - 1];
    }
}

```



### [å‰‘æŒ‡ Offer 46. æŠŠæ•°å­—ç¿»è¯‘æˆå­—ç¬¦ä¸²](https://leetcode-cn.com/problems/ba-shu-zi-fan-yi-cheng-zi-fu-chuan-lcof/)

#### é¦–æˆ˜å¯„

#### å¤§ä½¬-é€‚åˆæ–°æ‰‹ç†è§£

æ€è·¯ï¼š

æ­¤é¢˜æ€»ç»“è§„å¾‹å’Œé’è›™è·³å°é˜¶æœ‰ç‚¹ç›¸ä¼¼ï¼ˆæ²¡åˆ·åˆ°çš„å¯ä»¥å…ˆåˆ·é’è›™è·³å°é˜¶ï¼‰ï¼Œé’è›™è·³å°é˜¶æ˜¯åªèƒ½è·³ä¸€æ­¥æˆ–è€…ä¸¤æ­¥ï¼Œæ‰€ä»¥æœ€ååªæœ‰ä¸¤ç§æƒ…å†µï¼š


    1. è·³åˆ°n-1é˜¶ï¼Œç„¶åå†è·³1
    2. è·³åˆ°n-2é˜¶,ç„¶åå†è·³2
    æ‰€ä»¥f(n) = f(n-1)+f(n-2)
æ­¤é¢˜å…³æ³¨çš„æ˜¯æœ€å¤§èƒ½ç¿»è¯‘çš„æ•°å­—ä¸º25ï¼Œè¯´æ˜æƒ…å†µä¸ºè¦ä¸ä¸€æ¬¡æ€§ç¿»è¯‘ä¸€ä¸ªæ•°å­—ï¼Œè¦ä¸ä¸€æ¬¡æ€§ç¿»è¯‘ä¸¤ä¸ªæ•°å­—ï¼ˆä¸å¯èƒ½ä¸‰ä¸ªæ•°å­—ï¼Œä¸‰ä¸ªæ•°å­—è‚¯å®šå¤§äº25äº†ï¼‰ï¼Œå’Œé’è›™è·³åªèƒ½è·³ä¸€æ­¥æˆ–ä¸¤æ­¥ç±»ä¼¼


    å‡è®¾dp(i)ä¸ºé•¿åº¦ä¸ºiçš„æ•°å­—çš„ç¿»è¯‘æ€»æ•°
        a.å¦‚æœæœ€åä¸¤ä½æ•°å­—å¤§äº10ä¸”å°äº25ï¼Œä»–æ‰èƒ½ç¿»è¯‘ä¸¤ä¸ªæ•°å­—ï¼Œä»–å°±å’Œé’è›™è·³ç±»ä¼¼æœ‰ä¸¤ç§æƒ…å†µï¼š
             1.dp(i-1),ç„¶åæœ€åä¸€ä¸ªæ•°å­—å•ç‹¬ç¿»è¯‘
             2.dp(i-2),ç„¶åæœ€åä¸¤ä¸ªæ•°å­—ä¸€èµ·ç¿»è¯‘
             æ‰€ä»¥dp(i) = dp(i-1) + dp(i-2);
        b.å¦‚æœæœ€åä¸¤ä½æ•°å­—æ¯”10å°ï¼Œæ¯”25å¤§ï¼Œé‚£ä¹ˆä»–æœ€åä¸€ä¸ªæ•°å­—åªèƒ½å•ç‹¬ç¿»è¯‘ï¼Œæ‰€ä»¥åªæœ‰ä¸€ç§æƒ…å†µï¼š
             1.dp(i-1),ç„¶åæœ€åä¸€ä¸ªæ•°å­—å•ç‹¬ç¿»è¯‘,æ‰€ä»¥dp(i) = dp(i-1);
ä»£ç (æœ€å¥½ç†è§£çš„å†™æ³•)

```java
class Solution {
    public int translateNum(int num) {
        //dp[i-2]
        int a = 1;
        //dp[i-1]
        int b = 1;
        //dp[i]
        int c = 1;
        String s = String.valueOf(num);
        for (int i = 1; i < s.length(); i++) {
            //æœ€åä¸¤ä¸ªæ•°å­—å¤§äº10å°äº25
            if ((s.charAt(i-1) == '1') || ( s.charAt(i-1) == '2' && s.charAt(i) <= '5')) {
                c = b + a;
                //æ›´æ–°æ–°çš„dp[i-2]
                a = b;
                //æ›´æ–°æ–°çš„dp[i-1]
                b = c;
            }else {
                c = b;
                //ç”±äºæ–°çš„dp[i-1]å€¼æ²¡å˜ï¼Œæ‰€ä»¥åªæ›´æ–°æ–°çš„dp[i-2]
                a = b;
            }
        }
        return c;

    }
}
```

- æ³¨æ„ï¼šå­—ç¬¦â€˜1â€™ â€˜2â€™ â€˜3â€™ â€˜4â€™ â€˜5â€™ï¼Œï¼Œä¹Ÿæ˜¯asciié€’å¢çš„ï¼Œä»–ä»¬å¯ä»¥ç”¨ç¬¦å·æ¯”å¤§å°ã€‚

#### å®˜æ–¹1-åŠ¨æ€è§„åˆ’+å­—ç¬¦ä¸²éå†

è§£é¢˜æ€è·¯ï¼š

æ ¹æ®é¢˜æ„ï¼Œå¯æŒ‰ç…§ä¸‹å›¾çš„æ€è·¯ï¼Œæ€»ç»“å‡º â€œé€’æ¨å…¬å¼â€ ï¼ˆå³è½¬ç§»æ–¹ç¨‹ï¼‰ã€‚
å› æ­¤ï¼Œæ­¤é¢˜å¯ç”¨åŠ¨æ€è§„åˆ’è§£å†³ï¼Œä»¥ä¸‹æŒ‰ç…§æµç¨‹è§£é¢˜ã€‚

![Picture1.png](lcof.assets/e231fde16304948251633cfc65d04396f117239ea2d13896b1d2678de9067b42-Picture1.png)

åŠ¨æ€è§„åˆ’è§£æï¼š

![image-20220401172718039](lcof.assets/image-20220401172718039.png)

å­—ç¬¦ä¸²éå†åšæ³•ï¼š

![image-20220401172829205](lcof.assets/image-20220401172829205.png)

å¤æ‚åº¦åˆ†æï¼š

![image-20220401172857171](lcof.assets/image-20220401172857171.png)

ä»£ç ï¼š

```java
class Solution {
    public int translateNum(int num) {
        String s = String.valueOf(num);
        int a = 1, b = 1;
        for(int i = 2; i <= s.length(); i++) {
            String tmp = s.substring(i - 2, i);
            int c = tmp.compareTo("10") >= 0 && tmp.compareTo("25") <= 0 ? a + b : a;
            b = a;
            a = c;
        }
        return a;
    }
}
```

é«˜èµç½‘å‹è¡¥å……ï¼šåŠ¨æ€è§„åˆ’æ€æƒ³ï¼ŒæŒ‰ç…§å¤§ä½¬çš„æ€è·¯ï¼Œä½¿ç”¨çš„æ•°ç»„ï¼ˆæ„Ÿè§‰ä½¿ç”¨aå’Œbä¸å¤ªç›´è§‚ï¼‰

```java
class Solution {
    public int translateNum(int num) {
        String s = String.valueOf(num);
        int[] dp = new int[s.length()+1];
        dp[0] = 1;
        dp[1] = 1;
        for(int i = 2; i <= s.length(); i ++){
            String temp = s.substring(i-2, i);
            if(temp.compareTo("10") >= 0 && temp.compareTo("25") <= 0)
                dp[i] = dp[i-1] + dp[i-2];
            else
                dp[i] = dp[i-1];
        }
        return dp[s.length()];
    }
}
```

![image-20220401173035518](lcof.assets/image-20220401173035518.png)

```java
class Solution {
    public int translateNum(int num) {
        String s = String.valueOf(num);
        int a = 1, b = 1;
        for(int i = s.length() - 2; i > -1; i--) {
            String tmp = s.substring(i, i + 2);
            int c = tmp.compareTo("10") >= 0 && tmp.compareTo("25") <= 0 ? a + b : a;
            b = a;
            a = c;
        }
        return a;
    }
}
```

#### å®˜æ–¹2-åŠ¨æ€è§„åˆ’+æ•°å­—æ±‚ä½™

ä¸Šè¿°æ–¹æ³•1è™½ç„¶å·²ç»èŠ‚çœäº† dpåˆ—è¡¨çš„ç©ºé—´å ç”¨ï¼Œä½†å­—ç¬¦ä¸² s ä»ä½¿ç”¨äº† O(N)å¤§å°çš„é¢å¤–ç©ºé—´ã€‚

ç©ºé—´å¤æ‚åº¦ä¼˜åŒ–ï¼š

![image-20220401173303141](lcof.assets/image-20220401173303141.png)

å¤æ‚åº¦åˆ†æï¼š

![image-20220401173327733](lcof.assets/image-20220401173327733.png)

ä»£ç ï¼š

```java
class Solution {
    public int translateNum(int num) {
        int a = 1, b = 1, x, y = num % 10;
        while(num != 0) {
            num /= 10;
            x = num % 10;
            int tmp = 10 * x + y;
            int c = (tmp >= 10 && tmp <= 25) ? a + b : a;
            b = a;
            a = c;
            y = x;
        }
        return a;
    }
}
```

é«˜èµç½‘å‹è¡¥å……ï¼šå¤§ä½¬ï¼Œç›´æ¥å¯¹100å–ä½™å¯ä»¥ç®€åŒ–ä»£ç :

```java
class Solution {
    public int translateNum(int num) {
        int m = 1, n = 1;
        // è‡³å°‘æ˜¯ä¸€ä¸ªä¸¤ä½æ•°æ‰éœ€è¦è€ƒè™‘èƒ½ä¸èƒ½ç»„åˆ
        while (num > 9) { 
            int t = (num % 100 < 26 && num % 100 > 9) ? m + n : n;
            m = n;
            n = t;
            num /= 10;
        }
        return n;
    }
}
```

#### åŠæ—¶å†æˆ˜æˆåŠŸ

```java
class Solution {
    public int translateNum(int num) {

        /**
        æ•°å­—ç¿»è¯‘æˆå­—ç¬¦ä¸²æ˜¯å¯¹ç§°çš„ï¼Œæ‰€ä»¥ä»å³å¾€å·¦çœ‹ï¼›ä»¥nums[i-1]ä¸ºé¦–ä½çš„æ•°å­—ï¼Œå¯èƒ½æ”¶åˆ°nums[i]å’Œnums[i+1]çš„å½±å“
         */
        //åˆå§‹åŒ–ï¼ŒæŠŠnumçœ‹åšnumsæ•°ç»„çš„è¯ï¼Œè¡¨ç¤ºä»¥nums[len-1]å’Œnums[len]ä¸ºç»ˆç‚¹çš„çš„ç¿»è¯‘æœ‰å‡ ç§æƒ…å†µï¼Œè™½ç„¶åˆå§‹æƒ…å†µä¸‹dpLater2å¯¹åº”çš„nums[len]ä¸å­˜åœ¨ï¼Œä½†æ˜¯å¯ä»¥é€šè¿‡dp[len-2]å’Œdp[len-1]æ¨å‡ºdp[len].
        int dpLater1=1,dpLater2=1;

        //ä½¿ç”¨å¯¹100æ±‚ä½™æ•°ï¼Œå¾—åˆ°æœ€æ¥è¿‘å·¦éå†ç»ˆç‚¹çš„ä¸¤ä¸ªæ•°å­—æ„æˆçš„æ•°
        while(num>9){
            int tempFocus=num%100;
            int dpCur;
            //æ•°å­—åœ¨[10,25]æœ‰ä¸¤ç§ç¿»è¯‘æ–¹æ³•
            if(tempFocus>=10&&tempFocus<=25){
                dpCur=dpLater1+dpLater2;
            }else{
                dpCur=dpLater1;
            }

            //å¾€å·¦ç»§ç»­å¤„ç†
            dpLater2=dpLater1;
            dpLater1=dpCur;
            num/=10;
        }

        //æœ€åçš„dpCurç»™äº†dpLater1
        return dpLater1;

    }
}
```

è‡ªç”»æ€è·¯å›¾ï¼š

![image-20220401181306013](lcof.assets/image-20220401181306013.png)

- å³æœ€åçš„12ï¼Œå¦‚æœæ•´ä½“ç¿»è¯‘ï¼Œå°±æ˜¯ä»¥4ä¸ºå·¦ç»“å°¾çš„ç¿»è¯‘å¯èƒ½æ•°ï¼ˆ12    4ï¼Œå…±ä¸€ç§æƒ…å†µï¼‰ï¼›å¦‚æœæ‹†å¼€ç¿»è¯‘ï¼Œå³æ˜¯ä»¥2ä¸ºç»“å°¾çš„è¿”å›æ•°ï¼ˆ1   2   4ï¼Œ1    24ï¼Œ  å…±ä¸¤ç§æƒ…å†µï¼‰ï¼›åˆå› ä¸ºæ—¢èƒ½ç¿»è¯‘ä¸º1åˆèƒ½ç¿»è¯‘ä¸º12ï¼Œæ‰€ä»¥æ˜¯ä¸¤ç§ç¿»è¯‘æƒ…å†µçš„ç§æ•°çš„å’Œã€‚
  - æ¯”å¦‚324ï¼Œæœ€ååˆ†æ32ï¼Œä¸èƒ½ä½œä¸ºç¿»è¯‘å•å…ƒï¼Œæ‰€ä»¥åªèƒ½æ‹†å¼€3å’Œ2ï¼›æœ‰3   24ï¼Œ3    2    4ä¸¤ç§æƒ…å†µï¼Œå³ç›¸å½“äºä»¥2ç»“å°¾çš„ç¿»è¯‘å¯èƒ½æ•°ã€‚

- å…¶å®æ ¸å¿ƒæ€æƒ³å°±æ˜¯ï¼Œä»å³å¾€å·¦å¤„ç†æ—¶ï¼Œæœ€åçš„ç¿»è¯‘å•å…ƒæ˜¯1 è¿˜æ˜¯12ï¼›æœ€åçš„ç¿»è¯‘å•å…ƒæ˜¯1åˆ™å¯¹åº”ä¸€ä¸ª1xxxxç¿»è¯‘ï¼Œæœ€åçš„ç¿»è¯‘å•å…ƒæ˜¯12åˆ™å¯¹åº”ä¸€ä¸ª12xxxxç¿»è¯‘ï¼ŒxxxxåŒºåŸŸç›¸å½“äºå°±æ˜¯åŠ¨æ€è§„åˆ’çš„å­é—®é¢˜ï¼Œå…±ä¸¤ç§æƒ…å†µã€‚å¦‚æœæ•°å­—æ›´é•¿çš„è¯ï¼Œä¹Ÿæ˜¯åŒç†ã€‚

### [å‰‘æŒ‡ Offer 48. æœ€é•¿ä¸å«é‡å¤å­—ç¬¦çš„å­å­—ç¬¦ä¸²](https://leetcode-cn.com/problems/zui-chang-bu-han-zhong-fu-zi-fu-de-zi-zi-fu-chuan-lcof/)

#### é¦–æˆ˜å¯„

#### å®˜æ–¹-è§£é¢˜æ€è·¯

è§£é¢˜æ€è·¯ï¼š

![image-20220402102952931](lcof.assets/image-20220402102952931.png)

åŠ¨æ€è§„åˆ’è§£æï¼š

![image-20220402103030643](lcof.assets/image-20220402103030643.png)

ç©ºé—´å¤æ‚åº¦ä¼˜åŒ–ï¼š

![image-20220402103106620](lcof.assets/image-20220402103106620.png)

#### å®˜æ–¹æ–¹æ³•1-åŠ¨æ€è§„åˆ’ + å“ˆå¸Œè¡¨

![image-20220402103323735](lcof.assets/image-20220402103323735.png)

å¤æ‚åº¦åˆ†æï¼š

![image-20220402103346795](lcof.assets/image-20220402103346795.png)

ä»£ç ï¼š

```java
class Solution {
    public int lengthOfLongestSubstring(String s) {
        Map<Character, Integer> dic = new HashMap<>();
        int res = 0, tmp = 0;
        for(int j = 0; j < s.length(); j++) {
            int i = dic.getOrDefault(s.charAt(j), -1); // è·å–ç´¢å¼• i
            dic.put(s.charAt(j), j); // æ›´æ–°å“ˆå¸Œè¡¨
            tmp = tmp < j - i ? tmp + 1 : j - i; // dp[j - 1] -> dp[j]
            res = Math.max(res, tmp); // max(dp[j - 1], dp[j])
        }
        return res;
    }
}
```

- Java çš„  getOrDefault(key, default)ï¼Œ ä»£è¡¨å½“å“ˆå¸Œè¡¨åŒ…å«é”® keyæ—¶è¿”å›å¯¹åº” value ï¼Œä¸åŒ…å«æ—¶è¿”å›é»˜è®¤å€¼ default ã€‚

- æˆ‘ï¼šdpjçš„å€¼ç”±dpj-1å’Œiå…±åŒå†³å®šï¼›å¦‚æœiåœ¨dpj-1æ‰€ä»£è¡¨çš„å­—ç¬¦ä¸²ä¸­ï¼Œåˆ™dpjçš„é•¿åº¦ä¸ºj-iï¼›å¦‚æœiä¸åœ¨dpj-1æ‰€ä»£è¡¨çš„å­—ç¬¦ä¸²ä¸­ï¼Œåˆ™dpjçš„é•¿åº¦ä¸º(dpj-1)+1ã€‚

#### å®˜æ–¹æ–¹æ³•2-åŠ¨æ€è§„åˆ’ + çº¿æ€§éå†

æ€è·¯ï¼š

![image-20220402104704664](lcof.assets/image-20220402104704664.png)

ä»£ç ï¼š

```java
class Solution {
    public int lengthOfLongestSubstring(String s) {
        Map<Character, Integer> dic = new HashMap<>();
        int res = 0, tmp = 0;
        for(int j = 0; j < s.length(); j++) {
            int i = j - 1;
            while(i >= 0 && s.charAt(i) != s.charAt(j)) i--; // çº¿æ€§æŸ¥æ‰¾ i
            tmp = tmp < j - i ? tmp + 1 : j - i; // dp[j - 1] -> dp[j]
            res = Math.max(res, tmp); // max(dp[j - 1], dp[j])
        }
        return res;
    }
}

```

- è¿™ç§å¾€å·¦éå†å¢å¤§äº†æ—¶é—´å¤æ‚åº¦ä¸ºon2ï¼Œä¸å¯å–ï¼Œä¸å»ºè®®

#### å®˜æ–¹æ–¹æ³•3-åŒæŒ‡é’ˆ + å“ˆå¸Œè¡¨

æ€è·¯ï¼š

![image-20220402104914233](lcof.assets/image-20220402104914233.png)

ä»£ç ï¼š

```java
class Solution {
    public int lengthOfLongestSubstring(String s) {
        Map<Character, Integer> dic = new HashMap<>();
        int i = -1, res = 0;
        for(int j = 0; j < s.length(); j++) {
            if(dic.containsKey(s.charAt(j)))
                i = Math.max(i, dic.get(s.charAt(j))); // æ›´æ–°å·¦æŒ‡é’ˆ i
            dic.put(s.charAt(j), j); // å“ˆå¸Œè¡¨è®°å½•
            res = Math.max(res, j - i); // æ›´æ–°ç»“æœï¼›j - iå³ä¸ºä»¥iä¸ºå³æŒ‡é’ˆçš„æœ€é•¿å­—ç¬¦ä¸²çš„é•¿åº¦ï¼Œå…¶è¦ä¸å†å²æœ€å¤§å€¼æ¯”è¾ƒæ¥æ›´æ–°å†å²æœ€å¤§å€¼ã€‚
        }
        return res;
    }
}

```

- ç½‘å‹é—®ï¼šleft = Math.max(left, hashMap.get(ch) + 1);ä¸ºä»€ä¹ˆå–æœ€å¤§å€¼

  - ç½‘å‹ç­”ï¼š

  - å› ä¸ºéœ€è¦ä¿è¯çš„æ˜¯`[left,right]`æ²¡æœ‰é‡å¤å€¼ã€‚è€Œä½ çš„leftå¦‚æœä¸å–æœ€å¤§å€¼çš„è¯ï¼Œæ˜¯æœ‰å¯èƒ½å¾€å‰é€€ï¼Œå°±æ— æ³•ä¿è¯è¿™ä¸ªæ¡ä»¶äº†ã€‚

    æ¯”å¦‚`abba` , åˆ°ç¬¬äºŒä¸ª`a`çš„æ—¶å€™ï¼Œè¿™æ—¶å€™ä¸Šä¸€è½®çš„ç¬¬äºŒä¸ªbå®Œæˆï¼Œæ­¤æ—¶`left=2` ï¼Œè€Œ`a`ä¸Šä¸€æ¬¡å‡ºç°çš„åœ°æ–¹æ˜¯0ã€‚

    å¦‚æœä½ ç›´æ¥`left = hashMap.get(ch) + 1` ,æ­¤æ—¶ left = 1 ,èŒƒå›´ä¸º`[left,right] = [1,3]` è€Œæ­¤æ—¶`[1,2] = bb` ï¼Œbå·²ç»é‡å¤äº†ã€‚æœ¬è´¨å°±æ˜¯ä½ è¿™ä¸ªå­—æ¯ä¸Šæ¬¡å‡ºç°çš„åœ°æ–¹åˆ°å½“å‰å†æ¬¡å‡ºç°çš„ä½ç½®ï¼Œè¿™ä¸¤è€…é—´å¯èƒ½å­˜åœ¨é‡å¤çš„å€¼

#### å³æ—¶å†æˆ˜åŠå¯„

```java
class Solution {
    public int lengthOfLongestSubstring(String s) {
        /**
        ä»å·¦å¾€å³éå†ï¼Œijåˆ†åˆ«ä¸ºå·¦å³é‡å¤å…ƒç´ ï¼Œdpjç”±dpj-1å’Œiå…±åŒå†³å®š
         */

        //å­˜å‚¨å­—ç¬¦å…ƒç´ -ä½ç½®
        Map<Character,Integer> map=new HashMap<>();
        //jä½ç½®ä¸ºå½“å‰å…ƒç´ ï¼Œiä¸ºå½“å‰å…ƒç´ ä¹‹å‰çš„é‡å¤å…ƒç´ çš„ä½ç½®
        int i=-1,dpPre=0,result=0;
        for(int j=0;j<s.length();j++){
            //å…ˆè·å–å½“å‰å…ƒç´ çš„ä¸Šä¸€ä¸ªé‡å¤å…ƒç´ çš„indexï¼Œå¦‚æœæ²¡å‡ºç°è¿‡åˆ™è¿”å›-1ï¼›
            i=map.getOrDefault(s.charAt(j),-1);

            //å½“å‰å…ƒç´ ä¸ºå³å°¾çš„å­ä¸²çš„é•¿åº¦ï¼Œç”±dpPreå’Œijå…³ç³»å…±åŒå†³å®šã€‚æ³¨æ„dpPre==j-iæ—¶jçš„ä¸Šä¸€ä¸ªé‡å¤å…ƒç´ åœ¨dpPreå¯¹åº”çš„å­ä¸²çš„é¦–ä½ï¼Œæ‰€ä»¥åœ¨dpPreå¯¹åº”çš„å­ä¸²å†…ï¼Œæ‰€ä»¥ä¸èƒ½ç”¨dpPre+1ä½œä¸ºæ–°å€¼ã€‚
            int dpCur=(dpPre>=j-i?j-i:dpPre+1);
            //æ¯”è¾ƒä»¥å½“å‰å…ƒç´ ä¸ºç»“å°¾çš„å­ä¸²çš„æœ€å¤§é•¿åº¦å’Œå†å²ä¸Šè®°å½•çš„æœ€å¤§é•¿åº¦ï¼Œæ›´æ–°å†å²æœ€å¤§é•¿åº¦
            result=Math.max(result,dpCur);

            //æ›´æ–°s.charAt(j)å­—ç¬¦çš„ä½ç½®ä¸ºå½“å‰ä½ç½®
            map.put(s.charAt(j),j);
            //ä¸è¦å¿˜è®°æ›´æ–°dpPreï¼Œå¦åˆ™dpPreæ°¸è¿œæ˜¯0
            dpPre=dpCur;
        }

        return result;

    }
}
```

- èƒ½ç†é¡ºåŠ¨æ€è§„åˆ’çš„æ€è·¯ï¼Œä½†æ˜¯å†™ä»£ç çš„æ—¶å€™å¿˜è®°æ›´æ–°dpPreï¼Œä¸”ä¸€ç›´æ²¡æ’æŸ¥å‡ºæ¥ï¼›æœ€åç”¨idea debugæ‰å‘ç°ã€‚**æ¶‰åŠåˆ°preçš„ä¸€å®šè¦æ³¨æ„preæ˜¯å¦éœ€è¦è¢«æ›´æ–°**ï¼

## åŒæŒ‡é’ˆ(ç®€å•)

### [å‰‘æŒ‡ Offer 18. åˆ é™¤é“¾è¡¨çš„èŠ‚ç‚¹](https://leetcode-cn.com/problems/shan-chu-lian-biao-de-jie-dian-lcof/)

#### é¦–æˆ˜å‘Šæ·

```java
/**
 * Definition for singly-linked list.
 * public class ListNode {
 *     int val;
 *     ListNode next;
 *     ListNode(int x) { val = x; }
 * }
 */
class Solution {
    public ListNode deleteNode(ListNode head, int val) {
        //å¤„ç†ç‰¹æ®Šæƒ…å†µã€‚ä¹ æƒ¯æ€§çš„åšä¸€ä¸‹nullå¤„ç†ï¼Œé¿å…æ¶å¿ƒäººçš„æ¡ˆä¾‹ã€‚
        if(head==null)return null;
        
        //åˆ›å»ºå¼•ç”¨å½“å‰èŠ‚ç‚¹çš„å¼•ç”¨
        ListNode cur=head;
        
        //ç”±äºæ€»æ˜¯åˆ é™¤ä¸‹ä¸€èŠ‚ç‚¹ï¼Œæ‰€ä»¥å…ˆå¤„ç†å¤´èŠ‚ç‚¹;å› ä¸ºå¤´èŠ‚ç‚¹ä¸èƒ½è¢«é€šè¿‡å‰èŠ‚ç‚¹åˆ é™¤ã€‚
        if(head.val==val){
            head=head.next;
            return head;
        }

        //ç”±äºæ€»æ˜¯åˆ¤æ–­åˆ é™¤ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼Œæ‰€ä»¥åˆ¤æ–­çš„æ˜¯nextä¸ä¸ºç©ºï¼›æœ¬whileå¾ªç¯ä¸ä¼šå¾ªç¯å®Œé€€å‡ºï¼Œåªä¼šåœ¨å¾ªç¯ä¸­æ‰¾åˆ°äº†è¦åˆ é™¤çš„èŠ‚ç‚¹å¹¶é€€å‡º
        while(cur.next!=null){
            //åˆ¤æ–­å½“å‰èŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹è¦ä¸è¦è¢«åˆ æ‰ï¼›ç”±äºç¨‹åºæœ€è¿Ÿåœ¨curä¸ºå€’æ•°ç¬¬äºŒä¸ªèŠ‚ç‚¹æ—¶èƒ½åˆ¤æ–­åˆ°å€’æ•°ç¬¬ä¸€ä¸ªèŠ‚ç‚¹è¦è¢«åˆ æ‰ï¼Œå¹¶ä¸”whileçš„æ¡ä»¶ä¿è¯äº†ä¸‹ä¸€èŠ‚ç‚¹ä¸ä¸ºç©ºï¼Œæ‰€ä»¥å…¶å®ä¸ç”¨æ‹…å¿ƒcur.next==nullå³curä¸ºç»“å°¾æŒ‡é’ˆé€ æˆçš„ç©ºæŒ‡é’ˆå¼‚å¸¸ã€‚
            if(cur.next.val==val){
                //å³ä½¿æ˜¯åˆ æ‰æœ€åä¸€ä¸ªèŠ‚ç‚¹ï¼Œcurä¸ºå€’æ•°ç¬¬äºŒä¸ªèŠ‚ç‚¹ï¼Œcur.next.nextä¹Ÿä¸ºnullä¸ä¼šç©ºæŒ‡é’ˆå¼‚å¸¸
                cur.next=cur.next.next;
                return head;
            }
            //whileä¸è¦å¿˜è®°ç§»åŠ¨cur
            cur=cur.next;
        }
        //æ­£å¸¸æ¥è¯´ï¼Œè¿™ä¸ªreturnæ˜¯æ°¸è¿œä¸ä¼šä½¿ç”¨çš„ã€‚
        return null;
    }
}
```

- æ²¡ç”¨åˆ°åŒæŒ‡é’ˆï¼Œå°±æ—¶é—´å¤æ‚åº¦onè§£å†³äº†

#### å®˜æ–¹-åŒæŒ‡é’ˆ

å…¶å®å®˜æ–¹çš„åŒæŒ‡é’ˆå°±æ˜¯æˆ‘çš„åšæ³•å—ï¼Œåªä¸è¿‡å¤šæ­¤ä¸€ä¸¾ç”¨äº†ä¸¤ä¸ªæŒ‡é’ˆã€‚

è§£é¢˜æ€è·¯ï¼š

![image-20220403171506936](lcof.assets/image-20220403171506936.png)

ç®—æ³•æµç¨‹ï¼š

![image-20220403171539038](lcof.assets/image-20220403171539038.png)

å¤æ‚åº¦åˆ†æï¼š

![image-20220403171557465](lcof.assets/image-20220403171557465.png)

ä»£ç ï¼š

```java
class Solution {
    public ListNode deleteNode(ListNode head, int val) {
        if(head.val == val) return head.next;
        ListNode pre = head, cur = head.next;
        while(cur != null && cur.val != val) {
            pre = cur;
            cur = cur.next;
        }
        if(cur != null) pre.next = cur.next;
        return head;
    }
}
```

- æˆ‘ï¼šæœ‰ä¸ªç½‘å‹è¯„ä»·â€œå•æŒ‡é’ˆâ€å°±å¤Ÿäº†ï¼Œåšæ³•å°±æ˜¯æˆ‘çš„åšæ³•ã€‚



### [å‰‘æŒ‡ Offer 22. é“¾è¡¨ä¸­å€’æ•°ç¬¬kä¸ªèŠ‚ç‚¹](https://leetcode-cn.com/problems/lian-biao-zhong-dao-shu-di-kge-jie-dian-lcof/)

#### é¦–æˆ˜å‘Šæ·--é€’å½’æ³•

```java
/**
 * Definition for singly-linked list.
 * public class ListNode {
 *     int val;
 *     ListNode next;
 *     ListNode(int x) { val = x; }
 * }
 */
class Solution {
    //å®šä¹‰å…¨å±€å˜é‡
    ListNode result;
    public ListNode getKthFromEnd(ListNode head, int k) {
        /*
        å€’æ•°ï¼Œæƒ³åˆ°æ ˆï¼šå…ˆæŠŠèŠ‚ç‚¹å…¨éƒ¨å…¥æ ˆï¼Œå‡ºæ ˆçš„æ—¶å€™è®¡æ•°ï¼Œåˆ°æŒ‡å®šèŠ‚ç‚¹éƒ½å‡ºæ ˆçš„æ—¶å€™ï¼Œè¿”å›é‚£ä¸ªèŠ‚ç‚¹ã€‚
        æ ˆå¯ä»¥é€šè¿‡é€’å½’å®ç°ï¼Œè®¡æ•°å¯ä»¥é€šè¿‡å…¨å±€å˜é‡
         */

        //æ‰§è¡Œé€’å½’ï¼Œä»¥ä¿å­˜ç›®æ ‡èŠ‚ç‚¹
        recur(head,k);

        return result;

    }
    public int recur(ListNode head,int k){
        //è®¾å®šé€’å½’è§¦åº•æ¡ä»¶ï¼Œå“ªä¸ªé€’å½’å±‚æ‹¿åˆ°çš„returnä¸kç›¸åŒï¼Œåˆ™è¯´æ˜åº”è¿”å›å½“å‰èŠ‚ç‚¹
        if(head==null) return 1;

        //å¦‚æœä¸‹ä¸€å±‚é€’å½’è¿”å›çš„å½“å‰å±‚çš„å€’æ•°å±‚æ•°ä¸ºkï¼Œè¯´æ˜å½“å‰èŠ‚ç‚¹å°±æ˜¯ç›®æ ‡èŠ‚ç‚¹ï¼›
        int kthFromEnd=recur(head.next,k);
        if(kthFromEnd==k){
            result=head;
        }

        //ç»™é€€æ ˆæ—¶çš„å„å±‚è¿”å›ä»–ä»¬çš„å€’æ•°çš„å±‚æ•°
        return kthFromEnd+1;
    }
}
```

- é—®é—®é—®ï¼šæˆ‘nå±‚é€’å½’ï¼Œç©ºé—´å¤æ‚åº¦æ˜¯ä¸æ˜¯å°±æ˜¯onäº†ï¼Œé‚£æ€§èƒ½å°±ä¸å¦‚å®˜æ–¹çš„äº†ã€‚

#### å®˜æ–¹--åŒæŒ‡é’ˆ

è§£é¢˜æ€è·¯ï¼š

![image-20220403175326006](lcof.assets/image-20220403175326006.png)

ç®—æ³•æµç¨‹ï¼š

![image-20220403175352955](lcof.assets/image-20220403175352955.png)

å¤æ‚åº¦åˆ†æï¼š

![image-20220403175419032](lcof.assets/image-20220403175419032.png)

ä»£ç ï¼š

```java
class Solution {
    public ListNode getKthFromEnd(ListNode head, int k) {
        ListNode former = head, latter = head;
        for(int i = 0; i < k; i++)
            former = former.next;
        while(former != null) {
            former = former.next;
            latter = latter.next;
        }
        return latter;
    }
}
```

- æœ¬é¢˜æ²¡æœ‰ k*k* å¤§äºé“¾è¡¨é•¿åº¦çš„ case ï¼Œå› æ­¤ä¸ç”¨è€ƒè™‘è¶Šç•Œé—®é¢˜ã€‚

- æˆ‘ï¼šçœ‹æ¥åŒæŒ‡é’ˆå¯ä»¥è¿™æ ·æ§åˆ¶è·ç¦»ï¼Œç‰›é€¼ï¼



### [å‰‘æŒ‡ Offer 25. åˆå¹¶ä¸¤ä¸ªæ’åºçš„é“¾è¡¨](https://leetcode-cn.com/problems/he-bing-liang-ge-pai-xu-de-lian-biao-lcof/)

#### é¦–æˆ˜å‘Šæ·

```java
/**
 * Definition for singly-linked list.
 * public class ListNode {
 *     int val;
 *     ListNode next;
 *     ListNode(int x) { val = x; }
 * }
 */
class Solution {
    public ListNode mergeTwoLists(ListNode l1, ListNode l2) {
        //å¤„ç†ç‰¹æ®Šæƒ…å†µ
        if(l1==null)return l2;
        if(l2==null)return l1;
        //èƒ½èµ°åˆ°è¿™ä¸€æ­¥è¯´æ˜ä¸¤ä¸ªé“¾è¡¨çš„å¤´ç»“ç‚¹éƒ½ä¸ä¸ºç©ºï¼Œä¸ä¼šç©ºæŒ‡é’ˆï¼›ä¿å­˜åˆå§‹å¤´ç»“ç‚¹ä¸ºä¸¤ä¸ªé“¾è¡¨å¤´ç»“ç‚¹é‡Œå°çš„é‚£ä¸ªï¼›å¿…é¡»ä¿å­˜äº†å¤´ç»“ç‚¹ï¼Œåé¢whileä¸­æ‰èƒ½æœ‰head.nextçš„æ–¹å¼èµ‹å€¼ï¼Œæ‰èƒ½è¿æ¥èµ·é“¾è¡¨ã€‚
        ListNode head;
        if(l1.val<=l2.val){
            head=l1;
            //l1çš„å¤´ç»“ç‚¹å·²ç»è¢«åŠ å…¥ç»“æœé“¾è¡¨äº†ï¼Œæ‰€ä»¥å¾€ä¸‹ç§»åŠ¨ä¸€ä½çœ‹ä¸‹ä¸€ä¸ªèŠ‚ç‚¹
            l1=l1.next;
        }else{
            head=l2;
            l2=l2.next;
        }
        ListNode headCur=head;

        //å»ºç«‹åŒæŒ‡é’ˆåˆ†åˆ«æŒ‡å‘ä¸¤ä¸ªé“¾è¡¨ï¼Œåˆå¹¶
        ListNode pl1=l1;
        ListNode pl2=l2;
        //æŠŠä¸¤ä¸ªèŠ‚ç‚¹ä¸­è¾ƒå°çš„èŠ‚ç‚¹åŠ å…¥ç»“æœåˆ—è¡¨head
        while(pl1!=null&&pl2!=null){   
            if(pl1.val<=pl2.val){
                headCur.next=pl1;
                headCur=headCur.next;
                pl1=pl1.next;
            }else{
                headCur.next=pl2;
                headCur=headCur.next;
                pl2=pl2.next;
            }
        }

        //ä¸€ä¸ªé˜Ÿåˆ—éå†å®Œæ¯•åï¼ŒæŠŠå¦ä¸€ä¸ªé˜Ÿåˆ—çš„å‰©ä½™éƒ¨åˆ†ç›´æ¥åŠ å…¥ç»“æœé“¾è¡¨
        if(pl1!=null){
            headCur.next=pl1;
        }else{
            headCur.next=pl2;
        }


        return head;
    }
}
```

- ä¸ºäº†ç»“æœé“¾è¡¨çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ï¼Œæˆ‘çš„æ“ä½œæ¯”è¾ƒå¤æ‚ï¼Œå®é™…ä¸Šå¯ä»¥åƒå®˜æ–¹ç­”æ¡ˆä¸€æ ·ï¼Œä½¿ç”¨ä¸€ä¸ªä¼ªå¤´èŠ‚ç‚¹å³å¯ã€‚

#### å®˜æ–¹-åŒæŒ‡é’ˆ+ä¼ªå¤´ç»“ç‚¹

è§£é¢˜æ€è·¯ï¼š

![image-20220403192034915](lcof.assets/image-20220403192034915.png)

ç®—æ³•æµç¨‹ï¼š

![image-20220403192122384](lcof.assets/image-20220403192122384.png)

å¤æ‚åº¦åˆ†æï¼š

![image-20220403192147988](lcof.assets/image-20220403192147988.png)

ä»£ç ï¼š

```java
class Solution {
    public ListNode mergeTwoLists(ListNode l1, ListNode l2) {
        ListNode dum = new ListNode(0), cur = dum;
        while(l1 != null && l2 != null) {
            if(l1.val < l2.val) {
                cur.next = l1;
                l1 = l1.next;
            }
            else {
                cur.next = l2;
                l2 = l2.next;
            }
            cur = cur.next;
        }
        cur.next = l1 != null ? l1 : l2;
        return dum.next;
    }
}

```

- è¿™ä¸ªä¼ªå¤´ç»“ç‚¹çš„æ€è·¯ç¡®å®ä¸é”™ï¼



### [å‰‘æŒ‡ Offer 52. ä¸¤ä¸ªé“¾è¡¨çš„ç¬¬ä¸€ä¸ªå…¬å…±èŠ‚ç‚¹](https://leetcode-cn.com/problems/liang-ge-lian-biao-de-di-yi-ge-gong-gong-jie-dian-lcof/)

#### é¦–æˆ˜å¯„

```java
/**
 * Definition for singly-linked list.
 * public class ListNode {
 *     int val;
 *     ListNode next;
 *     ListNode(int x) {
 *         val = x;
 *         next = null;
 *     }
 * }
 */
public class Solution {
    public ListNode getIntersectionNode(ListNode headA, ListNode headB) {
        /**
         é“¾è¡¨åˆ¤æ–­ç¯ï¼Œåˆ¤æ–­ç›¸äº¤ï¼Œå°±è€ƒè™‘åŒæŒ‡é’ˆ
         */
        ListNode la=headA;
        ListNode lb=headB;

        //ä½¿ç”¨ä¸¤ä¸ªæŒ‡é’ˆåˆ†åˆ«éå†ä¸¤ä¸ªé“¾è¡¨ï¼Œå½“å‘ç°æŒ‡å‘åŒä¸€èŠ‚ç‚¹æ—¶è¿”å›è¯¥èŠ‚ç‚¹ï¼›ä»¥èŠ‚ç‚¹çš„åœ°å€ä¸ºåˆ¤æ–­èŠ‚ç‚¹ç›¸ç­‰çš„æ ‡å‡†ï¼Œå› ä¸ºèŠ‚ç‚¹çš„å€¼å¯é‡å¤è§ï¼ˆç¤ºä¾‹ï¼‰
        while((la!=null)&&(lb!=null)){
            System.out.println("la:"+la);
            System.out.println("lb:"+lb);
            if(la==lb){
                return la;
            }
            //whileå§‹ç»ˆè®°ä½è¦ç§»åŠ¨æŒ‡é’ˆ
            la=la.next;
            lb=lb.next;
        }

        //ç»è¿‡éå†éƒ½æ²¡æ‰¾åˆ°å…¬å…±èŠ‚ç‚¹ï¼Œè¯´æ˜æ— å…¬å…±èŠ‚ç‚¹
        return null;
    }
}
```

- å¿½ç•¥äº†å…¬å…±èŠ‚ç‚¹å‰ï¼Œä¸¤ä¸ªé“¾è¡¨çš„å‰éƒ¨é•¿åº¦ä¸ä¸€è‡´çš„é—®é¢˜ï¼›æ¯”å¦‚å…¬å…±éƒ¨åˆ†æœ‰c1 c2çš„è¯ï¼Œå¤´éƒ¨é•¿çš„é“¾è¡¨çš„æŒ‡é’ˆèµ°åˆ°c1ï¼Œå¤´éƒ¨çŸ­çš„é“¾è¡¨çš„æŒ‡é’ˆèµ°åˆ°c2ï¼Œä¸¤ä¸ªæŒ‡é’ˆæ€»æ˜¯æœ‰å‰åå·®è·é”™å¼€äº†ã€‚



#### å®˜æ–¹-åŒæŒ‡é’ˆ+æµªæ¼«ç›¸é‡

è§£é¢˜æ€è·¯ï¼š

æˆ‘ä»¬ä½¿ç”¨ä¸¤ä¸ªæŒ‡é’ˆ node1ï¼Œnode2 åˆ†åˆ«æŒ‡å‘ä¸¤ä¸ªé“¾è¡¨ headAï¼ŒheadB çš„å¤´ç»“ç‚¹ï¼Œç„¶ååŒæ—¶åˆ†åˆ«é€ç»“ç‚¹éå†ï¼Œå½“ node1 åˆ°è¾¾é“¾è¡¨ headA çš„æœ«å°¾æ—¶ï¼Œé‡æ–°å®šä½åˆ°é“¾è¡¨ headB çš„å¤´ç»“ç‚¹ï¼›å½“ node2 åˆ°è¾¾é“¾è¡¨ headB çš„æœ«å°¾æ—¶ï¼Œé‡æ–°å®šä½åˆ°é“¾è¡¨ headA çš„å¤´ç»“ç‚¹ã€‚

è¿™æ ·ï¼Œå½“å®ƒä»¬ç›¸é‡æ—¶ï¼Œæ‰€æŒ‡å‘çš„ç»“ç‚¹å°±æ˜¯ç¬¬ä¸€ä¸ªå…¬å…±ç»“ç‚¹ã€‚

å¤æ‚åº¦åˆ†æï¼š

![image-20220404150150252](lcof.assets/image-20220404150150252.png)

ä»£ç ï¼š

```java
public class Solution {
    public ListNode getIntersectionNode(ListNode headA, ListNode headB) {
        ListNode PA = headA;
        ListNode PB = headB;
        while (PA != PB) {
            PA = PA == null ? headB : PA.next;
            PB = PB == null ? headA : PB.next;
        }
        return PA;
    }
}
```

#### å³æ—¶å†æˆ˜æˆåŠŸ

```java
/**
 * Definition for singly-linked list.
 * public class ListNode {
 *     int val;
 *     ListNode next;
 *     ListNode(int x) {
 *         val = x;
 *         next = null;
 *     }
 * }
 */
public class Solution {
    public ListNode getIntersectionNode(ListNode headA, ListNode headB) {

        /**
        å°å¿ƒä¸¤ä¸ªé“¾è¡¨çš„å¤´éƒ¨çš„é•¿åº¦æ˜¯ä¸ä¸€è‡´çš„ï¼Œéœ€è¦è®©ä¸¤ä¸ªæŒ‡é’ˆéƒ½èµ°ä¸€éä¸¤ä¸ªåˆ—è¡¨ï¼›è¿™æ ·è¦ä¸èµ°å®Œéƒ½æ²¡ç›¸é‡ï¼Œè¦ä¸åœ¨èµ°å¯¹æ–¹åˆ—è¡¨çš„æ—¶å€™ç›¸é‡
         */

        ListNode ha=headA;
        ListNode hb=headB;

        /**
        éå†æƒ…å†µåˆ†ç±»è®¨è®ºï¼š
        1ï¼Œå¦‚æœä¸¤æ¡é“¾è¡¨ä¸€æ ·é•¿ï¼šå¦‚æœæœ‰å…¬å…±èŠ‚ç‚¹è¯´æ˜å¤´éƒ¨ä¹Ÿä¸€æ ·é•¿ï¼Œé‚£ä¹ˆæŒ‡é’ˆåœ¨éå†å„è‡ªçš„ç¬¬ä¸€æ¡é“¾è¡¨æ—¶å°±èƒ½æ‰¾åˆ°äº¤ç‚¹ï¼›å¦‚æœæ²¡æœ‰å…¬å…±èŠ‚ç‚¹ï¼Œåˆ™ä¸¤ä¸ªæŒ‡é’ˆä¼šåŒæ—¶èµ°åˆ°é“¾è¡¨æœ«å°¾éƒ½ä¸ºnullï¼Œè§¦å‘whileçš„é€€å‡ºï¼Œå³å¯è¿”å›nullå³æ— äº¤ç‚¹ã€‚
        2ï¼Œå¦‚æœä¸¤æ¡é“¾è¡¨ä¸ä¸€æ ·é•¿ï¼šé‚£ä¹ˆè¦å¤„ç†èŠ‚ç‚¹å‰åè·ç¦»å·®çš„é—®é¢˜ï¼Œå¦‚æœæœ‰äº¤ç‚¹ï¼Œé‚£ä¹ˆæŒ‡é’ˆä¼šæŠŠä¸¤ä¸ªé“¾è¡¨éƒ½èµ°ä¸€éï¼Œèµ°åˆ°ç¬¬äºŒä¸ªé“¾è¡¨çš„æ—¶å€™ä¼šåœ¨äº¤ç‚¹å‡ºç›¸äº¤ï¼›å¦‚æœä¸¤ä¸ªé“¾è¡¨æ²¡æœ‰äº¤ç‚¹çš„è¯ï¼ŒæŒ‡é’ˆä¹Ÿä¼šæŠŠä¸¤ä¸ªé“¾è¡¨éƒ½èµ°ä¸€éï¼Œä¸¤ä¸ªæŒ‡é’ˆä¹Ÿä¼šåŒæ—¶ä»ä¸¤ä¸ªé“¾è¡¨çš„å°¾éƒ¨é€€å‡º

        æ³¨æ„ç”±äºåˆ—è¡¨é•¿åº¦å¯èƒ½ä¸ç­‰ï¼Œæ‰€ä»¥è¦ä¸¤ä¸ªæŒ‡é’ˆéƒ½ä¸ºnullå³éƒ½åˆ°äº†é“¾è¡¨ç»“å°¾ï¼ˆè¦ä¸æ•°ç»„é•¿åº¦ç›¸ç­‰ä¸€éè¿‡æ— äº¤ç‚¹ï¼Œè¦ä¸æ•°ç»„é•¿åº¦ä¸ç­‰ä¸¤éè¿‡æ— äº¤ç‚¹ï¼‰ï¼Œæ‰å…è®¸é€€å‡ºï¼›åªä¸€ä¸ªæŒ‡é’ˆä¸ºnullçš„è¯ï¼Œå¯èƒ½å¦ä¸€ä¸ªæŒ‡é’ˆè¿˜åœ¨éå†ç¬¬ä¸€ä¸ªé“¾è¡¨ï¼Œä¸èƒ½å…è®¸é€€å‡ºã€‚
         */
        while(ha!=hb){
            //å¦‚æœå½“å‰èŠ‚ç‚¹éå†åˆ°ç¬¬ä¸€æ¡é“¾è¡¨çš„æœ«å°¾ï¼Œå¦ä¸€ä¸ªèŠ‚ç‚¹è¿˜åœ¨éå†é“¾è¡¨æ—¶ï¼Œè®©ä»–éå†ç¬¬äºŒæ¡é“¾è¡¨ï¼›æ²¡æœ‰äº¤ç‚¹çš„è¯ç¬¬äºŒæ¡é“¾è¡¨çš„ç»“å°¾ä¸¤ä¸ªæŒ‡é’ˆéƒ½ä¼šæŒ‡å‘nullï¼Œé€€å‡ºwhile
            ha=(ha==null?headB:ha.next);
            hb=(hb==null?headA:hb.next);
        }

        //ha==hbä¸”ha!=nullé€€å‡ºçš„è¯ï¼Œha==hb==äº¤ç‚¹ï¼›ha==hb==nullé€€å‡ºçš„è¯ï¼Œä¹Ÿè¿”å›null
        return ha;
        
    }
}
```



### [å‰‘æŒ‡ Offer 21. è°ƒæ•´æ•°ç»„é¡ºåºä½¿å¥‡æ•°ä½äºå¶æ•°å‰é¢](https://leetcode-cn.com/problems/diao-zheng-shu-zu-shun-xu-shi-qi-shu-wei-yu-ou-shu-qian-mian-lcof/)

#### é¦–æˆ˜å‘Šæ·

```java
class Solution {
    public int[] exchange(int[] nums) {
        /**
        åŒæŒ‡é’ˆï¼ŒlæŒ‡å‘å¥‡æ•°æ®µçš„å³éƒ¨å³ä¸€ä½ï¼ŒræŒ‡å‘å¶æ•°æ®µå·¦éƒ¨å·¦ä¸€ä½
        åªç§»åŠ¨ä¸€ä¸ªæŒ‡é’ˆï¼Œæœ¬ä¾‹ç§»åŠ¨å¥‡æŒ‡é’ˆï¼Œå‘ç°å¶æ•°å°±ç»™å¶æŒ‡é’ˆäº¤æ¢ï¼Œå¶æŒ‡é’ˆå†å·¦ç§»åŠ¨ä¸€ä½ï¼Œå¥‡æŒ‡é’ˆé‡æ–°åˆ¤æ–­ï¼›å‘ç°å¥‡æ•°åˆ™å¯„æŒ‡é’ˆå³ç§»ä¸€ä½ï¼›ä¸¤æŒ‡é’ˆé‡åˆæ—¶é€€å‡ºï¼Œé‡åˆä½ç½®çš„å¥‡å¶æ€§æ— æ‰€è°“ï¼Œæ¯•ç«Ÿä½äºå¥‡æ•°æ®µå¶æ•°æ®µçš„äº¤ç‚¹ï¼Œæ˜¯è°éƒ½å¯ä»¥ã€‚
         */

        //å¤„ç†ç‰¹æ®Šæƒ…å†µï¼Œæµ‹è¯•æ¡ˆä¾‹[]çº¯çº¯ä¹Œé±¼å­
        if(nums.length==0)
        return nums;

         int l=0,r=nums.length-1;
         while(l!=r){
             //å·¦æŒ‡é’ˆå‘ç°å¶æ•°
             if(nums[l]%2==0){
                 //äº¤æ¢å·¦å³æŒ‡é’ˆæŒ‡å‘çš„æ•°ç»„å…ƒç´ 
                 int temp=nums[r];
                 nums[r]=nums[l];
                 nums[l]=temp;
                //ç§»åŠ¨å³æŒ‡é’ˆ
                r--;
             }else{//å·¦æŒ‡é’ˆå‘ç°å¥‡æ•°ï¼Œå·¦æŒ‡é’ˆå³ç§»ä¸€ä½
                l++;
             }
             //å¦‚æœå·¦æŒ‡é’ˆå‘ç°å¶æ•°ï¼Œå·¦å³æŒ‡é’ˆæŒ‡å‘çš„æ•°ç»„å…ƒç´ äº¤æ¢åï¼Œå·¦æŒ‡é’ˆä¼šå†æ¬¡æ£€æŸ¥è¢«æ¢æ¥çš„å…ƒç´ æ˜¯å¦ä¸ºå¥‡æ•°
         }
        return nums;
    }
}
```

- æœ‰å®Œæ•´æ€è·¯å’Œä»£ç æ¡†æ¶ï¼Œä½†æ˜¯æ¼äº†â€œå·¦æŒ‡é’ˆç§»åŠ¨â€ï¼Œå’Œâ€ç©ºæ•°ç»„å¤„ç†â€œï¼›ä¸è¿‡è‡ªè¡Œä¿®æ”¹å®Œæ¯•äº†ã€‚

#### å®˜æ–¹-åŒæŒ‡é’ˆ+åŒæ—¶ç§»åŠ¨

è§£é¢˜æ€è·¯ï¼š

è€ƒè™‘å®šä¹‰åŒæŒ‡é’ˆ ii , jj åˆ†åˆ—æ•°ç»„å·¦å³ä¸¤ç«¯ï¼Œå¾ªç¯æ‰§è¡Œï¼š

1. æŒ‡é’ˆ ii ä»å·¦å‘å³å¯»æ‰¾å¶æ•°ï¼›
2. æŒ‡é’ˆ jj ä»å³å‘å·¦å¯»æ‰¾å¥‡æ•°ï¼›
3. å°† å¶æ•° nums[i]nums[i] å’Œ å¥‡æ•° nums[j]nums[j] äº¤æ¢ã€‚

å¯å§‹ç»ˆä¿è¯ï¼š æŒ‡é’ˆ ii å·¦è¾¹éƒ½æ˜¯å¥‡æ•°ï¼ŒæŒ‡é’ˆ jj å³è¾¹éƒ½æ˜¯å¶æ•° ã€‚

![image-20220404161217051](lcof.assets/image-20220404161217051.png)

ç®—æ³•æµç¨‹ï¼š

![image-20220404161240739](lcof.assets/image-20220404161240739.png)

å¤æ‚åº¦åˆ†æï¼š

![image-20220404161301033](lcof.assets/image-20220404161301033.png)

ä»£ç ï¼š

![image-20220404161323780](lcof.assets/image-20220404161323780.png)

```java
class Solution {
    public int[] exchange(int[] nums) {
        int i = 0, j = nums.length - 1, tmp;
        while(i < j) {
            while(i < j && (nums[i] & 1) == 1) i++;
            while(i < j && (nums[j] & 1) == 0) j--;
            tmp = nums[i];
            nums[i] = nums[j];
            nums[j] = tmp;
        }
        return nums;
    }
}
```

- æˆ‘ï¼šæœ¬ä»£ç å·¦å³åŒæ—¶åŠ¨ï¼Œæˆ‘æ˜¯ä¸€ä¸ªå»æ‰¾å¦ä¸€ä¸ªï¼Œæ—¶é—´å¤æ‚åº¦ä¸€æ ·ï¼›æˆ‘çš„ä»£ç æ²¡æœ‰åŒå¾ªç¯ï¼Œç”šè‡³æ›´ä¼˜é›…äº›ã€‚

- ç½‘å‹ï¼šæœ¬é¢˜è•´å«å¿«é€Ÿæ’åºçš„æ€æƒ³ï¼

### [å‰‘æŒ‡ Offer 57. å’Œä¸ºsçš„ä¸¤ä¸ªæ•°å­—](https://leetcode-cn.com/problems/he-wei-sde-liang-ge-shu-zi-lcof/)

#### é¦–æˆ˜å‘Šæ·

```java
class Solution {
    public int[] twoSum(int[] nums, int target) {

        /**
        å°½é‡ç”¨ä¸Šâ€œé€’å¢â€è¿™ä¸ªæ¡ä»¶ï¼Œæ±‚å’Œçš„ä¸¤ä¸ªæ•°è‚¯å®šä¸€å¤§ä¸€å°ï¼›å·¦å³ä¸¤ç«¯ä¸¤ä¸ªæŒ‡é’ˆï¼Œæ±‚å’Œï¼Œå€¼å¤§äº†å·¦ç§»å³æŒ‡é’ˆï¼Œå€¼å°äº†å³ç§»å·¦æŒ‡é’ˆ
         */

        //å¤„ç†ç©ºæ•°ç»„
        if(nums.length==0)return new int[0];

        int left=0,right=nums.length-1;
        while(left<right){
            if(nums[left]+nums[right]<target){
                left++;
            }else if(nums[left]+nums[right]>target){
                right--;
            }else{
                //æ³¨æ„æ˜¯è¾“å‡ºå…ƒç´ å€¼ï¼Œè€Œä¸æ˜¯è¾“å‡ºindex
                return new int[]{nums[left],nums[right]};
            }
        }

        //å¦‚æœæ²¡æ‰¾åˆ°ï¼Œè¿”å›ç©º
        return new int[0];
    }
}
```

#### å®˜æ–¹-å¯¹æ’åŒæŒ‡é’ˆ

è§£é¢˜æ€è·¯ï¼š

![image-20220404164513158](lcof.assets/image-20220404164513158.png)

ç®—æ³•æµç¨‹ï¼š

![image-20220404164531875](lcof.assets/image-20220404164531875.png)

æ­£ç¡®æ€§è¯æ˜ï¼š

![image-20220404164558086](lcof.assets/image-20220404164558086.png)

- æˆ‘ï¼šæ„ä¼šä¸€ä¸‹ï¼Œè¢«æ’é™¤æ‰çš„å…ƒç´ éƒ½æ˜¯ä¸å¯èƒ½æ„æˆç»“æœçš„ã€‚
  - ä»¥åˆå§‹çŠ¶æ€ä¸ºä¾‹ï¼Œå‡è®¾nums[left]+nums[right]<targetï¼Œé‚£ä¹ˆrightå·¦ç§»ï¼Œæœ€å³è¾¹çš„å…ƒç´ è¢«æ’é™¤åœ¨å¯èƒ½çš„ç»“æœé›†ä¹‹å¤–ï¼Œ
  - é‡‡ç”¨åè¯æ³•ï¼Œå¦‚æœå³è¾¹çš„å…ƒç´ ä¸è¯¥è¢«æ’é™¤åœ¨ç»“æœé›†ä¹‹å¤–ï¼Œé‚£ä¹ˆéœ€è¦ä¸€ä¸ªæ¯”leftæ›´å°çš„å…ƒç´ ï¼Œå¯æ˜¯leftå·²ç»æ˜¯æ•°ç»„ä¸­çš„æœ€å°å€¼äº†ï¼Œä¸ä¼šæœ‰æ›´å°çš„å€¼ï¼Œæ‰€ä»¥åä¾‹ä¸å­˜åœ¨ï¼›
  - æ‰€ä»¥è¢«æ’é™¤çš„æœ€å³è¾¹çš„å…ƒç´ ä¸ä¼šæ˜¯è¢«è¯¯æ’é™¤çš„ï¼Œåè¯æ³•è¯æ¯•ã€‚

å¤æ‚åº¦åˆ†æï¼š

![image-20220404164622003](lcof.assets/image-20220404164622003.png)

ä»£ç ï¼š

```java
class Solution {
    public int[] twoSum(int[] nums, int target) {
        int i = 0, j = nums.length - 1;
        while(i < j) {
            int s = nums[i] + nums[j];
            if(s < target) i++;
            else if(s > target) j--;
            else return new int[] { nums[i], nums[j] };
        }
        return new int[0];
    }
}
```

- ç½‘å‹ï¼šæé†’ä¸€ä¸‹ï¼Œåˆ¤æ–­æ¡ä»¶æœ€å¥½ä¸è¦ç”¨ç›¸åŠ åçš„ç»“æœï¼Œåº”è¯¥ç”¨target - nums[i] è·Ÿ nums[j]æ¯”è¾ƒï¼Œè¿™æ ·ä¿è¯ä¸ä¼šæº¢å‡ºã€‚è™½ç„¶è¿™é¢˜ä¸­ä¸ä¼šå‡ºé”™ã€‚åŒæ ·çš„ä¾‹å­è¿˜æœ‰äºŒåˆ†æŸ¥æ‰¾ï¼Œ(left + right) / 2 å¯ä»¥ç”¨left + ((rigth - left) >> 1))ä»£æ›¿ã€‚



### [å‰‘æŒ‡ Offer 58 - I. ç¿»è½¬å•è¯é¡ºåº](https://leetcode-cn.com/problems/fan-zhuan-dan-ci-shun-xu-lcof/)

#### é¦–æˆ˜å¯„

- å†™çš„æ—¶å€™å°±æ„Ÿè§‰è¦æ˜¯ç”¨ä¸€äº›å·¥å…·ç±»ï¼Œçœ‹é¢˜è§£æœç„¶è‡³å°‘è¦ç”¨StringBuilderã€‚

#### å®˜æ–¹1-åŒæŒ‡é’ˆ

ç®—æ³•è§£æï¼š

![image-20220404172111604](lcof.assets/image-20220404172111604.png)

å¤æ‚åº¦åˆ†æï¼š

![image-20220404172131469](lcof.assets/image-20220404172131469.png)

ä»£ç ï¼š

```java
class Solution {
    public String reverseWords(String s) {
        s = s.trim(); // åˆ é™¤é¦–å°¾ç©ºæ ¼
        int j = s.length() - 1, i = j;
        StringBuilder res = new StringBuilder();
        while(i >= 0) {
            while(i >= 0 && s.charAt(i) != ' ') i--; // æœç´¢é¦–ä¸ªç©ºæ ¼
            res.append(s.substring(i + 1, j + 1) + " "); // æ·»åŠ å•è¯
            while(i >= 0 && s.charAt(i) == ' ') i--; // è·³è¿‡å•è¯é—´ç©ºæ ¼
            j = i; // j æŒ‡å‘ä¸‹ä¸ªå•è¯çš„å°¾å­—ç¬¦
        }
        return res.toString().trim(); // è½¬åŒ–ä¸ºå­—ç¬¦ä¸²å¹¶è¿”å›ï¼Œå› ä¸ºå•è¯å°¾éƒ¨ä¼šè¢«äººä¸ºåŠ ä¸Šç©ºæ ¼
    }
}
```

- æ³¨æ„`str.substing(å·¦é—­,å³å¼€)`å’Œ`StringBuilder`çš„ç”¨æ³•ã€‚

#### å®˜æ–¹2-åˆ†å‰² + å€’åºï¼ˆä¸å»ºè®®ï¼‰

åˆ©ç”¨ â€œå­—ç¬¦ä¸²åˆ†å‰²â€ã€â€œåˆ—è¡¨å€’åºâ€ çš„å†…ç½®å‡½æ•° *ï¼ˆ**é¢è¯•æ—¶ä¸å»ºè®®ä½¿ç”¨**ï¼‰* ï¼Œå¯ç®€ä¾¿åœ°å®ç°æœ¬é¢˜çš„å­—ç¬¦ä¸²ç¿»è½¬è¦æ±‚ã€‚

ç®—æ³•è§£æï¼š

![image-20220404172258931](lcof.assets/image-20220404172258931.png)

![Picture0.png](lcof.assets/9ef4a9ea565bf1c2d9209ca94881a77288f90f222476cfd44c418fa3f2d2d7c1-Picture0.png)

å¤æ‚åº¦åˆ†æï¼š

![image-20220404172508237](lcof.assets/image-20220404172508237.png)

ä»£ç ï¼š

```java
class Solution {
    public String reverseWords(String s) {
        String[] strs = s.trim().split(" "); // åˆ é™¤é¦–å°¾ç©ºæ ¼ï¼Œåˆ†å‰²å­—ç¬¦ä¸²
        StringBuilder res = new StringBuilder();
        for(int i = strs.length - 1; i >= 0; i--) { // å€’åºéå†å•è¯åˆ—è¡¨
            if(strs[i].equals("")) continue; // é‡åˆ°ç©ºå•è¯åˆ™è·³è¿‡
            res.append(strs[i] + " "); // å°†å•è¯æ‹¼æ¥è‡³ StringBuilder
        }
        return res.toString().trim(); // è½¬åŒ–ä¸ºå­—ç¬¦ä¸²ï¼Œåˆ é™¤å°¾éƒ¨ç©ºæ ¼ï¼Œå¹¶è¿”å›
    }
}
```

#### å³æ—¶å†æˆ˜æˆåŠŸ

```java
class Solution {
    public String reverseWords(String s) {
        /**
        ç”¨åŒæŒ‡é’ˆçš„é—´è·å®šä½å•è¯ï¼Œç±»ä¼¼åŒæŒ‡é’ˆå–å€’æ•°ç¬¬nä¸ªæ•°ä¸€æ ·
        æŒæ¡substring(så°å†™)ï¼Œ trimï¼Œ StringBuilderï¼Œ toStringï¼ˆså¤§å†™ï¼‰çš„ä½¿ç”¨
         */

        //å…ˆå‰”é™¤é¦–ä½ç©ºæ ¼ï¼Œä¿è¯æŒ‡é’ˆåˆå§‹æŒ‡å‘çš„ä¸æ˜¯ç©ºæ ¼
        s.trim();

        StringBuilder sb= new StringBuilder();
        //ijæƒ³åšå–å•è¯
        int j=s.length()-1,i=j;
        while(i>=0){
            //å–å•è¯ï¼›åŒæ—¶æ³¨æ„é˜²æ­¢ä¸€è·¯i--å¯¼è‡´è¶…è¿‡å­—ç¬¦ä¸²è¾¹ç•Œ
            while(i>=0&&s.charAt(i)!=' ')i--;
            //å•è¯ä»¥ç©ºæ ¼åˆ†å¼€
            sb.append(s.substring(i+1,j+1)+" ");
            //å‰”é™¤å•è¯é—´çš„ç©ºæ ¼ï¼›è¿™é‡Œä¹Ÿéœ€è¦æ‹…å¿ƒè¶…è¿‡å­—ç¬¦ä¸²è¾¹ç•Œï¼Œå› ä¸ºä¸€è·¯æ¸…é™¤ç©ºæ ¼åˆ°i=-1æ—¶ï¼Œè¿˜ä¼šç»§ç»­æ‰§è¡Œæœ¬å†…å­˜whileï¼Œå¯¼è‡´è¶…è¿‡å­—ç¬¦ä¸²è¾¹ç•Œï¼›
            while(i>=0&&s.charAt(i)==' ')i--;
            //ç©ºæ ¼å‰”é™¤å®Œæ¯•åï¼Œiåœåœ¨ä¸‹ä¸€ä¸ªå•è¯çš„å°¾éƒ¨ï¼ŒæŠŠjç§»åŠ¨è¿‡æ¥
            j=i;
        }

        //è¿”å›sbï¼Œè®°å¾—å»é™¤æœ€åå•è¯åé¢çš„ç©ºæ ¼
        return sb.toString().trim();
    }
}
```

- éš¾ç‚¹å‘ç‚¹ï¼š
  - å†…éƒ¨å¾ªç¯é˜²è¶…è¿‡å­—ç¬¦ä¸²è¾¹ç•Œ
  - æŒæ¡substring(så°å†™)ï¼Œ trimï¼Œ StringBuilderï¼Œ toStringï¼ˆså¤§å†™ï¼‰çš„ä½¿ç”¨



## æœç´¢ä¸å›æº¯ç®—æ³•(ä¸­ç­‰)

### [å‰‘æŒ‡ Offer 12. çŸ©é˜µä¸­çš„è·¯å¾„](https://leetcode-cn.com/problems/ju-zhen-zhong-de-lu-jing-lcof/)

#### é¦–æˆ˜å¯„

å®Œå…¨æ— åˆé€‚æ€è·¯

#### å®˜æ–¹-DFS+å‰ªæ

è§£é¢˜æ€è·¯ï¼š

![image-20220405153358478](lcof.assets/image-20220405153358478.png)

DFS è§£æï¼š

![image-20220405153443132](lcof.assets/image-20220405153443132.png)

- æ³¨æ„è¿™é‡Œjavaä¸­ç©ºå­—ç¬¦çš„è¡¨è¾¾æ–¹å¼

å¤æ‚åº¦åˆ†æï¼š

![image-20220405153605776](lcof.assets/image-20220405153605776.png)

ä»£ç ï¼š

```java
class Solution {
    public boolean exist(char[][] board, String word) {
        char[] words = word.toCharArray();
        for(int i = 0; i < board.length; i++) {
            for(int j = 0; j < board[0].length; j++) {
                if(dfs(board, words, i, j, 0)) return true;
            }
        }
        return false;
    }
    boolean dfs(char[][] board, char[] word, int i, int j, int k) {
        if(i >= board.length || i < 0 || j >= board[0].length || j < 0 || board[i][j] != word[k]) return false;
        if(k == word.length - 1) return true;
        board[i][j] = '\0';
        boolean res = dfs(board, word, i + 1, j, k + 1) || dfs(board, word, i - 1, j, k + 1) || 
                      dfs(board, word, i, j + 1, k + 1) || dfs(board, word, i , j - 1, k + 1);
        board[i][j] = word[k];
        return res;
    }
}
```

- æ³¨æ„ç‚¹ï¼š
  - æ³¨æ„javaä¸­ç©ºå­—ç¬¦çš„è¡¨ç¤ºï¼›é¢˜ç›®è¯´æ•°ç»„åªæœ‰è‹±æ–‡å¤§å°å†™å­—æ¯ï¼Œç©ºå­—ç¬¦å°±èƒ½å’ŒåŸæœ¬çš„å­—ç¬¦åŒºåˆ†å¼€ã€‚[å‚è€ƒ](http://t.csdn.cn/E8dER)ã€‚
  - String è½¬ä¸ºCharArrayçš„æ–¹æ³•ï¼šstr.toCharArray()
  - å¦‚ä½•è§£å†³â€œæœ¬è½®é€’å½’æŠŠå…ƒç´ ç½®ä½ç©ºå­—ç¬¦åï¼Œä¸å½±å“ä¸‹ä¸€è½®é€’å½’â€ï¼Œå³åœ¨æœ¬è½®é€’å½’åç”¨`board[i][j] = word[k];`æŠŠä¿®æ”¹è¿˜åŸã€‚

- æˆ‘ï¼šæ„Ÿè§‰å°±æ˜¯æš´åŠ›ç®—æ³•å•Šï¼Œï¼Œå¯¹æ¯ä¸ªèŠ‚ç‚¹æ·±åº¦é€’å½’ï¼›ä¸è¿‡è¿™é¢˜è¦æ±‚å¾—åˆ°ç›®æ ‡å­—ç¬¦ä¸²é¡ºåºçš„è·¯å¾„ï¼Œåº”è¯¥ä¹Ÿåªèƒ½æš´åŠ›é€’å½’

#### åŠæ—¶å†æˆ˜åŠå¯„

```java
class Solution {
    public boolean exist(char[][] board, String word) {
        /**
        å› ä¸ºè¦æ±‚å­—ç¬¦ä¸²çš„é¡ºåºï¼Œæ‰€ä»¥åªèƒ½æš´åŠ›+æ·±åº¦é€’å½’
         */
        //æŠŠå­—ç¬¦ä¸²è½¬åŒ–æˆcharArrrayå¤‡ç”¨
        char[] wordch=word.toCharArray();
        //é¢˜ç›®è§„å®šäº†boardä¸ä¸ºç©ºæ•°ç»„
        for(int i=0;i<board.length;i++){
            for(int j=0;j<board[0].length;j++){
                //å¯¹äºæ¯ä¸€ä¸ªæ•°ç»„å…ƒç´ ï¼Œå¼€å§‹æ·±åº¦é€’å½’;æœ€åä¸€ä¸ªå‚æ•°kè®°å½•åŒ¹é…åˆ°wordchçš„ç¬¬å‡ ä¸ªå­—ç¬¦äº†ã€‚å¦‚æœæœ¬è·¯åŠ²ä¸ºå¤´é€’å½’æˆåŠŸï¼Œç›´æ¥è¿”å›trueï¼Œå¦åˆ™ä»¥boardçš„ç›˜é¢çš„å¦ä¸€ä¸ªå­—ç¬¦å¼€å§‹æ–°é€’å½’å°è¯•ã€‚
                if(recur(board,wordch,i,j,0))
                    return true;
            }
        }

        //æ•´ä¸ªboardé€’å½’å®Œéƒ½æ²¡æ•ˆæœçš„è¯ï¼Œè¿”å›false
        return false;

    }
    /**
    è‡ªå·±æ„é€ æ·±åº¦é€’å½’å‡½æ•°
     */
    public boolean recur(char[][] board, char[] wordch,int i,int j,int k){
        //åˆ¤æ–­æ­¤è·¯ä¸é€šï¼Œå³å‰ªæã€‚æ³¨æ„å…ˆåˆ¤æ–­ijçš„èŒƒå›´å†åˆ¤æ–­boardijçš„å€¼ï¼Œè¿™æ ·ä¸ä¼šè¶…è¿‡æ•°ç»„è¾¹ç•Œã€‚
        if(i<0||i>board.length-1||j<0||j>board[0].length-1||board[i][j]!=wordch[k]){
            return false;
        }
        //å¦‚æœä¸Šé¢çš„ifæ²¡é€€å‡ºï¼Œé‚£ä¹ˆè¯´æ˜å½“å‰å­—ç¬¦æ¯”å¯¹æ²¡é—®é¢˜ï¼›è¿™æ—¶å‘ç°wordchå…¨éƒ¨æ¯”å¯¹å®Œæ¯•äº†ï¼Œå°±å¯ä»¥è¿”å›trueï¼›æ³¨æ„è¿™é‡Œè¦ç”¨wordch.length-1ï¼Œåˆ«æ¼æ‰-1
        if(k==wordch.length-1){
            return true;
        }

        //ç©ºå­—ç¬¦ä¸²æ ‡è®°å½“å‰å­—ç¬¦ï¼Œè¡¨ç¤ºä»¥è®¿é—®è¿‡ï¼Œé˜²æ­¢æœ¬è½®é€’å½’å†æ¬¡è®¿é—®ï¼›æ•°ç»„ä¼ é€’çš„æ˜¯åœ°å€ï¼Œå‡½æ•°å†…ä¿®æ”¹æ•°ç»„ä¼šåŒæ—¶å½±å“å‡½æ•°å¤–ï¼›\æ˜¯xçš„ç¬¬ä¸€ç”»ï¼Œç§°ä¸ºåæ–œæ ã€‚
        board[i][j]='\0';
        //å¦‚æœåˆä¸èƒ½è¿”å›ï¼Œå½“å‰å­—ç¬¦æ¯”å¯¹åˆæ²¡é”™ï¼Œå°±è¿›è¡Œæ›´æ·±åº¦çš„é€’å½’(æœå¦å¤–çš„å››ä¸ªæ–¹å‘ï¼Œä¸è¿‡æ¥æ—¶çš„æ–¹å‘ä¼šä¸€è¿›å»ä¼šè¿”å›false)ï¼›å› ä¸ºè¦ä¿®å¤boardijçš„å€¼ï¼Œæ‰€ä»¥è¦æš‚å­˜recurçš„å€¼
        boolean tempb= recur(board,wordch,i-1,j,k+1)||recur(board,wordch,i+1,j,k+1)||recur(board,wordch,i,j-1,k+1)||recur(board,wordch,i,j+1,k+1);
        //æœ¬å±‚æ¬¡æ›´æ·±çš„é€’å½’ç»“æŸåï¼ŒæŠŠboardijè¿˜åŸï¼Œé˜²æ­¢å½±å“ä¸Šå±‚é€’å½’çš„å…¶ä»–æ–¹å‘;èƒ½èµ°åˆ°è¿™ä¸ªä½ç½®è¯´æ˜board[i][j]==wordch[k]
        board[i][j]=wordch[k];

        //è¿”å›é€’å½’çš„ç»“æœ
        return tempb;
    }
}
```

- æ€è·¯éƒ½æœ‰ï¼Œä½†æ˜¯çŠ¯äº†ä¸¤ä¸ªé”™è¯¯ï¼š

  - wordchåˆ¤æ–­ç»“æŸé•¿åº¦æ—¶ç”¨äº†è¶…è¿‡wordchè¾¹ç•Œçš„wordch.lengthï¼Œè€Œæ²¡æ­£ç¡®ä½¿ç”¨wordch.length-1

  - å¿˜è®°ç”¨ç©ºå­—ç¬¦ä¸²æ ‡è®°æœ¬æ¬¡é€’å½’è®¿é—®è¿‡çš„å­—ç¬¦äº†ï¼Œæäº¤å®Œçœ‹åˆ°é”™è¯¯æ¡ˆä¾‹æ‰æ˜ç™½ã€‚



### [å‰‘æŒ‡ Offer 13. æœºå™¨äººçš„è¿åŠ¨èŒƒå›´](https://leetcode-cn.com/problems/ji-qi-ren-de-yun-dong-fan-wei-lcof/)

#### é¦–æˆ˜å¯„

```java
class Solution {
    public int movingCount(int m, int n, int k) {
        /**
        æš´åŠ›æ·±åº¦é€’å½’ï¼ŒæŠŠè®¿é—®è¿‡çš„å­—ç¬¦æ ‡è®°å¹¶ä¸”ä¸æ“¦é™¤ï¼Œæœ€åç»Ÿè®¡è¢«æ ‡è®°çš„å­—ç¬¦æ•°ï¼›å¯è®¿é—®å—å¯èƒ½è¢«ä¸å¯è®¿é—®å—åŒ…å›´ï¼Œé€ æˆä¸å¯è®¿é—®çš„ç°è±¡ã€‚
        ä¸èƒ½ç”¨booleanæ•°ç»„è®°å½•ï¼Œå› ä¸ºæœ‰é»˜è®¤å€¼ï¼Œæ— æ³•åŒºåˆ†æ˜¯è®¤ä¸ºæ ‡è®°çš„è¿˜æ˜¯é»˜è®¤çš„ï¼›è¿˜æ˜¯ç”¨intè®°å½•å§
        1ï¼šå¯è®¿é—®åˆ°
        -1ï¼šä¸å¯è®¿é—®
        0ï¼šè¢«-1åŒ…å›´å¯¼è‡´æ— æ³•è¢«è®¿é—®
        éå†çš„æ—¶å€™åªè€ƒè™‘1çš„ä¸ªæ•°å³å¯
         */
        int [][] board=new int[m][n];
        recur(board,m,n,k,0,0);

        //å¾—åˆ°å¯è¢«åˆ°è¾¾çš„æ•°ç›®
        int result=0;
        for(int i=0;i<board.length;i++){
            for(int j=0;j<board[0].length;j++){
                System.out.println("å½“å‰å…ƒç´ ä¸ºï¼š"+board[i][j]);
                if(board[i][j]==1){
                    result++;
                }
            }
        }

        return result;
    }

    /**
    å‚æ•°è®²è§£ï¼š
    boardï¼šå…¨å±€äºŒç»´æ•°ç»„
    mï¼šæœ€å¤§è¡Œ
    nï¼šæœ€å¤§åˆ—
    kï¼šé™åˆ¶
    iï¼šå½“å‰è¡Œ
    jï¼šå½“å‰åˆ—
     */
    public void recur(int [][] board,int m,int n,int k,int i, int j){
        System.out.println("è¿›å…¥äº†recurï¼Œæ­¤æ—¶i:"+i+" j:"+j);
        //ä¸‹æ ‡ä¸ç¬¦åˆè¦æ±‚çš„ï¼Œç›´æ¥è¿”å›
        if(i<0||i>m-1||j<0||j>n-1){
            System.out.println("ä¸‹æ ‡ä¸å¯¹");
            return;
        }
        //å¦‚æœå·²ç»æ ‡è®°è¿‡ï¼Œè¯´æ˜æ—©è¢«å¤„ç†è¿‡çš„ï¼Œç›´æ¥è¿”å›
        if(board[i][j]==1||board[i][j]==-1){
            System.out.println("è¢«å¤„ç†è¿‡");
            return;
        }

        //å¦‚æœæ²¡æœ‰è¢«æ ‡è®°è¿‡ï¼Œåˆ™å¤„ç†æœ¬å…ƒç´ 
        //è®°å½•æ•°ä½ä¹‹å’Œ
        int isum=0,jsum=0;
        while(i/10>0){
            int temp=i%10;
            isum+=temp;
            i/=10;
        }
        //å•ç‹¬å¤„ç†ä¸€ä¸‹m/10==0æ—¶çš„ä¸ªä½æ•°çš„m
        isum+=i;
        while(j/10>0){
            int temp=j%10;
            jsum+=temp;
            j/=10;
        }
        //å•ç‹¬å¤„ç†ä¸€ä¸‹m/10==0æ—¶çš„ä¸ªä½æ•°çš„m
        jsum+=j;
        //æ ¹æ®æ•°ä½ä¹‹å’Œåšæ ‡è®°
        if(isum+jsum>k){
            System.out.println("è¿™ä¸ªä¸æ˜¯");
            board[i][j]=-1;
        }else{
            System.out.println("æ‰¾åˆ°äº†");
            board[i][j]=1;
        }

        //æœ¬å…ƒç´ å¤„ç†å®Œåï¼Œé€’å½’å¤„ç†å‘¨è¾¹å…ƒç´ 
        recur(board,m,n,k,i-1,j);
        recur(board,m,n,k,i+1,j);
        recur(board,m,n,k,i,j-1);
        recur(board,m,n,k,i,j+1);
    }
}
```

- é—®ç­”é—®ï¼šæŒ‰ç…§è‡ªå·±çš„æ€è·¯ï¼Œæ²¡å‘ç°ä»€ä¹ˆé”™è¯¯ï¼Œä¹Ÿé€šè¿‡äº†32/49çš„æµ‹è¯•æ¡ˆä¾‹ï¼›ä¸è¿‡m==11,n==8,k==16çš„æ¡ˆä¾‹å°±æ²¡é€šè¿‡
  - æˆ‘ï¼šé—®é¢˜æœ‰ä¸¤ä¸ªï¼š
    - `if(isum+jsum>k)`ä¸­ï¼Œæ—¢ç„¶ä¸ç¬¦åˆå°±è¯¥åŠæ—¶è¿”å›
    - æœ€è‡´å‘½çš„é”™è¯¯ï¼š`if(isum+jsum>k)å’Œelse`ä¸­ç»™`board[i][j]`å¤åˆ¶ï¼Œæˆ‘è¿™é‡Œèµ‹å‚æ•°çš„iä¸æ˜¯ä¼ è¿›æ¥çš„iï¼Œå› ä¸ºä¸­é—´æ‰§è¡Œäº†iè‡ªé™¤ï¼ï¼æ‰€ä»¥å‡ºç°äº†m>10å°±ä¼šå‘ç”Ÿå’Œé¢„æœŸç»“æœä¸ä¸€è‡´ï¼Œå› ä¸ºm>10åiæœ€å¤§å°±ä¼šè¶…è¿‡9ï¼Œå³iä¼šå¤§äºç­‰äº10ï¼Œå°±ä¼šå‡ºå‘iè‡ªé™¤ï¼Œå°±ä¼šå¯¼è‡´boardå¡«æ•°é”™è¯¯ã€‚è¿™ä¹Ÿå°±è§£é‡Šäº†ï¼šæ±‚æ•°ä½å’Œçš„ç®—æ³•æ²¡é”™ï¼Œä¸ºä»€ä¹ˆæœ€åboardçš„ç»“æœè¿˜ä¸ä¸€è‡´ï¼›æ±‚å’Œæ˜¯å¯¹çš„ï¼Œä½†æ˜¯æœ€åboardè®°å½•çš„ä½ç½®é”™äº†ï¼ã€‚
      - å¤§ç¥è¯„è®ºï¼šè‡ªé™¤è¿™ç§æ“ä½œï¼Œè¦å°å¿ƒï¼›æœ‰çš„æ—¶å€™å®å¯å¤šä¸€ä¸ªå˜é‡ä¹Ÿåˆ«å°‘ä¸€ä¸ªå˜é‡ã€‚

æ ¹æ®è‡ªå·±å‘ç°çš„ä¸¤å¤„é”™è¯¯ï¼Œç•¥å¾®ä¿®æ”¹ä»£ç å¦‚ä¸‹ï¼Œå³æˆåŠŸæäº¤ï¼ï¼š

```java
class Solution {
    public int movingCount(int m, int n, int k) {
        /**
        æš´åŠ›æ·±åº¦é€’å½’ï¼ŒæŠŠè®¿é—®è¿‡çš„å­—ç¬¦æ ‡è®°å¹¶ä¸”ä¸æ“¦é™¤ï¼Œæœ€åç»Ÿè®¡è¢«æ ‡è®°çš„å­—ç¬¦æ•°ï¼›å¯è®¿é—®å—å¯èƒ½è¢«ä¸å¯è®¿é—®å—åŒ…å›´ï¼Œé€ æˆä¸å¯è®¿é—®çš„ç°è±¡ã€‚
        ä¸èƒ½ç”¨booleanæ•°ç»„è®°å½•ï¼Œå› ä¸ºæœ‰é»˜è®¤å€¼ï¼Œæ— æ³•åŒºåˆ†æ˜¯è®¤ä¸ºæ ‡è®°çš„è¿˜æ˜¯é»˜è®¤çš„ï¼›è¿˜æ˜¯ç”¨intè®°å½•å§
        1ï¼šå¯è®¿é—®åˆ°
        -1ï¼šä¸å¯è®¿é—®
        0ï¼šè¢«-1åŒ…å›´å¯¼è‡´æ— æ³•è¢«è®¿é—®
        éå†çš„æ—¶å€™åªè€ƒè™‘1çš„ä¸ªæ•°å³å¯
         */
        int [][] board=new int[m][n];
        recur(board,m,n,k,0,0);

        //å¾—åˆ°å¯è¢«åˆ°è¾¾çš„æ•°ç›®
        int result=0;
        for(int i=0;i<board.length;i++){
            for(int j=0;j<board[0].length;j++){
                //System.out.println("å½“å‰å…ƒç´ ä¸ºï¼š"+board[i][j]);
                if(board[i][j]==1){
                    result++;
                }
            }
        }

        return result;
    }

    /**
    å‚æ•°è®²è§£ï¼š
    boardï¼šå…¨å±€äºŒç»´æ•°ç»„
    mï¼šæœ€å¤§è¡Œ
    nï¼šæœ€å¤§åˆ—
    kï¼šé™åˆ¶
    iï¼šå½“å‰è¡Œ
    jï¼šå½“å‰åˆ—
     */
    public void recur(int [][] board,int m,int n,int k,int i, int j){
        //System.out.println("è¿›å…¥äº†recurï¼Œæ­¤æ—¶i:"+i+" j:"+j);
        //ä¸‹æ ‡ä¸ç¬¦åˆè¦æ±‚çš„ï¼Œç›´æ¥è¿”å›
        if(i<0||i>m-1||j<0||j>n-1){
            //System.out.println("ä¸‹æ ‡ä¸å¯¹");
            return;
        }
        //å¦‚æœå·²ç»æ ‡è®°è¿‡ï¼Œè¯´æ˜æ—©è¢«å¤„ç†è¿‡çš„ï¼Œç›´æ¥è¿”å›
        if(board[i][j]==1||board[i][j]==-1){
            //System.out.println("è¢«å¤„ç†è¿‡");
            return;
        }

        //å¦‚æœæ²¡æœ‰è¢«æ ‡è®°è¿‡ï¼Œåˆ™å¤„ç†æœ¬å…ƒç´ 
        //è®°å½•æ•°ä½ä¹‹å’Œ
        int isum=0,jsum=0;
        //ä¿å­˜ij
        int storedi=i,storedj=j;
        while(i/10>0){
            int temp=i%10;
            isum+=temp;
            i/=10;
        }
        //å•ç‹¬å¤„ç†ä¸€ä¸‹m/10==0æ—¶çš„ä¸ªä½æ•°çš„m
        isum+=i;
        while(j/10>0){
            int temp=j%10;
            jsum+=temp;
            j/=10;
        }
        //å•ç‹¬å¤„ç†ä¸€ä¸‹m/10==0æ—¶çš„ä¸ªä½æ•°çš„m
        jsum+=j;
        //æ ¹æ®æ•°ä½ä¹‹å’Œåšæ ‡è®°
        if(isum+jsum>k){
            //System.out.println("è¿™ä¸ªä¸æ˜¯");
            board[storedi][storedj]=-1;
            //åˆ«å¿˜äº†åœ¨ä¸åˆæ³•çš„æ—¶å€™return
            return;
        }else{
            //System.out.println("æ‰¾åˆ°äº†");
            board[storedi][storedj]=1;
        }

        //æœ¬å…ƒç´ å¤„ç†å®Œåï¼Œé€’å½’å¤„ç†å‘¨è¾¹å…ƒç´ 
        recur(board,m,n,k,storedi-1,storedj);
        recur(board,m,n,k,storedi+1,storedj);
        recur(board,m,n,k,storedi,storedj-1);
        recur(board,m,n,k,storedi,storedj+1);
    }
}
```



#### é«˜èµå¤§ä½¬è¯„è®ºè§£æ³•-ç±»ä¼¼æˆ‘

å®˜æ–¹è¯„è®ºé‡Œæœ‰ä¸€ä¸ªå’Œæˆ‘ä»£ç ç±»ä¼¼çš„ï¼Œå¯ä»¥å¯¹ç…§ä¸‹çœ‹çœ‹å“ªé”™äº†ï¼š

```java
class Solution {
    public int movingCount(int m, int n, int k) {
        boolean[][] visited = new boolean[m][n];
        return dfs(0, 0, m, n, k, visited);
    }

    private int dfs(int i, int j, int m, int n, int k, boolean visited[][]) {
        if (i < 0 || i >= m || j < 0 || j >= n || (i/10 + i%10 + j/10 + j%10) > k || visited[i][j]) {
            return 0;
        }
        visited[i][j] = true;
        return dfs(i + 1, j, m, n, k, visited) + dfs(i - 1, j, m, n, k, visited) + 
               dfs(i, j + 1, m, n, k, visited) + dfs(i, j - 1, m, n, k, visited) + 1;
    }
}
```

- æˆ‘å’Œç½‘å‹é—®ï¼š(i/10 + i%10 + j/10 + j%10) å½“ i = 100 j =100çš„æ—¶å€™ä¸å°± ä¸æˆç«‹äº†å—ï¼Ÿ
  - ç½‘å‹ç­”ï¼šä¸‹æ ‡æœ€å¤§æ˜¯99ï¼Œæ‰€æœ‰ä¸ä¼šå‡ºç°100
- ç½‘å‹é—®ï¼šä¸ºä»€ä¹ˆåˆ¤æ–­æ¡ä»¶è¿˜è¦åŠ ä¸Šå½“å‰è¿™ä¸ªä½ç½®visited[i][j]ï¼Œä¸åŠ ä¸Šå°±ä¸å¯¹ï¼Œè¿™ä¸ªæ—¶å€™çš„è¿™ä¸ªå€¼æ²¡æœ‰å®šä¹‰ï¼Œè‚¯å®šæ˜¯falseå•Š
  - æˆ‘ç­”ï¼šæ²¡è¢«è®¿é—®è¿‡ä¸ºé»˜è®¤çš„falseï¼Œæ‰€ä»¥ä¼šå¾€ä¸‹èµ°ï¼›å¦‚æœè¢«è®¿é—®è¿‡å³ä¸ºtrueï¼Œåˆ™ä¼šreturnè€Œä¸ä¼šå¾€ä¸‹èµ°ã€‚

#### å®˜æ–¹-BFS/DFSåˆå§‹åˆ†æ

- æˆ‘ï¼šè¿™ä¸¤ä¸ªè§£æ³•ç°åœºå¾ˆéš¾æƒ³åˆ°â€œå¢é‡å…¬å¼â€çš„æ€è·¯ï¼Œä¸ªäººä¸å»ºè®®

è§£é¢˜æ€è·¯ï¼š

- æœ¬é¢˜ä¸ [çŸ©é˜µä¸­çš„è·¯å¾„](https://leetcode-cn.com/problems/ju-zhen-zhong-de-lu-jing-lcof/solution/mian-shi-ti-12-ju-zhen-zhong-de-lu-jing-shen-du-yo/) ç±»ä¼¼ï¼Œæ˜¯å…¸å‹çš„æœç´¢ & å›æº¯é—®é¢˜ã€‚åœ¨ä»‹ç»å›æº¯ç®—æ³•ç®—æ³•å‰ï¼Œä¸ºæå‡è®¡ç®—æ•ˆç‡ï¼Œé¦–å…ˆè®²è¿°ä¸¤é¡¹å‰ç½®å·¥ä½œï¼š **æ•°ä½ä¹‹å’Œè®¡ç®—** ã€ **å¯è¾¾è§£åˆ†æ** ã€‚

æ•°ä½ä¹‹å’Œè®¡ç®—ï¼š

![image-20220405194741529](lcof.assets/image-20220405194741529.png)

```java
int sums(int x)
    int s = 0;
    while(x != 0) {
        s += x % 10;
        x = x / 10;
    }
    return s;

```

![image-20220405194811250](lcof.assets/image-20220405194811250.png)

æ•°ä½å’Œå¢é‡å…¬å¼:

![image-20220405194840568](lcof.assets/image-20220405194840568.png)

![image-20220405194851009](lcof.assets/image-20220405194851009.png)

ä»¥ä¸‹ä»£ç ä¸ºå¢é‡å…¬å¼çš„ä¸‰å…ƒè¡¨è¾¾å¼å†™æ³•ï¼Œå°†æ•´åˆå…¥æœ€ç»ˆä»£ç ä¸­ã€‚

```java
(x + 1) % 10 != 0 ? s_x + 1 : s_x - 8;
```

å¯è¾¾è§£åˆ†æï¼š

![image-20220405195157201](lcof.assets/image-20220405195157201.png)

![image-20220405195214003](lcof.assets/image-20220405195214003.png)

#### å®˜æ–¹-DFS

![image-20220405195255693](lcof.assets/image-20220405195255693.png)

![image-20220405195324541](lcof.assets/image-20220405195324541.png)

ä»£ç ï¼š

```java
class Solution {
    int m, n, k;
    boolean[][] visited;
    public int movingCount(int m, int n, int k) {
        this.m = m; this.n = n; this.k = k;
        this.visited = new boolean[m][n];
        return dfs(0, 0, 0, 0);
    }
    public int dfs(int i, int j, int si, int sj) {
        if(i >= m || j >= n || k < si + sj || visited[i][j]) return 0;
        visited[i][j] = true;
        return 1 + dfs(i + 1, j, (i + 1) % 10 != 0 ? si + 1 : si - 8, sj) + dfs(i, j + 1, si, (j + 1) % 10 != 0 ? sj + 1 : sj - 8);
    }
}
```

- Java/C++ ä»£ç ä¸­ `visited` ä¸ºè¾…åŠ©çŸ©é˜µï¼Œ

#### å®˜æ–¹-BFS

![image-20220405195545232](lcof.assets/image-20220405195545232.png)

![image-20220405195559049](lcof.assets/image-20220405195559049.png)

ä»£ç ï¼š

```java
class Solution {
    public int movingCount(int m, int n, int k) {
        boolean[][] visited = new boolean[m][n];
        int res = 0;
        Queue<int[]> queue= new LinkedList<int[]>();
        queue.add(new int[] { 0, 0, 0, 0 });
        while(queue.size() > 0) {
            int[] x = queue.poll();
            int i = x[0], j = x[1], si = x[2], sj = x[3];
            if(i >= m || j >= n || k < si + sj || visited[i][j]) continue;
            visited[i][j] = true;
            res ++;
            queue.add(new int[] { i + 1, j, (i + 1) % 10 != 0 ? si + 1 : si - 8, sj });
            queue.add(new int[] { i, j + 1, si, (j + 1) % 10 != 0 ? sj + 1 : sj - 8 });
        }
        return res;
    }
}
```

- Java/C++ ä»£ç ä¸­ `visited` ä¸ºè¾…åŠ©çŸ©é˜µ

#### åŠæ—¶å†æˆ˜æˆåŠŸ

æ²¡æœ‰ç”¨å®˜æ–¹çš„è§£æ³•ï¼Œç”¨æˆ‘+å¤§ä½¬çš„æ€è·¯ï¼Œä¿®æ”¹äº†ä¸‹åˆ¤æ–­kçš„æ¡ä»¶å°±æˆåŠŸäº†ï¼›çœ‹æ¥ä¹‹å‰ç¡®å®åˆ¤æ–­kçš„ç®—æ³•æœ‰æ¼æ´ã€‚

```java
class Solution {
    public int movingCount(int m, int n, int k) {
        /**
        æš´åŠ›æ·±åº¦é€’å½’ï¼ŒæŠŠè®¿é—®è¿‡çš„å­—ç¬¦æ ‡è®°å¹¶ä¸”ä¸æ“¦é™¤ï¼Œæœ€åç»Ÿè®¡è¢«æ ‡è®°çš„å­—ç¬¦æ•°ï¼›å¯è®¿é—®å—å¯èƒ½è¢«ä¸å¯è®¿é—®å—åŒ…å›´ï¼Œé€ æˆä¸å¯è®¿é—®çš„ç°è±¡ã€‚
        ä¸èƒ½ç”¨booleanæ•°ç»„è®°å½•ï¼Œå› ä¸ºæœ‰é»˜è®¤å€¼ï¼Œæ— æ³•åŒºåˆ†æ˜¯è®¤ä¸ºæ ‡è®°çš„è¿˜æ˜¯é»˜è®¤çš„ï¼›è¿˜æ˜¯ç”¨intè®°å½•å§
        1ï¼šå¯è®¿é—®åˆ°
        -1ï¼šä¸å¯è®¿é—®
        0ï¼šè¢«-1åŒ…å›´å¯¼è‡´æ— æ³•è¢«è®¿é—®
        éå†çš„æ—¶å€™åªè€ƒè™‘1çš„ä¸ªæ•°å³å¯
         */
        int [][] board=new int[m][n];
        recur(board,m,n,k,0,0);

        //å¾—åˆ°å¯è¢«åˆ°è¾¾çš„æ•°ç›®
        int result=0;
        for(int i=0;i<board.length;i++){
            for(int j=0;j<board[0].length;j++){
                System.out.println("å½“å‰å…ƒç´ ä¸ºï¼š"+board[i][j]);
                if(board[i][j]==1){
                    result++;
                }
            }
        }

        return result;
    }

    /**
    å‚æ•°è®²è§£ï¼š
    boardï¼šå…¨å±€äºŒç»´æ•°ç»„
    mï¼šæœ€å¤§è¡Œ
    nï¼šæœ€å¤§åˆ—
    kï¼šé™åˆ¶
    iï¼šå½“å‰è¡Œ
    jï¼šå½“å‰åˆ—
     */
    public void recur(int [][] board,int m,int n,int k,int i, int j){
        //System.out.println("è¿›å…¥äº†recurï¼Œæ­¤æ—¶i:"+i+" j:"+j);
        //ä¸‹æ ‡ä¸ç¬¦åˆè¦æ±‚çš„ï¼Œç›´æ¥è¿”å›
        if(i<0||i>m-1||j<0||j>n-1){
            //System.out.println("ä¸‹æ ‡ä¸å¯¹");
            return;
        }
        //å¦‚æœå·²ç»æ ‡è®°è¿‡ï¼Œè¯´æ˜æ—©è¢«å¤„ç†è¿‡çš„ï¼Œç›´æ¥è¿”å›
        if(board[i][j]==1||board[i][j]==-1){
            //System.out.println("è¢«å¤„ç†è¿‡");
            return;
        }

        // //å¦‚æœæ²¡æœ‰è¢«æ ‡è®°è¿‡ï¼Œåˆ™å¤„ç†æœ¬å…ƒç´ 
        // //è®°å½•æ•°ä½ä¹‹å’Œ
        // int isum=0,jsum=0;
        // while(i/10>0){
        //     int temp=i%10;
        //     isum+=temp;
        //     i/=10;
        // }
        // //å•ç‹¬å¤„ç†ä¸€ä¸‹m/10==0æ—¶çš„ä¸ªä½æ•°çš„m
        // isum+=i;
        // while(j/10>0){
        //     int temp=j%10;
        //     jsum+=temp;
        //     j/=10;
        // }
        // jsum+=j;
        // //æ ¹æ®æ•°ä½ä¹‹å’Œåšæ ‡è®°
        // if(isum+jsum>k){
        //     System.out.println("è¿™ä¸ªä¸æ˜¯");
        //     board[i][j]=-1;
        // }else{
        //     System.out.println("æ‰¾åˆ°äº†");
        //     board[i][j]=1;
        // }
        if(i/10 + i%10 + j/10 + j%10>k){
            board[i][j]=-1;
            return ;
        }else{
            board[i][j]=1;
        }


        //æœ¬å…ƒç´ å¤„ç†å®Œåï¼Œé€’å½’å¤„ç†å‘¨è¾¹å…ƒç´ 
        recur(board,m,n,k,i-1,j);
        recur(board,m,n,k,i+1,j);
        recur(board,m,n,k,i,j-1);
        recur(board,m,n,k,i,j+1);
    }
}
```

- æ³¨æ„ï¼šé¢˜ç›®è¯´må’Œnå¯ä»¥ä¸º100ï¼Œä½†æ˜¯æ•°ç»„ä¸‹æ ‡ä¸ºm-1å’Œn-1ï¼Œæœ€å¤š2ä½æ•°ã€‚

- ä¹‹åæ¨èâ€œé«˜èµå¤§ä½¬è¯„è®ºè§£æ³•â€çš„åšæ³•ï¼Œæ•ˆç‡é«˜ï¼š
  - ä»–åªç”¨booleanæ ‡è®°å·²è®¿é—®ï¼Œæ˜¯å› ä¸ºå®ƒç›´æ¥ç”¨dfsè¿”å›å€¼äº†ï¼Œè¯´æ˜æœ¬èº«è¿”å›çš„å€¼å°±æ˜¯æ‰€æœ‰å¯è¾¾å…ƒç´ çš„å€¼ï¼›ä½†æ˜¯æˆ‘è¿™è§£æ³•è¦éå†ä¸€ébooleanæ•°ç»„ï¼Œä¸çŸ¥é“æœ‰å“ªäº›æ˜¯ä¸å¯è¾¾ï¼ˆè¢«ä¸åˆæ³•åŒ…å›´äº†å¯¼è‡´è¿‡ä¸å»ï¼‰ï¼Œæœ‰å“ªäº›æ˜¯å¯è¾¾ä½†ä¸åˆæ³•ï¼Œæ‰€ä»¥æˆ‘è‡³å°‘éœ€è¦ä¸‰ä¸ªçŠ¶æ€æ¥è®°å½•ï¼Œbooleanå°±ä¸åˆé€‚äº†ã€‚

- è‡³äºä¸ºä»€ä¹ˆè‡ªå·±çš„ç®—æ³•ä¸è¡Œï¼Œå‚è§â€œé¦–æˆ˜å¯„â€

### [å‰‘æŒ‡ Offer 34. äºŒå‰æ ‘ä¸­å’Œä¸ºæŸä¸€å€¼çš„è·¯å¾„](https://leetcode-cn.com/problems/er-cha-shu-zhong-he-wei-mou-yi-zhi-de-lu-jing-lcof/)

#### é¦–æˆ˜å‘Šæ·

```java
/**
 * Definition for a binary tree node.
 * public class TreeNode {
 *     int val;
 *     TreeNode left;
 *     TreeNode right;
 *     TreeNode() {}
 *     TreeNode(int val) { this.val = val; }
 *     TreeNode(int val, TreeNode left, TreeNode right) {
 *         this.val = val;
 *         this.left = left;
 *         this.right = right;
 *     }
 * }
 */
class Solution {
    //å»ºç«‹å…¨å±€åˆ—è¡¨ä¾¿äºæ“ä½œ
    List<List<Integer>>result=new LinkedList<>();
    public List<List<Integer>> pathSum(TreeNode root, int target) {
        /**
        5000*1000<2çš„9æ¬¡æ–¹ï¼Œæ‰€ä»¥ä¸ç”¨æ‹…å¿ƒæ•°ç»„å€¼æ±‚å’Œå¯¼è‡´è¶…è¿‡æ•´æ•°è¾¹ç•Œ

        åˆæ­¥æ€è·¯ï¼šdfs+å‰ªæ
         */
        recur(root,target,new LinkedList<>());

        return result;
    }
    public void recur(TreeNode root, int target, Deque<Integer> way){
        //è¿”å›å€¼å¤„ç†  
        if(root==null){//æ³¨æ„èŠ‚ç‚¹å¯ä»¥ä¸ºè´Ÿæ•°ï¼Œæ‰€ä»¥ä¸èƒ½ç”¨target<root.valåˆ¤æ–­è·¯å¾„ä¸é€š;æ­¤æ­¥è¿˜å¯ä»¥é˜²æ­¢åé¢æ“ä½œç©ºæŒ‡é’ˆå¼‚å¸¸ã€‚
            return;
        }else if(target==root.val&&root.left==null&&root.right==null){//æ‰¾åˆ°åˆç†è·¯å¾„;æ³¨æ„å•å•target==root.valè¿˜ä¸å¤Ÿï¼Œé¢˜ç›®è¦æ±‚æ˜¯ä»æ ¹èŠ‚ç‚¹åˆ°å¶å­ç»“ç‚¹çš„è·¯å¾„
            //æŠŠæœ¬å…ƒç´ å‹å…¥wayï¼Œå†æŠŠwayå‹å…¥å…¨å±€resultä¸­;æŠŠlinkedlistå®ç°çš„dequeå¼ºè½¬ä¸ºlist
            way.offerLast(root.val);
            //!!!ä¸èƒ½ç›´æ¥result.add((List<Integer>)way);å­˜èŠ‚ç‚¹ï¼Œè¿™æ ·wayä¸­ä¿®æ”¹å¢åˆ èŠ‚ç‚¹ä¼šå½±å“resultï¼Œåº”è¯¥ç”¨newå¦ç»™ç©ºé—´æˆç«‹æ–°å¯¹è±¡ã€‚
            result.add(new LinkedList<>((List<Integer>)way));
            //æŠŠwayä¸­æœ¬å…ƒç´ å–å‡ºæ¥ï¼Œé¿å…å½±å“å…¶ä»–å…„å¼Ÿæçš„é€’å½’
            way.pollLast();
            //æ‰¾åˆ°åˆç†è·¯åŠ²è¡¨ç¤ºå½“å‰èŠ‚ç‚¹æ˜¯å¶å­èŠ‚ç‚¹ï¼Œå¯ä»¥ç›´æ¥è¿”å›ï¼Œä¸éœ€è¦å†å¯¹å·¦å³å­æ ‘åšé€’å½’äº†
            return;
        }
        //ä»¥ä¸Šéƒ½æ²¡è¿”å›ï¼Œè¯´æ˜æ­¤è·¯å¾„è¿˜å¯ä»¥å†é€’å½’è¯•è¯•
        way.offerLast(root.val);
        recur(root.left,target-root.val,way);
        recur(root.right,target-root.val,way);
        //æœ¬èŠ‚ç‚¹ç›¸å…³çš„é€’å½’å¤„ç†å®Œäº†ï¼Œä»è·¯å¾„ä¸­æ‹¿å‡ºæœ¬èŠ‚ç‚¹ï¼Œé˜²æ­¢å½±å“å…¶ä»–å…„å¼Ÿæçš„é€’å½’
        way.pollLast();

    }
}
```

- æ³¨æ„ç‚¹ï¼š
  - å…¨å±€å˜é‡å¾€å¾€ä¼šè®©äº‹æƒ…ç®€å•ä¸€ç‚¹ï¼Œä¸ç”¨å„ç§ä¼ å‚å’Œè€ƒè™‘è¿”å›ï¼Œå®¹æ˜“ç»•æ™•ã€‚
  - ä¸èƒ½ç›´æ¥result.add((List\<Integer>)way);å­˜èŠ‚ç‚¹ï¼Œè¿™æ ·wayä¸­ä¿®æ”¹å¢åˆ èŠ‚ç‚¹ä¼šå½±å“resultï¼Œåº”è¯¥ç”¨newå¦ç»™ç©ºé—´æˆç«‹æ–°å¯¹è±¡ã€‚LinkedListå’ŒArrayListçš„æ„é€ å‡½æ•°éƒ½æ”¯æŒä¼ å…¥ä¸€ä¸ªåˆ—è¡¨ï¼Œè¡¨ç¤ºæ ¹æ®åˆ—è¡¨çš„å†…å®¹æ–°å»ºæœ¬åˆ—è¡¨ã€‚ï¼ˆè¿™ä¸ªåœ¨å®˜æ–¹è§£æä¸­ä¹Ÿæåˆ°äº†ï¼‰
  - é€’å½’å‰å¾€åˆ—è¡¨æ”¾æœ¬èŠ‚ç‚¹çš„å€¼ï¼Œé€’å½’ï¼Œé€’å½’åæ‹¿å‡ºæœ¬èŠ‚ç‚¹å¾€åˆ—è¡¨æ”¾çš„å€¼ï¼Œï¼ˆå¤„ç†å¹¶è¿”å›ï¼‰
    - å¯ä»¥åˆ©ç”¨dequeçš„ç‰¹æ€§ï¼Œç²¾å‡†ä»å°¾éƒ¨å¾€é“¾è¡¨å¢åˆ èŠ‚ç‚¹ã€‚
- åæ€ï¼š
  - æˆ‘æ— æ„ä¸­æ­£ç”¨äº†dfs-å…ˆåºéå†ï¼Œå³æŒ‰ç…§ â€œæ ¹ã€å·¦ã€å³â€ çš„é¡ºåºï¼Œéå†æ ‘çš„æ‰€æœ‰èŠ‚ç‚¹ã€‚

#### å®˜æ–¹

è§£é¢˜æ€è·¯ï¼šæœ¬é—®é¢˜æ˜¯å…¸å‹çš„äºŒå‰æ ‘æ–¹æ¡ˆæœç´¢é—®é¢˜ï¼Œä½¿ç”¨å›æº¯æ³•è§£å†³ï¼Œå…¶åŒ…å« å…ˆåºéå† + è·¯å¾„è®°å½• ä¸¤éƒ¨åˆ†ã€‚

- å…ˆåºéå†ï¼š æŒ‰ç…§ â€œæ ¹ã€å·¦ã€å³â€ çš„é¡ºåºï¼Œéå†æ ‘çš„æ‰€æœ‰èŠ‚ç‚¹ã€‚
- è·¯å¾„è®°å½•ï¼š åœ¨å…ˆåºéå†ä¸­ï¼Œè®°å½•ä»æ ¹èŠ‚ç‚¹åˆ°å½“å‰èŠ‚ç‚¹çš„è·¯å¾„ã€‚å½“è·¯å¾„ä¸º â‘  æ ¹èŠ‚ç‚¹åˆ°å¶èŠ‚ç‚¹å½¢æˆçš„è·¯å¾„ ä¸” â‘¡ å„èŠ‚ç‚¹å€¼çš„å’Œç­‰äºç›®æ ‡å€¼ sum æ—¶ï¼Œå°†æ­¤è·¯å¾„åŠ å…¥ç»“æœåˆ—è¡¨ã€‚

![image-20220406145505142](lcof.assets/image-20220406145505142.png)

ç®—æ³•æµç¨‹ï¼š

- pathSum(root, sum) å‡½æ•°ï¼š
  - åˆå§‹åŒ–ï¼š ç»“æœåˆ—è¡¨ res ï¼Œè·¯å¾„åˆ—è¡¨ path ã€‚
  - è¿”å›å€¼ï¼š è¿”å› res å³å¯ã€‚
- recur(root, tar) å‡½æ•°ï¼š
  - é€’æ¨å‚æ•°ï¼š å½“å‰èŠ‚ç‚¹ root ï¼Œå½“å‰ç›®æ ‡å€¼ tar ã€‚
  - ç»ˆæ­¢æ¡ä»¶ï¼š è‹¥èŠ‚ç‚¹ root ä¸ºç©ºï¼Œåˆ™ç›´æ¥è¿”å›ã€‚
  - é€’æ¨å·¥ä½œï¼š
    1. è·¯å¾„æ›´æ–°ï¼š å°†å½“å‰èŠ‚ç‚¹å€¼ root.val åŠ å…¥è·¯å¾„ path ï¼›
    2. ç›®æ ‡å€¼æ›´æ–°ï¼š tar = tar - root.valï¼ˆå³ç›®æ ‡å€¼ tar ä» sum å‡è‡³ 00 ï¼‰ï¼›
    3. è·¯å¾„è®°å½•ï¼š å½“ â‘  root ä¸ºå¶èŠ‚ç‚¹ ä¸” â‘¡ è·¯å¾„å’Œç­‰äºç›®æ ‡å€¼ ï¼Œåˆ™å°†æ­¤è·¯å¾„ path åŠ å…¥ res ã€‚
    4. å…ˆåºéå†ï¼š é€’å½’å·¦ / å³å­èŠ‚ç‚¹ã€‚
    5. è·¯å¾„æ¢å¤ï¼š å‘ä¸Šå›æº¯å‰ï¼Œéœ€è¦å°†å½“å‰èŠ‚ç‚¹ä»è·¯å¾„ path ä¸­åˆ é™¤ï¼Œå³æ‰§è¡Œ path.pop() ã€‚

å¤æ‚åº¦åˆ†æï¼š

- æ—¶é—´å¤æ‚åº¦ O(N)ï¼š Nä¸ºäºŒå‰æ ‘çš„èŠ‚ç‚¹æ•°ï¼Œå…ˆåºéå†éœ€è¦éå†æ‰€æœ‰èŠ‚ç‚¹ã€‚
- ç©ºé—´å¤æ‚åº¦ O(N)ï¼š æœ€å·®æƒ…å†µä¸‹ï¼Œå³æ ‘é€€åŒ–ä¸ºé“¾è¡¨æ—¶ï¼Œpath å­˜å‚¨æ‰€æœ‰æ ‘èŠ‚ç‚¹ï¼Œä½¿ç”¨ O(N)é¢å¤–ç©ºé—´ã€‚

ä»£ç ï¼š

```java
class Solution {
    LinkedList<List<Integer>> res = new LinkedList<>();
    LinkedList<Integer> path = new LinkedList<>(); 
    public List<List<Integer>> pathSum(TreeNode root, int sum) {
        recur(root, sum);
        return res;
    }
    void recur(TreeNode root, int tar) {
        if(root == null) return;
        path.add(root.val);
        tar -= root.val;
        if(tar == 0 && root.left == null && root.right == null)
            res.add(new LinkedList(path));
        recur(root.left, tar);
        recur(root.right, tar);
        path.removeLast();
    }
}
```

- å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œè®°å½•è·¯å¾„æ—¶è‹¥ç›´æ¥æ‰§è¡Œ res.append(path) ï¼Œåˆ™æ˜¯å°† path å¯¹è±¡åŠ å…¥äº† res ï¼›åç»­ path æ”¹å˜æ—¶ï¼Œ res ä¸­çš„ path å¯¹è±¡ä¹Ÿä¼šéšä¹‹æ”¹å˜ã€‚
  - æ­£ç¡®åšæ³•ï¼šres.append(list(path)) ï¼Œç›¸å½“äºå¤åˆ¶äº†ä¸€ä¸ª path å¹¶åŠ å…¥åˆ° res ã€‚

- ç½‘å‹è¯„è®ºï¼šå‰ªæå‰ªäº†ä¸ªå¯‚å¯ã€‚ã€‚ã€‚ã€‚åˆ° å¶å­ ç»“ç‚¹ï¼ï¼ï¼

- æˆ‘ï¼šæœ¬ä¾‹ç”¨ä¸€å¯¹å¢åˆ èŠ‚ç‚¹åŒ…è£¹æ•´ä¸ªrecuræ–¹æ³•å†…å®¹çš„æ–¹å¼å€¼å¾—å€Ÿé‰´ï¼›æˆ‘è‡ªå·±å†™çš„æ–¹æ³•ï¼Œåšäº†ä¸¤å¤„å¢åˆ èŠ‚ç‚¹æ“ä½œï¼Œä¸é‚£ä¹ˆä¼˜é›…äº†ã€‚



### [å‰‘æŒ‡ Offer 36. äºŒå‰æœç´¢æ ‘ä¸åŒå‘é“¾è¡¨](https://leetcode-cn.com/problems/er-cha-sou-suo-shu-yu-shuang-xiang-lian-biao-lcof/)

#### é¦–æˆ˜å¯„

åªæœ‰å¤§æ¦‚æ€è·¯ï¼Œä½†æ˜¯æ²¡æœ‰è·‘é€šï¼š

```java
/*
// Definition for a Node.
class Node {
    public int val;
    public Node left;
    public Node right;

    public Node() {}

    public Node(int _val) {
        val = _val;
    }

    public Node(int _val,Node _left,Node _right) {
        val = _val;
        left = _left;
        right = _right;
    }
};
*/
class Solution {
    int min=Integer.MAX_VALUE;
    public Node treeToDoublyList(Node root) {
        /**
        ä¸­åºéå†ï¼Œå¯ä»¥å®ç°èŠ‚ç‚¹ä»å°åˆ°å¤§é˜…è¯»
        äºŒå‰æœç´¢æ ‘ï¼šå·¦å­æ ‘å°äºæœ¬èŠ‚ç‚¹ï¼Œå³å­æ ‘å¤§äºæœ¬èŠ‚ç‚¹
        é€’å½’è¿”å›çš„æ—¶å€™ï¼Œæ­£æ˜¯äºŒå‰æœç´¢æ ‘çš„æŒ‡é’ˆèƒ½é€†å‘çš„æ—¶æœºï¼ˆè¿”å›æœ¬èŠ‚ç‚¹ï¼Œåˆ°ä¸Šä¸€å±‚é€’å½’è®©è¢«è¿”å›çš„èŠ‚ç‚¹æŒ‡å‘ä¸Šä¸€å±‚é€’å½’çš„èŠ‚ç‚¹ï¼‰
        é¦–å°¾èŠ‚ç‚¹è¦å•ç‹¬è®°å½•æ‰èƒ½è¿ä¸Šï¼Œä½†æ˜¯è¿™é‡Œè¦æ±‚ä¸èƒ½æ–°å»ºèŠ‚ç‚¹ï¼Œå°±æœ‰ç‚¹éš¾æã€‚ï¼ˆå› ä¸ºåŒå‘åˆ—è¡¨æ˜¯æœ‰åºçš„ï¼Œæ‰¾åˆ°æœ€å°çš„èŠ‚ç‚¹å°±èƒ½æ‰¾åˆ°æœ€å¤§çš„èŠ‚ç‚¹ï¼Œå°±èƒ½é€šè¿‡å³æŒ‡é’ˆæ‰¾åˆ°æœ€å¤§çš„èŠ‚ç‚¹ï¼Œä¸­é—´è®°å½•ç»è¿‡èŠ‚ç‚¹æ•°ï¼Œwhile(èŠ‚ç‚¹æ•°)æ¥è¿ä¸Šæ”¶å°¾èŠ‚ç‚¹ï¼Œè¿™é‡Œåªæ˜¯è·å¾—æ”¶å°¾èŠ‚ç‚¹çš„å¼•ç”¨ï¼Œæ‰€ä»¥æ²¡æ–°å»ºèŠ‚ç‚¹ï¼‰
         */
        //è¿”å›çš„æ˜¯é“¾è¡¨ä¸­æœ€å¤§çš„èŠ‚ç‚¹,ä¸€ç›´æŸ¥æ‰¾å·¦æŒ‡é’ˆå³å¯æ‹¿åˆ°æœ€å°èŠ‚ç‚¹ï¼Œæœ€å°èŠ‚ç‚¹çš„å·¦æŒ‡é’ˆä¸ºnullï¼Œå³æŒ‡é’ˆæŒ‡å‘å€’æ•°ç¬¬2å°çš„èŠ‚ç‚¹
        Node max=recur(root);
        Node min=null,maxStored=max;//minæ˜¾å¼è®¾ç½®ä¸ºnullï¼Œé˜²æ­¢ç¼–è¯‘ä¸é€šè¿‡ï¼Œè¯´â€œminçš„å€¼æ— â€
        while(max!=null){
            System.out.println(max.val);
            if(max.left==null){//æ‰¾åˆ°å½“å‰èŠ‚ç‚¹ä¸ºæœ€å°èŠ‚ç‚¹
                min=max;
            }
            max=max.left;
        }
        //æŠŠminçš„å·¦æŒ‡é’ˆç»ƒåˆ°maxStoredï¼ŒæŠŠmaxStoredçš„å³æŒ‡é’ˆè¿åˆ°min
        min.left=maxStored;
        maxStored.right=min;

        //è¿”å›é“¾è¡¨ç¬¬ä¸€ä¸ªèŠ‚ç‚¹
        return min;
        
    }
    public Node recur(Node root){
        //é€’å½’æœ€é‡è¦çš„ï¼šè®¾ç½®è¿”å›æ¡ä»¶
        //è®¾ç½®å¶å­èŠ‚ç‚¹è¿”å›
        if(root.left==null&&root.right==null)return root;
        //ä¸­åºéå†ï¼Œå…ˆéå†å·¦èŠ‚ç‚¹ï¼Œæ‹¿åˆ°å·¦èŠ‚ç‚¹
        Node left=recur(root.left);
        //è®©å·¦å­èŠ‚ç‚¹å³æŒ‡é’ˆæŒ‡å‘è‡ªå·±(å³æŒ‡é’ˆæ¯”è‡ªå·±å¤§)
        left.right=root;
        if(root.right!=null){
            root.right.left=root;
        }
        
        //å¾—åˆ°çš„å³å­èŠ‚ç‚¹ï¼Œè¿”å›ç»™å½“å‰èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹ï¼Œå› ä¸ºå³å­èŠ‚ç‚¹åœ¨å½“å‰èŠ‚ç‚¹å’Œå½“å‰èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹ä¹‹é—´
        return recur(root.right);
    }
}
```

- è™½ç„¶æ²¡æœ‰åšå‡ºæ¥ï¼Œä½†æ˜¯æˆ‘æŠ“ä½äº†ï¼š
  - äºŒå‰æœç´¢æ ‘çš„ä¸­åºéå†ä¸º **é€’å¢åºåˆ—** ã€‚
  - æ€è·¯å’Œé¢˜è§£ä¸€è‡´

#### å®˜æ–¹-ä¸­åºéå†

è§£é¢˜æ€è·¯ï¼š

- æœ¬æ–‡è§£æ³•åŸºäºæ€§è´¨ï¼šäºŒå‰æœç´¢æ ‘çš„ä¸­åºéå†ä¸º é€’å¢åºåˆ— ã€‚
- å°† äºŒå‰æœç´¢æ ‘ è½¬æ¢æˆä¸€ä¸ª â€œæ’åºçš„å¾ªç¯åŒå‘é“¾è¡¨â€ ï¼Œå…¶ä¸­åŒ…å«ä¸‰ä¸ªè¦ç´ ï¼š
  - æ’åºé“¾è¡¨ï¼š èŠ‚ç‚¹åº”ä»å°åˆ°å¤§æ’åºï¼Œå› æ­¤åº”ä½¿ç”¨ ä¸­åºéå† â€œä»å°åˆ°å¤§â€è®¿é—®æ ‘çš„èŠ‚ç‚¹ã€‚
  - åŒå‘é“¾è¡¨ï¼š åœ¨æ„å»ºç›¸é‚»èŠ‚ç‚¹çš„å¼•ç”¨å…³ç³»æ—¶ï¼Œè®¾å‰é©±èŠ‚ç‚¹ pre å’Œå½“å‰èŠ‚ç‚¹ cur ï¼Œä¸ä»…åº”æ„å»º pre.right = cur ï¼Œä¹Ÿåº”æ„å»º cur.left = pre ã€‚
  - å¾ªç¯é“¾è¡¨ï¼š è®¾é“¾è¡¨å¤´èŠ‚ç‚¹ head å’Œå°¾èŠ‚ç‚¹ tail ï¼Œåˆ™åº”æ„å»º head.left = tail å’Œ tail.right = head ã€‚

![image-20220406173635111](lcof.assets/image-20220406173635111.png)

**ä¸­åºéå†** ä¸ºå¯¹äºŒå‰æ ‘ä½œ â€œå·¦ã€æ ¹ã€å³â€ é¡ºåºéå†ï¼Œé€’å½’å®ç°å¦‚ä¸‹ï¼š

```java
// æ‰“å°ä¸­åºéå†
void dfs(Node root) {
    if(root == null) return;
    dfs(root.left); // å·¦
    System.out.println(root.val); // æ ¹
    dfs(root.right); // å³
}
```

æ ¹æ®ä»¥ä¸Šåˆ†æï¼Œè€ƒè™‘ä½¿ç”¨ä¸­åºéå†è®¿é—®æ ‘çš„å„èŠ‚ç‚¹ cur ï¼›å¹¶åœ¨è®¿é—®æ¯ä¸ªèŠ‚ç‚¹æ—¶æ„å»º cur å’Œå‰é©±èŠ‚ç‚¹ pre çš„å¼•ç”¨æŒ‡å‘ï¼›ä¸­åºéå†å®Œæˆåï¼Œæœ€åæ„å»ºå¤´èŠ‚ç‚¹å’Œå°¾èŠ‚ç‚¹çš„å¼•ç”¨æŒ‡å‘å³å¯ã€‚

ç®—æ³•æµç¨‹ï¼š

- dfs(cur): é€’å½’æ³•ä¸­åºéå†ï¼›

  1. ç»ˆæ­¢æ¡ä»¶ï¼š å½“èŠ‚ç‚¹ cur ä¸ºç©ºï¼Œä»£è¡¨è¶Šè¿‡å¶èŠ‚ç‚¹ï¼Œç›´æ¥è¿”å›ï¼›

  2. é€’å½’å·¦å­æ ‘ï¼Œå³ dfs(cur.left) ï¼›
  3. æ„å»ºé“¾è¡¨ï¼š
     1. å½“ pre ä¸ºç©ºæ—¶ï¼š ä»£è¡¨æ­£åœ¨è®¿é—®é“¾è¡¨å¤´èŠ‚ç‚¹ï¼Œè®°ä¸º head ï¼›
     2. å½“ pre ä¸ä¸ºç©ºæ—¶ï¼š ä¿®æ”¹åŒå‘èŠ‚ç‚¹å¼•ç”¨ï¼Œå³ pre.right = cur ï¼Œ cur.left = pre ï¼›
     3. ä¿å­˜ cur ï¼š æ›´æ–° pre = cur ï¼Œå³èŠ‚ç‚¹ cur æ˜¯åç»§èŠ‚ç‚¹çš„ pre ï¼›
  4. é€’å½’å³å­æ ‘ï¼Œå³ dfs(cur.right) ï¼›

- treeToDoublyList(root)ï¼š
  1. ç‰¹ä¾‹å¤„ç†ï¼š è‹¥èŠ‚ç‚¹ root ä¸ºç©ºï¼Œåˆ™ç›´æ¥è¿”å›ï¼›
  2. åˆå§‹åŒ–ï¼š ç©ºèŠ‚ç‚¹ pre ï¼›
  3. è½¬åŒ–ä¸ºåŒå‘é“¾è¡¨ï¼š è°ƒç”¨ dfs(root) ï¼›
  4. æ„å»ºå¾ªç¯é“¾è¡¨ï¼š ä¸­åºéå†å®Œæˆåï¼Œhead æŒ‡å‘å¤´èŠ‚ç‚¹ï¼Œ pre æŒ‡å‘å°¾èŠ‚ç‚¹ï¼Œå› æ­¤ä¿®æ”¹ head å’Œ pre çš„åŒå‘èŠ‚ç‚¹å¼•ç”¨å³å¯ï¼›
  5. è¿”å›å€¼ï¼š è¿”å›é“¾è¡¨çš„å¤´èŠ‚ç‚¹ head å³å¯ï¼›

å¤æ‚åº¦åˆ†æï¼š

- æ—¶é—´å¤æ‚åº¦ O(N)ï¼š Nä¸ºäºŒå‰æ ‘çš„èŠ‚ç‚¹æ•°ï¼Œä¸­åºéå†éœ€è¦è®¿é—®æ‰€æœ‰èŠ‚ç‚¹ã€‚
- ç©ºé—´å¤æ‚åº¦ O(N)ï¼š æœ€å·®æƒ…å†µä¸‹ï¼Œå³æ ‘é€€åŒ–ä¸ºé“¾è¡¨æ—¶ï¼Œé€’å½’æ·±åº¦è¾¾åˆ° Nï¼Œç³»ç»Ÿä½¿ç”¨ O(N)æ ˆç©ºé—´ã€‚

ä»£ç ï¼š

```java
class Solution {
    Node head, pre;
    public Node treeToDoublyList(Node root) {
        if(root==null) return null;
        dfs(root);

        pre.right = head;
        head.left =pre;//è¿›è¡Œå¤´èŠ‚ç‚¹å’Œå°¾èŠ‚ç‚¹çš„ç›¸äº’æŒ‡å‘ï¼Œè¿™ä¸¤å¥çš„é¡ºåºä¹Ÿæ˜¯å¯ä»¥é¢ å€’çš„

        return head;

    }

    public void dfs(Node cur){
        if(cur==null) return;
        dfs(cur.left);

        //preç”¨äºè®°å½•åŒå‘é“¾è¡¨ä¸­ä½äºcurå·¦ä¾§çš„èŠ‚ç‚¹ï¼Œå³ä¸Šä¸€æ¬¡è¿­ä»£ä¸­çš„cur,å½“pre==nullæ—¶ï¼Œcurå·¦ä¾§æ²¡æœ‰èŠ‚ç‚¹,å³æ­¤æ—¶curä¸ºåŒå‘é“¾è¡¨ä¸­çš„å¤´èŠ‚ç‚¹
        if(pre==null) head = cur;
        //åä¹‹ï¼Œpre!=nullæ—¶ï¼Œcurå·¦ä¾§å­˜åœ¨èŠ‚ç‚¹preï¼Œéœ€è¦è¿›è¡Œpre.right=curçš„æ“ä½œã€‚
        else pre.right = cur;
       
        cur.left = pre;//preæ˜¯å¦ä¸ºnullå¯¹è¿™å¥æ²¡æœ‰å½±å“,ä¸”è¿™å¥æ”¾åœ¨ä¸Šé¢ä¸¤å¥if elseä¹‹å‰ä¹Ÿæ˜¯å¯ä»¥çš„ã€‚

        pre = cur;//preæŒ‡å‘å½“å‰çš„cur
        dfs(cur.right);//å…¨éƒ¨è¿­ä»£å®Œæˆåï¼ŒpreæŒ‡å‘åŒå‘é“¾è¡¨ä¸­çš„å°¾èŠ‚ç‚¹
    }
}
```

#### å³æ—¶å†æˆ˜æˆåŠŸ

```java
/*
// Definition for a Node.
class Node {
    public int val;
    public Node left;
    public Node right;

    public Node() {}

    public Node(int _val) {
        val = _val;
    }

    public Node(int _val,Node _left,Node _right) {
        val = _val;
        left = _left;
        right = _right;
    }
};
*/
class Solution {
    Node prev=null,min=null;
    public Node treeToDoublyList(Node root) {
        /**
        äºŒå‰æœç´¢æ ‘ï¼Œä¸­åºéå†å¾—åˆ°é€’å¢çš„æ•°
        é€šè¿‡å…¨å±€æŒ‡é’ˆï¼Œå¤„ç†preå’Œcurçš„å…³ç³»ï¼›ç”±äºæœç´¢äºŒå‰æ ‘çš„åŸºç¡€ï¼Œå³æŒ‡é’ˆæŒ‡å‘æ¯”è‡ªå·±å¤§çš„ï¼Œå·¦æŒ‡é’ˆæŒ‡å‘æ¯”è‡ªå·±å°çš„
         */
        //å¤„ç†æ¶å¿ƒäººçš„ç‰¹æ®Šæƒ…å†µ[],ä¼ å…¥ç©ºèŠ‚ç‚¹æ—¶ï¼Œä¸åšä¸‹é¢çš„å¤„ç†çš„è¯ï¼Œprevä¸ä¼šè¢«èµ‹å€¼ï¼Œä¼šå¯¼è‡´prev.rihtæŠ¥ç©ºæŒ‡é’ˆå¼‚å¸¸
        if(root==null){
            return null;
        }
        //dfs-ä¸­åºéå† è¿”å›çš„åï¼Œprevä¸ºé“¾è¡¨ä¸­æœ€å¤§çš„å€¼
        dfs(root);
        //æŠŠåŒå‘é“¾è¡¨çš„å¤´å°¾è¿æ¥
        prev.right=min;
        min.left=prev;

        //minæŒ‡å‘é“¾è¡¨æœ€å°å€¼ï¼Œè¿”å›minå³ä¸ºå¤´
        return min;
    }
    
    public void dfs(Node cur){
        //è®¾ç½®è¿”å›æ¡ä»¶ï¼šèŠ‚ç‚¹è¶…è¿‡å¶å­èŠ‚ç‚¹æ—¶
        if(cur==null){
            return;
        }
        //ä¸­åºéå†ï¼šå…ˆè®¿é—®å·¦å­èŠ‚ç‚¹
        dfs(cur.left);
        //ä¸­åºéå†ï¼šå†è®¿é—®æœ¬èŠ‚ç‚¹ï¼Œå¤„ç†æœ¬èŠ‚ç‚¹ç›¸å…³äº‹å®œ
        //prevå³ä¸ºå€¼æ¯”å½“å‰èŠ‚ç‚¹æ›´å°çš„èŠ‚ç‚¹ï¼šå¯èƒ½æ˜¯å½“å‰èŠ‚ç‚¹çš„å·¦å­èŠ‚ç‚¹ï¼ˆå¦‚2çš„1ï¼‰ï¼Œä¹Ÿå¯èƒ½æ˜¯å½“å‰èŠ‚ç‚¹çš„å·¦å­èŠ‚ç‚¹çš„å³å­èŠ‚ç‚¹ï¼ˆå¦‚4çš„3ï¼‰
        if(prev==null){//prevä¸ºç©ºè¡¨ç¤ºæ²¡æœ‰æ›´å°çš„æ•°ï¼Œä¹Ÿå³å½“å‰èŠ‚ç‚¹ä¸ºæœ€å°çš„æ•°,è®°å½•ä¿å­˜ä¸‹æ¥
            min=cur;
        }else{//å¦‚æœå½“å‰èŠ‚ç‚¹ä¸æ˜¯æœ€å°çš„èŠ‚ç‚¹ï¼Œé‚£ä¹ˆå°±å¤„ç†å®ƒå’Œä¹‹å‰èŠ‚ç‚¹çš„å…³ç³»:æ¯æ¬¡éƒ½æ˜¯å¤„ç†å½“å‰èŠ‚ç‚¹å’Œä¹‹å‰æ›´å°èŠ‚ç‚¹ä¹‹é—´çš„å…³ç³»ï¼Œå¤Ÿæˆé“¾
            prev.right=cur;
            cur.left=prev;
        }
        //è¦ç¦»å¼€æœ¬èŠ‚ç‚¹äº†ï¼Œæ›´æ–°prevèŠ‚ç‚¹ä¸ºå½“å‰èŠ‚ç‚¹
        prev=cur;
        //ä¸­åºéå†ï¼šæœ€åé€’å½’éå†å³å­æ ‘
        dfs(cur.right);

    }
}
```

- æˆ‘å’Œå®˜æ–¹æœ‰ä¸€ä¸ªç‚¹ä¸ä¸€æ ·ï¼Œå°±æ˜¯`cur.left=prev;`:
  - æˆ‘æŠŠcur.leftæ”¾åˆ°elseé‡Œï¼Œæ˜¯åªæœ‰éé“¾è¡¨é¦–èŠ‚ç‚¹æ‰éœ€è¦å¤„ç†cur.left
  - å®˜æ–¹æŠŠcur.leftæ”¾åˆ°ifelseå¤–ï¼Œç›¸å½“äºåœ¨ifé‡Œå’Œelseé‡Œéƒ½æ”¾ç½®äº†cur.leftï¼›ä½†æ˜¯ifæ—¶å½“å‰èŠ‚ç‚¹ä¸ºé“¾è¡¨é¦–èŠ‚ç‚¹ï¼Œä¸”æ­¤æ—¶æ— æ³•çŸ¥é“é“¾è¡¨å°¾èŠ‚ç‚¹ï¼Œæ‰€ä»¥å…¶å®ä¸éœ€è¦åœ¨ifä¸­æ”¾`cur.left=prev;`ï¼Œè¿™å¥è¯åœ¨ifä¹Ÿå°±ç›¸å½“äºæ˜¯æŠŠé“¾è¡¨é¦–èŠ‚ç‚¹æœ¬æ¥å°±æ˜¯nullçš„å·¦å­æŒ‡é’ˆåˆèµ‹å€¼ä¸ºnullï¼›è¿™ä¹ˆçœ‹ï¼Œæˆ‘çš„â€å³æ—¶å†æˆ˜â€œç‰ˆçš„ä»£ç æ›´åˆç†ï¼Œæ²¡åšæ— æ„ä¹‰æ“ä½œã€‚



### [å‰‘æŒ‡ Offer 54. äºŒå‰æœç´¢æ ‘çš„ç¬¬kå¤§èŠ‚ç‚¹](https://leetcode-cn.com/problems/er-cha-sou-suo-shu-de-di-kda-jie-dian-lcof/)

#### é¦–æˆ˜å‘Šæ·

```java
/**
 * Definition for a binary tree node.
 * public class TreeNode {
 *     int val;
 *     TreeNode left;
 *     TreeNode right;
 *     TreeNode(int x) { val = x; }
 * }
 */
class Solution {
    List<Integer> vals=new ArrayList<>();
    public int kthLargest(TreeNode root, int k) {
        /**
        ç†æƒ³ï¼šäºŒå‰æœç´¢æ ‘ä¸­åºéå†å¾—åˆ°çš„æ˜¯é€’å¢çš„æ•°;åˆ©ç”¨é€€æ ˆè®°å½•å€’æ•°ç¬¬kä¸ªæ•°ï¼Œä½†æ˜¯ä¸­åºé€€æ ˆçš„è¯å°±ä¸ä¼šå›æœ¬èŠ‚ç‚¹äº†ï¼›å…¨å±€å˜é‡è®°å½•ç›®æ ‡å€¼å³å¯ã€‚
        ç°å®ï¼šArrayListå¡«å…¥ç»“æœï¼Œå†å–å‡ºã€‚ä¸å»ºè®®ä½¿ç”¨dequeå­˜å‚¨å€¼ï¼Œå†å€’åºéå†(æŠŠdequeå½“æ ˆç”¨)ï¼Œå› ä¸ºä¸éœ€è¦éå†ï¼Œç›´æ¥æ ¹æ®ä¸‹æ ‡æ‹¿å³å¯ï¼Œè€Œä¸”linkedlistæŸ¥æ‰¾å…ƒç´ æ•ˆç‡ä½ã€‚
        dequeç”¨offerlastæˆ–offerfirstï¼Œarraylistå°±ç”¨addå³åŠ åˆ°é“¾è¡¨å°¾ã€‚
         */

        //å¤„ç†ç‰¹æ®Šæƒ…å†µ(æœ¬ä¾‹åº”è¯¥ä¸ä¼šæœ‰è¿™ä¸ªæƒ…å†µ)
        if(root==null)return -1;

        //åˆ©ç”¨dfsè·å¾—é€’å¢é“¾è¡¨
        dfs(root);
        //ä»é€’å¢é“¾è¡¨ä¸­æ‹¿åˆ°ç»“æœ

         return vals.get(vals.size()-k);

    }
    public void dfs(TreeNode root){
        //è®¾å®šdfsè¿”å›æ¡ä»¶
        if(root==null)return;
        
        //ä¸­åºéå†ï¼šå·¦
        dfs(root.left);
        
        //ä¸­åºéå†ï¼šæœ¬èŠ‚ç‚¹
        //å­˜å€¼
        vals.add(root.val);
        
        //ä¸­åºéå†ï¼šå³
        dfs(root.right);

    }
}
```

- æ€§èƒ½æ¯”è¾ƒå·®ï¼Œæ—¶é—´ç©ºé—´å¤æ‚åº¦éƒ½æ˜¯å30%

- æˆ‘ä¹‹å‰æƒ³ï¼šäºŒå‰æœç´¢æ ‘ä¸­åºéå†å¾—åˆ°çš„æ˜¯é€’å¢çš„æ•°ï¼Œå…¨å±€å˜é‡è®°å½•ä¸€ä¸‹å½“å‰éå†äº†å‡ ä¸ªèŠ‚ç‚¹å³å¯ï¼›ä½†æ˜¯æœ¬é¢˜è¦ç¬¬kå¤§çš„æ•°ï¼Œå³å‡åºé“¾è¡¨å€’æ•°ç¬¬kä¸ªæ•°ï¼Œä½†æ˜¯ä¸­åºéå†åº”è¯¥åˆä¸èƒ½åœ¨é€€æ ˆçš„æ—¶å€™å¤„ç†èŠ‚ç‚¹ï¼ˆä¸­åºéå†å¤„ç†èŠ‚ç‚¹çš„æ“ä½œï¼Œåœ¨å¯¹å·¦å³å­æ ‘dfsä¹‹é—´ï¼‰ï¼›æ‰€ä»¥åªèƒ½ç”¨æœ¬ä¾‹è¿™ä¸ªç¬¨æ–¹æ³•ã€‚
- çœ‹äº†â€œå¤§ä½¬è§£æ³•â€ï¼Œçœ‹æ¥æˆ‘å’Œæœ€ä¼˜è§£å¾ˆæ¥è¿‘äº†ï¼Œæ”¹æˆå…ˆå³å†å·¦çš„ä¸­åºï¼Œå°±å¯ä»¥å¾—åˆ°é€’å‡çš„éå†ï¼

#### å¤§ä½¬-ä¸­åºdfs+é€’å‡

ä½œä¸ºä¸€ä¸ªæ™®é€šäººï¼Œæˆ‘æ¥åˆ†æä¸‹è¿™é¢˜ã€‚

1. å‡è®¾ï¼Œä½ èŠ±äº†ç‚¹æ—¶é—´ï¼Œç»ƒä¹ äº†äºŒå‰æ ‘çš„ä¸‰ç§éå†æ–¹å¼ï¼š a. å‰åºéå† b. ä¸­åºéå† c. åç»­éå†
2. ä½ ä¹Ÿå­¦ä¹ äº†äºŒå‰æœç´¢æ ‘ï¼Œæ·±å…¥ç ”ç©¶äº†äºŒå‰æ ‘æœç´¢æ ‘çš„ç‰¹æ€§ï¼Œå¹¶ä¸”æ·±åˆ»çŸ¥é“äºŒå‰æœç´¢æ ‘çš„ä¸€ä¸ªç‰¹æ€§ï¼šé€šè¿‡ä¸­åºéå†æ‰€å¾—åˆ°çš„åºåˆ—ï¼Œå°±æ˜¯æœ‰åºçš„ã€‚

å¥½ï¼Œæœ‰äº†ä»¥ä¸Šä¸¤ç‚¹çŸ¥è¯†ï¼Œæˆ‘è®¤ä¸ºä½ å¿…é¡»èƒ½æƒ³åˆ°ï¼ˆå¦‚æœæƒ³ä¸åˆ°ï¼Œä»¥ä¸Šä¸¤ç‚¹çŸ¥è¯†è‚¯å®šæ²¡æœ‰å­¦æ‰å®ï¼‰ï¼šä¸­åºéå†äºŒå‰æœç´¢æ ‘ï¼Œéå†çš„åŒæ—¶ï¼ŒæŠŠéå†åˆ°çš„èŠ‚ç‚¹å­˜åˆ°ä¸€ä¸ªå¯å˜æ•°ç»„é‡Œï¼ˆJavaçš„è¯ï¼Œå¯ä»¥ç”¨ArrayList)ã€‚ æ€è·¯è½¬åŒ–ä¸ºä»£ç ï¼Œå¦‚ä¸‹ï¼š

```java
/**
 * Definition for a binary tree node.
 * public class TreeNode {
 *     int val;
 *     TreeNode left;
 *     TreeNode right;
 *     TreeNode(int x) { val = x; }
 * }
 */
class Solution {
    public int kthLargest(TreeNode root, int k) {
        // clarification:  root == null?   k <= 1?
        List<Integer> list = new ArrayList<>();
        helper(root, list);
        return list.get(list.size() - k);
    }
    
    private void helper(TreeNode root, List<Integer> list) {
        if (root == null) return;
        if (root.left != null) helper(root.left, list);
        list.add(root.val);
        if (root.right != null) helper(root.right, list);
    }
}
```

åˆ°è¿™é‡Œï¼Œè¿™é¢˜ï¼Œæˆ‘è§‰å¾—å·²ç»ç¦»æœ€ä¼˜è§£å¾ˆè¿‘äº†ã€‚ä½œä¸ºä¸€ä¸ªå­¦ä¹ äº†ç®—æ³•çš„äººï¼Œä½ ä¸€å®šä¼šæƒ³ï¼šä¸Šé¢çš„ç®—æ³•ç©ºé—´å¤æ‚åº¦æ˜¯O(n)ï¼Œå¯ä¸å¯ä»¥ä¼˜åŒ–ï¼Ÿ

æ·±å…¥å†æ€è€ƒä¸‹ï¼Œå…¶å®ï¼Œå½“éå†åˆ°äº†ç¬¬Kå¤§æ•°çš„æ—¶å€™ï¼Œå°±å¯ä»¥åœæ­¢éå†äº†ï¼ŒåŒæ—¶ï¼ŒæŠŠéå†åˆ°èŠ‚ç‚¹å¯¹åº”çš„æ•°ä¿å­˜ä¸‹æ¥å³å¯ã€‚

æƒ³åˆ°è¿™é‡Œï¼Œä¸€å®šèƒ½å†™å‡ºä¸‹é¢çš„ä»£ç ï¼š

```java
/**
 * Definition for a binary tree node.
 * public class TreeNode {
 *     int val;
 *     TreeNode left;
 *     TreeNode right;
 *     TreeNode(int x) { val = x; }
 * }
 */
class Solution {
    private int ans = 0, count = 0;
    public int kthLargest(TreeNode root, int k) {
        // clarification:  root == null?   k <= 1?
        helper(root, k);
        return ans;
    }
    
    private void helper(TreeNode root, int k) {
        if (root.right != null) helper(root.right, k);
        
        if (++count == k) {
            ans = root.val;
            return;
        }
        
        if (root.left != null) helper(root.left, k);
    }
}
```

ç¬¬äºŒç§æ–¹æ³•è¿”å›äº†++count == kçš„æƒ…å†µï¼Œä½†å®é™…ä¸Šå¹¶æ²¡æœ‰ `åœæ­¢` éå†ï¼›å¯ä»¥ç”¨é¢˜ç›®ä¸­çš„ç¬¬äºŒä¸ªæµ‹è¯•ç”¨ä¾‹è¾“å‡ºä¸€ä¸‹countï¼Œå‘ç°countè¿˜åœ¨å¢åŠ çš„ï¼›è¿™æ˜¯å› ä¸ºå¾—åˆ°ç»“æœåï¼Œ++countå‘ç°ä¸ç¬¦åˆåï¼Œä¼šè¿›å…¥leftçš„éå†ï¼Œæˆ‘ä»¬åº”è¯¥è®©å¾—åˆ°ç»“æœåä¸å†è¿›å…¥lefté€’å½’ï¼Œæ”¹è‰¯ä»£ç å¦‚ä¸‹ï¼š

```java
class Solution {
    int n = 0;
    int res = 0;
    public int kthLargest(TreeNode root, int k) {
        n = k;
        helper(root);
        return res;
    }
    public void helper(TreeNode root){
        if(root.right != null && n>0 )  helper(root.right);
        n--;
        if(n==0){
            res = root.val;
            return;
        }
        if(root.left != null && n>0 )  helper(root.left);
    }
}
```

- n>0ä¼šé˜»æ­¢å¾—åˆ°ç›®æ ‡ç»“æœåçš„éå†ã€‚
- æˆ‘ï¼šä»–çš„å¯¹èŠ‚ç‚¹ä¸ºnullçš„åˆ¤æ–­å¯ä»¥åƒæˆ‘ä¸€æ ·ï¼Œè¿›å…¥èŠ‚ç‚¹åå†åˆ¤æ–­ï¼Œè¿™æ ·ifåˆ¤æ–­çš„å†…å®¹å°±ä¼šå°‘äº›ï¼Œæ›´æ¸…æ™°ã€‚

è¿™é¢˜åˆ°è¿™å°±æ¯”è¾ƒå®Œç¾äº†ã€‚

#### å®˜æ–¹-ä¸­åºéå†+æå‰è¿”å›

è§£é¢˜æ€è·¯ï¼š

æœ¬æ–‡è§£æ³•åŸºäºæ­¤æ€§è´¨ï¼šäºŒå‰æœç´¢æ ‘çš„ä¸­åºéå†ä¸º é€’å¢åºåˆ— ã€‚

- æ ¹æ®ä»¥ä¸Šæ€§è´¨ï¼Œæ˜“å¾—äºŒå‰æœç´¢æ ‘çš„ ä¸­åºéå†å€’åº ä¸º é€’å‡åºåˆ— ã€‚
- å› æ­¤ï¼Œæ±‚ â€œäºŒå‰æœç´¢æ ‘ç¬¬ kå¤§çš„èŠ‚ç‚¹â€ å¯è½¬åŒ–ä¸ºæ±‚ â€œæ­¤æ ‘çš„ä¸­åºéå†å€’åºçš„ç¬¬ kä¸ªèŠ‚ç‚¹â€ã€‚

![Picture1.png](lcof.assets/4ebcaefd4ecec0d76bfab98474dfed323fb86bfcd685d1a5bf610200fdca4405-Picture1.png)

ä¸­åºéå† ä¸º â€œå·¦ã€æ ¹ã€å³â€ é¡ºåºï¼Œé€’å½’æ³•ä»£ç å¦‚ä¸‹ï¼š

```java
// æ‰“å°ä¸­åºéå†
void dfs(TreeNode root) {
    if(root == null) return;
    dfs(root.left); // å·¦
    System.out.println(root.val); // æ ¹
    dfs(root.right); // å³
}
```

ä¸­åºéå†çš„å€’åº ä¸º â€œå³ã€æ ¹ã€å·¦â€ é¡ºåºï¼Œé€’å½’æ³•ä»£ç å¦‚ä¸‹ï¼š

```java
// æ‰“å°ä¸­åºéå†å€’åº
void dfs(TreeNode root) {
    if(root == null) return;
    dfs(root.right); // å³
    System.out.println(root.val); // æ ¹
    dfs(root.left); // å·¦
}
```

ä¸ºæ±‚ç¬¬ k ä¸ªèŠ‚ç‚¹ï¼Œéœ€è¦å®ç°ä»¥ä¸‹ ä¸‰é¡¹å·¥ä½œ ï¼š

1. é€’å½’éå†æ—¶è®¡æ•°ï¼Œç»Ÿè®¡å½“å‰èŠ‚ç‚¹çš„åºå·ï¼›
2. é€’å½’åˆ°ç¬¬ kkä¸ªèŠ‚ç‚¹æ—¶ï¼Œåº”è®°å½•ç»“æœ resres ï¼›
3. è®°å½•ç»“æœåï¼Œåç»­çš„éå†å³å¤±å»æ„ä¹‰ï¼Œåº”æå‰ç»ˆæ­¢ï¼ˆå³è¿”å›ï¼‰ã€‚

é€’å½’è§£æï¼š

![image-20220407152836167](lcof.assets/image-20220407152836167.png)

å¤æ‚åº¦åˆ†æï¼š

![image-20220407152901363](lcof.assets/image-20220407152901363.png)

ä»£ç ï¼š

![image-20220407153000649](lcof.assets/image-20220407153000649.png)

```java
class Solution {
    int res, k;
    public int kthLargest(TreeNode root, int k) {
        this.k = k;
        dfs(root);
        return res;
    }
    void dfs(TreeNode root) {
        if(root == null) return;
        dfs(root.right);
        if(k == 0) return;
        if(--k == 0) res = root.val;
        dfs(root.left);
    }
}
```

- æˆ‘ï¼šå®˜æ–¹ä»£ç å°±ç”¨äº†`if(k == 0) return;`åšäº†æå‰è¿”å›ï¼Œæ¯”â€œå¤§ä½¬è§£æ³•â€çš„ä»£ç æ›´ç®€æ´æ˜“è¯»ï¼›ä¸è¿‡â€œå¤§ä½¬è§£æ³•â€çš„ä¼˜åŒ–æ€è·¯è¿˜æ˜¯å¾ˆå€¼å¾—å€Ÿé‰´çš„ã€‚

## æ’åº(ç®€å•)

### [å‰‘æŒ‡ Offer 45. æŠŠæ•°ç»„æ’æˆæœ€å°çš„æ•°](https://leetcode-cn.com/problems/ba-shu-zu-pai-cheng-zui-xiao-de-shu-lcof/)

#### é¦–æˆ˜å¯„

åº”è¯¥æ˜¯æŒ‰ç…§æ•°å­—æœ€é«˜ä½å»é™åºæ’åºï¼Œæ²¡æ€è·¯

- ç½‘å‹è¯„ï¼šè¿™é“é¢˜ä¼¼ä¹å˜æˆäº†lambdaè®¨è®ºä¼šï¼Œå…¶å®æˆ‘è§‰å¾—a+b < b+a çœŸçš„å¥½éš¾æƒ³
- ç½‘å‹ï¼šæˆ‘åœ¨çº¸ä¸Šåå¤å†™ï¼Œæ‰¾è§„å¾‹ï¼Œè„‘å­éƒ½è¦ç‚¸äº†ï¼Œç„¶åçªç„¶å‘ç°ï¼Œå°±æ˜¯åœ¨æ¯”è¾ƒä¸¤ä¸ªå­—ç¬¦ä¸²ä¸åŒé¡ºåºç›¸åŠ çš„ç»“æœï¼Œç„¶åå°±è±ç„¶å¼€æœ—ã€‚
- ç½‘å‹ï¼šåä¸ºæœºè¯•+ç¬¬ä¸€è½®æŠ€æœ¯é¢çš„é¢˜ï¼Œæœ‰ç‚¹é«˜é¢‘ã€‚

#### å®˜æ–¹-è‡ªå®šä¹‰æ’åº

è§£é¢˜æ€è·¯ï¼š

![image-20220407155555720](lcof.assets/image-20220407155555720.png)

æ’åºè§„åˆ™çš„ä¼ é€’æ€§è¯æ˜ï¼š

- è¿™é‡Œæ˜¯è¯æ˜ï¼Œä¸ç„¶ä¸Šé¢çš„è§£é‡Šå¤ªç‰µå¼ºäº†ï¼Œæ­¤é¢˜è§£ä½œè€…ä¼°è®¡ä¹Ÿä¸çœŸæ­£æ˜ç™½ä¸ºä»€ä¹ˆå¯ä»¥è¿™æ ·åšï¼Œè¿™é“é¢˜ç›®å…¶å®å±äºå¾ˆéš¾çš„é¢˜ç›®ï¼Œä¸èƒ½è®©äººä¿¡æœä¸ºä»€ä¹ˆé‚£æ ·æ’åºä¸€ä¸‹å°±å¯ä»¥ï¼Œä¹Ÿä¸æ˜¯ç®€å•çš„ x +y > y +x åˆ™ x > y è­¬å¦‚ x=6, y=305 x+y(6305) > y+x(3056) ä½†æ˜¯çœŸå®æ•°å­—ä¸Šx < y

ä¸ºä»€ä¹ˆè¿™æ ·æ’ä¸ªåºå°±å¯ä»¥äº†å‘¢ï¼Ÿç®€å•è¯æ˜ä¸€ä¸‹ã€‚æ ¹æ®ç®—æ³•ï¼Œå¦‚æœa < bï¼Œé‚£ä¹ˆaæ’åœ¨bå‰é¢ï¼Œå¦åˆ™bæ’åœ¨aå‰é¢ã€‚å¯åˆ©ç”¨åè¯æ³•ï¼Œå‡è®¾æ’æˆçš„æœ€å°æ•°å­—ä¸ºxxxxxxï¼Œå¹¶ä¸”è‡³å°‘å­˜åœ¨ä¸€å¯¹å­—ç¬¦ä¸²æ»¡è¶³è¿™ä¸ªå…³ç³»ï¼ša > bï¼Œä½†æ˜¯åœ¨ç»„æˆçš„æ•°å­—ä¸­aæ’åœ¨bå‰é¢ã€‚æ ¹æ®aå’Œbå‡ºç°çš„ä½ç½®ï¼Œåˆ†ä¸‰ç§æƒ…å†µè€ƒè™‘ï¼š

```
  ï¼ˆ1ï¼‰xxxxabï¼Œç”¨baä»£æ›¿abå¯ä»¥å¾—åˆ°xxxxbaï¼Œè¿™ä¸ªæ•°å­—æ˜¯å°äºxxxxabï¼Œä¸å‡è®¾çŸ›ç›¾ã€‚å› æ­¤æ’æˆçš„æœ€å°æ•°å­—ä¸­ï¼Œä¸å­˜åœ¨ä¸Šè¿°å‡è®¾çš„å…³ç³»ã€‚

  ï¼ˆ2ï¼‰abxxxxï¼Œç”¨baä»£æ›¿abå¯ä»¥å¾—åˆ°baxxxxï¼Œè¿™ä¸ªæ•°å­—æ˜¯å°äºabxxxxï¼Œä¸å‡è®¾çŸ›ç›¾ã€‚å› æ­¤æ’æˆçš„æœ€å°æ•°å­—ä¸­ï¼Œä¸å­˜åœ¨ä¸Šè¿°å‡è®¾çš„å…³ç³»ã€‚

  ï¼ˆ3ï¼‰axxxxbï¼Œè¿™ä¸€æ­¥è¯æ˜éº»çƒ¦äº†ä¸€ç‚¹ã€‚å¯ä»¥å°†ä¸­é—´éƒ¨åˆ†çœ‹æˆä¸€ä¸ªæ•´ä½“aybï¼Œåˆ™æœ‰ay < yaï¼Œyb < byæˆç«‹ã€‚å°†ayå’Œbyè¡¨ç¤ºæˆ10è¿›åˆ¶æ•°å­—å½¢å¼ï¼Œåˆ™æœ‰ä¸‹è¿°å…³ç³»å¼ï¼Œè¿™é‡Œaï¼Œyï¼Œbçš„ä½æ•°åˆ†åˆ«ä¸ºnï¼Œmï¼Œkã€‚

    å…³ç³»1ï¼š ay < ya => a * 10^m + y < y * 10^n + a => a * 10^m - a < y * 10^n - y => a( 10^m - 1)/( 10^n - 1) < y

    å…³ç³»2ï¼š yb < by => y * 10^k + b < b * 10^m + y => y * 10^k - y < b * 10^m - b => y < b( 10^m -1)/( 10^k -1) 

    å…³ç³»3ï¼š a( 10^m - 1)/( 10^n - 1) < y < b( 10^m -1)/( 10^k -1)  => a/( 10^n - 1)< b/( 10^k -1) => a*10^k - a < b * 10^n - b =>a*10^k + b < b * 10^n + a => a < b

   è¿™ä¸å‡è®¾a > bçŸ›ç›¾ã€‚å› æ­¤æ’æˆçš„æœ€å°æ•°å­—ä¸­ï¼Œä¸å­˜åœ¨ä¸Šè¿°å‡è®¾çš„å…³ç³»ã€‚

   ç»¼ä¸Šæ‰€è¿°ï¼Œå¾—å‡ºå‡è®¾ä¸æˆç«‹ï¼Œä»è€Œå¾—å‡ºç»“è®ºï¼šå¯¹äºæ’æˆçš„æœ€å°æ•°å­—ï¼Œä¸å­˜åœ¨æ»¡è¶³ä¸‹è¿°å…³ç³»çš„ä¸€å¯¹å­—ç¬¦ä¸²ï¼ša > bï¼Œä½†æ˜¯åœ¨ç»„æˆçš„æ•°å­—ä¸­aå‡ºç°åœ¨bçš„å‰é¢ã€‚ä»è€Œå¾—
```

- æ ¹æ®æœ¬è¯æ˜ï¼Œåªè¦åˆ—è¡¨æ’åºåä¸ºxyzï¼Œä¸”ä¿è¯xy<yx,yz<zyï¼Œå°±å¯ä»¥ä¿è¯xyzæ˜¯ç”¨ã€x y zã€‘ä¸‰ä¸ªæ•´æ•°èƒ½å®ç°çš„æœ€å°çš„æ‹¼æ¥æ•°ï¼›æ‰€ä»¥æˆ‘ä»¬å°±è‡ªå®šä¹‰ComparatoræŠŠã€x y zã€‘æŒ‰ç…§â€œè‹¥xy<yxï¼Œåˆ™xå¿…é¡»æ”¾yå‰é¢â€çš„è§„åˆ™æ’åºå¥½å³å¯ã€‚

ç®—æ³•æµç¨‹ï¼š

![image-20220407155615917](lcof.assets/image-20220407155615917.png)

å¤æ‚åº¦åˆ†æï¼š

![image-20220407155640803](lcof.assets/image-20220407155640803.png)

ä»£ç ï¼š

æœ¬æ–‡åˆ—ä¸¾ å¿«é€Ÿæ’åº å’Œ å†…ç½®å‡½æ•° ä¸¤ç§æ’åºæ–¹æ³•ï¼Œå…¶ä»–æ’åºæ–¹æ³•ä¹Ÿå¯å®ç°ã€‚

å¿«é€Ÿæ’åºï¼š

- éœ€ä¿®æ”¹å¿«é€Ÿæ’åºå‡½æ•°ä¸­çš„æ’åºåˆ¤æ–­è§„åˆ™ã€‚å­—ç¬¦ä¸²å¤§å°ï¼ˆå­—å…¸åºï¼‰å¯¹æ¯”çš„å®ç°æ–¹æ³•ï¼š
  - Java ä¸­ä½¿ç”¨å‡½æ•° A.compareTo(B)ï¼›

```java
public String minNumber(int[] nums) {
    String[] strs = new String[nums.length];
    for (int i = 0; i < nums.length; i++) {
        strs[i] = String.valueOf(nums[i]);
    }
    quickSort(strs, 0, strs.length - 1);
    StringBuilder res = new StringBuilder();
    for (String s : strs)
        res.append(s);
    return res.toString();
}

public void quickSort(String[] strs, int low, int high) {
    if (low < high) {
        int middle = getMiddle(strs, low, high);
        quickSort(strs, low, middle - 1);
        quickSort(strs, middle + 1, high);
    }
}

public int getMiddle(String[] strs, int low, int high) {
    //æ•°ç»„çš„ç¬¬ä¸€ä¸ªæ•°ä¸ºåŸºå‡†å…ƒç´ 
    String temp = strs[low];
    while (low < high) {
        //ä»åå‘å‰æ‰¾æ¯”åŸºå‡†å°çš„æ•°
        while (low < high && (strs[high] + temp).compareTo(temp + strs[high]) >= 0)
            high--;
        //æŠŠæ¯”åŸºå‡†å°çš„æ•°ç§»åˆ°ä½ç«¯
        strs[low] = strs[high];
        //ä»å‰å‘åæ‰¾æ¯”åŸºå‡†å¤§çš„æ•°
        while (low < high && (strs[low] + temp).compareTo(temp + strs[low]) <= 0)
            low++;
        //æŠŠæ¯”åŸºå‡†å¤§çš„æ•°ç§»åˆ°é«˜ç«¯
        strs[high] = strs[low];
    }
    strs[low] = temp;
    return low;
}
```

- ç½‘å‹è¯„ï¼šä½ è¿™ä¸ªå†™æ³•åƒå·¦ç¥ã€‚

å†…ç½®å‡½æ•°ï¼š

- éœ€å®šä¹‰æ’åºè§„åˆ™ï¼š
  - Java å®šä¹‰ä¸º (x, y) -> (x + y).compareTo(y + x) ï¼›

```java
class Solution {
    public String minNumber(int[] nums) {
        //æ„å»ºå­—ç¬¦ä¸²æ•°ç»„
        String[] strs = new String[nums.length];
        for(int i = 0; i < nums.length; i++)
            strs[i] = String.valueOf(nums[i]);
        //æ’åºå­—ç¬¦ä¸²æ•°ç»„
        Arrays.sort(strs, (x, y) -> (x + y).compareTo(y + x));
        //åˆå¹¶å­—ç¬¦ä¸²æ•°ç»„
        StringBuilder res = new StringBuilder();
        for(String s : strs)
            res.append(s);
        return res.toString();
    }
}
```

- Arrays.sortæ–¹æ³•ä½¿ç”¨ï¼Œ[å‚è€ƒ](https://blog.csdn.net/ted_cs/article/details/82713706)ï¼›æœ¬ä¾‹ç”¨çš„ Compareableæ¥å£ï¼Œè€Œä¸æ˜¯Compartoræ¥å£ã€‚
  - ä½†æ˜¯æˆ‘çœ‹å®˜æ–¹çš„sortæ¥å£æ˜¯ä¼ å…¥Comparatoræ¥å£çš„å®ç°ç±»ï¼Œæˆ‘è¿˜æ˜¯å®‰è£…javaå®˜æ–¹çš„æ¥å§ï¼Œå³è‡ªå·±ä¼ Comparatorã€‚

- [Javaä¸­java.util.Comparatorç”¨æ³•](https://www.cnblogs.com/XDU-Lakers/p/13985258.html)
  - é‡å†™æ–¹æ³•`public int compare(String o1, String o2) `ï¼Œå‡¡æ˜¯è¿”å›1æˆ–è€…å¤§äº0çš„æ­£æ•°çš„æ—¶å€™å°±è¦äº¤æ¢ä½ç½®
  - Comparatoræ˜¯ä¸€ä¸ªå‡½æ•°å¼æ¥å£ï¼Œæ‰€ä»¥èƒ½ç”¨lamdaè¡¨è¾¾å¼è¡¨ç¤ºã€‚

#### å³æ—¶å†æˆ˜åŠå¯„

```java
class Solution {
    public String minNumber(int[] nums) {
        /**
        æ ¸å¿ƒå°±æ˜¯è¦æŠŠæ•°ç»„ï¼ŒæŒ‰ç…§é¦–ä½æ’åºï¼ˆå‡åºï¼‰ï¼›é¦–ä½ä¸€æ ·çš„æ¯”è¾ƒç¬¬äºŒä½ã€‚ä½†æ˜¯æœ‰ä¸€ç§ç®€å•çš„ç®—æ³•ï¼š
        1. æŠŠæ•´æ•°æ•°ç»„è½¬åŒ–ä¸ºå­—ç¬¦ä¸²æ•°ç»„
        2. æŠŠå­—ç¬¦ä¸²æ•°ç»„æ’åºã€‚ä¾‹å¦‚x=="1"ä¸”y=="45"ï¼Œè‹¥x+y<y+xï¼Œå³è®¤ä¸ºx<y
        3. æŠŠå­—ç¬¦ä¸²æ•°ç»„æ’å¥½å‡åºï¼Œå°±æ„å‘³ç€
         */
        //æ•´æ•°æ•°ç»„è½¬æ¢ä¸ºå­—ç¬¦ä¸²æ•°ç»„ã€‚æ–°å»ºæ•°ç»„åˆ—è¡¨çš„æœ«å°¾ä¸éœ€è¦æ‹¬å·ï¼Œåˆ«å†™æˆnew String[nums.length]()
        String [] nstr=new String[nums.length];
        for(int i=0;i<nums.length;i++){
            nstr[i]=nums[i]+"";
        }
        //æ’åºæ•°ç»„ï¼Œä½¿ç”¨sort+Comparatoræ¥å£ã€‚æ³¨æ„åŒ¿åå†…éƒ¨ç±»çš„å†™æ³•ï¼Œè¦æŠŠé‡å†™æ–¹æ³•å†™åœ¨èŠ±æ‹¬å·{}é‡Œã€‚
        Arrays.sort(nstr,new Comparator<String>(){
            //é‡å†™public compareæ–¹æ³•ï¼ŒæŒ‡ç¤ºå…ƒç´ é—´å¤§å°å…³ç³»çš„åˆ¤æ–­ã€‚æ³¨è§£é¦–å­—æ¯å¤§å†™ï¼Œå‚ç…§@Autowired
            @Override
            public int compare(String s1,String s2){
                //é˜²æ­¢è¶…è¿‡æ•´æ•°è¾¹ç•Œ
                long s1s2= Long.valueOf(s1+s2).longValue();
                long s2s1= Long.valueOf(s2+s1).longValue();
                if(s1s2<s2s1){//è¿”å›-1ï¼Œè¡¨ç¤ºä¸äº¤æ¢s1å’Œs2çš„å€¼ï¼Œå› ä¸ºæ­¤æ—¶s1æœ¬æ¥å°±å°äºs2
                    return -1;
                }else if(s1s2==s2s1){
                    return 0;
                }else{
                    return 1;//è¿”å›1è¡¨ç¤ºäº¤æ¢s1å’Œs2çš„å€¼
                }
            }
        });
        //æŠŠæ’åºåçš„æ•°ç»„è½¬æ¢æˆå­—ç¬¦ä¸²,StringBuilderçº¿ç¨‹ä¸å®‰å…¨ï¼Œä½†æ˜¯æ•ˆç‡é«˜äº›
        StringBuilder sb=new StringBuilder();
        for(int i=0;i<nstr.length;i++){
            sb.append(nstr[i]);
        }
        return sb.toString();
    }
}
```

- æ€è·¯å’Œä»£ç ä¸»é¢˜æ²¡é—®é¢˜ï¼Œä½†æ˜¯æœ‰å‡ ä¸ªçŸ¥è¯†ç‚¹æ²¡è®°ç‰¢ï¼Œé ç™¾åº¦å’Œdebugè§£å†³çš„ï¼š
  - æ–°å»ºå­—ç¬¦æ•°ç»„ç”¨`String [] nstr=new String[nums.length];`ï¼Œè€Œä¸æ˜¯String [] nstr=new String[nums.length]\();å°±æ˜¯æ³¨æ„ä¸åº”è¯¥æœ‰å°æ‹¬å·ã€‚
  - Comparator.compare()æ–¹æ³•æ˜¯publicçš„ï¼›å¹¶ä¸”æ­¤æ–¹æ³•è¦é‡å†™åœ¨åŒ¿åå†…éƒ¨ç±»çš„èŠ±æ‹¬å·ä¸­ï¼Œç”¨lamdaè¡¨è¾¾å¼ä¹Ÿå¯ä»¥ï¼Œä½†æ˜¯ä¸ªäººæ„Ÿè§‰å¯è¯»æ€§å·®ã€‚
  - ç†è§£â€œè‹¥x+y<y+xï¼Œå³è®¤ä¸ºx<yï¼ŒæŒ‰ç…§æ­¤è§„åˆ™æ’åºå®Œæ•°ç»„åä¸ºä»€ä¹ˆå°±èƒ½è®©æ‹¼æ¥æˆçš„â€å­—ç¬¦ä¸²å€¼æœ€å°

- è‡ªæˆ‘è¡¨æ‰¬ï¼š
  - è®°ä½äº†æ³¨è§£é¦–å­—æ¯å¤§å†™
  - ç”¨`long`é¿å…è¶…è¿‡æ•´æ•°è¾¹ç•Œï¼Œç”¨`Long.valueOf(obj)`æŠŠå­—ç¬¦ä¸²è½¬åŒ–ä¸ºLong(longçš„åŒ…è£…ç±»)ï¼Œç”¨`Long.longValue();`æŠŠLongè½¬åŒ–æˆåŸºæœ¬æ•°æ®ç±»å‹longã€‚
  - åŸºæœ¬èƒ½è‡ªä¸»å†™å‡ºArrays.sortè‡ªå®šä¹‰æ’åºã€‚

### [å‰‘æŒ‡ Offer 61. æ‰‘å…‹ç‰Œä¸­çš„é¡ºå­](https://leetcode-cn.com/problems/bu-ke-pai-zhong-de-shun-zi-lcof/)

#### é¦–æˆ˜å‘Šæ·

```java
class Solution {
    public boolean isStraight(int[] nums) {
        /**
        æ’åºï¼ŒæŸ¥gapå’Œ0çš„å…³ç³»
         */

        //é¢˜ç›®è¯´æŠ½5å¼ ç‰Œï¼Œæ‰€ä»¥ä¸éœ€è¦å¤„ç†ç‰¹æ®Šæƒ…å†µ

        //æ’åºæ•°ç»„ï¼Œé»˜è®¤å‡åº
        Arrays.sort(nums);

        //éå†æ’åºåçš„æ•°ç»„ï¼Œè®°å½•gapå’Œ0
        int zNum=0,lastNum=-1,gapNum=0,i=0;
        //è®°å½•0çš„ä¸ªæ•°
        while(nums[i]==0){
            zNum++;
            i++;
        }
        //è®°å½•gapçš„æ€»é•¿åº¦
        lastNum=nums[i];//ä¿å­˜ç¬¬ä¸€ä¸ªé0çš„æ•°ï¼Œä½œä¸ºlastNum
        i++;
        while(i<nums.length){
            if(nums[i]-lastNum>1){//ä¾¦æŸ¥åˆ°gap
                gapNum+=(nums[i]-lastNum-1);
            }else if(nums[i]==lastNum){//è€ƒè™‘æ•°ç›®ç›¸åŒçš„æƒ…å†µï¼Œåªè¦å‡ºç°é0æ•°ç›®ç›¸åŒï¼Œå³ä¸æ˜¯æ‰‘å…‹ç‰Œçš„é¡ºå­ï¼Œç›´æ¥è¿”å›falseã€‚ä¹‹å‰ä»¥ä¸ºæ ¹æ®é¢˜æ„ï¼Œä¸ç”¨è€ƒè™‘é0æ•°å¤šæ¬¡å‡ºç°ã€‚ã€‚å¤±ç­–äº†
                return false;
            }

            //ä¸ç®¡æœ‰æ²¡æœ‰ä¾¦æŸ¥åˆ°gapï¼Œéƒ½æ›´æ–°lastNumå’Œi
            lastNum=nums[i];
            i++;
        }

        return gapNum<=zNum;

    }
}
```

- åˆå§‹æ€è·¯ï¼šå‡åºæ’åºæ•°ç»„ï¼›éå†æ•°ç»„ï¼Œç¢°åˆ°0è®°å½•ä¸‹æ€»æ•°ï¼Œç¢°åˆ°gapåŒºè®°å½•ä¸‹é•¿åº¦ã€‚éå†å®Œæ¯•åï¼Œå¦‚æœgapçš„æ€»é•¿åº¦<=0çš„ä¸ªæ•°ï¼Œå³é¡ºå­ã€‚
- æ³¨æ„ï¼šè™½ç„¶é¢˜ç›®æ²¡æœ‰è¯´æ˜ç™½â€œç‰Œè¿ç»­â€çš„æ¦‚å¿µï¼Œä½†æ˜¯æ‰‘å…‹ç‰Œé‡Œï¼Œæ‰‹ç‰Œä¸­æœ‰é0é‡å¤çš„ç‰Œçš„è¯ï¼Œä¸ç®—é¡ºå­ã€‚

#### å®˜æ–¹1-seté›†åˆ+éå†

è§£é¢˜æ€è·¯ï¼š

![image-20220408165259162](lcof.assets/image-20220408165259162.png)

é›†åˆ Set + éå†ï¼Œåšæ³•ï¼š

- éå†äº”å¼ ç‰Œï¼Œé‡åˆ°å¤§å°ç‹ï¼ˆå³ 0 ï¼‰ç›´æ¥è·³è¿‡ã€‚
- **åˆ¤åˆ«é‡å¤**ï¼š åˆ©ç”¨ Set å®ç°éå†åˆ¤é‡ï¼Œ Set çš„æŸ¥æ‰¾æ–¹æ³•çš„æ—¶é—´å¤æ‚åº¦ä¸º O(1)ï¼›
- **è·å–æœ€å¤§ / æœ€å°çš„ç‰Œ**ï¼š å€ŸåŠ©è¾…åŠ©å˜é‡ ma å’Œ miï¼Œéå†ç»Ÿè®¡å³å¯ã€‚

å¤æ‚åº¦åˆ†æï¼š

![image-20220408165525298](lcof.assets/image-20220408165525298.png)

ä»£ç ï¼š

```java
class Solution {
    public boolean isStraight(int[] nums) {
        Set<Integer> repeat = new HashSet<>();
        int max = 0, min = 14;
        for(int num : nums) {
            if(num == 0) continue; // è·³è¿‡å¤§å°ç‹
            max = Math.max(max, num); // æœ€å¤§ç‰Œ
            min = Math.min(min, num); // æœ€å°ç‰Œ
            if(repeat.contains(num)) return false; // è‹¥æœ‰é‡å¤ï¼Œæå‰è¿”å› false
            repeat.add(num); // æ·»åŠ æ­¤ç‰Œè‡³ Set
        }
        return max - min < 5; // æœ€å¤§ç‰Œ - æœ€å°ç‰Œ < 5 åˆ™å¯æ„æˆé¡ºå­
    }
}
```

#### å®˜æ–¹2-æ’åº + éå†

![image-20220408165708980](lcof.assets/image-20220408165708980.png)

å¤æ‚åº¦åˆ†æï¼š

![image-20220408165727381](lcof.assets/image-20220408165727381.png)

ä»£ç ï¼š

```java
class Solution {
    public boolean isStraight(int[] nums) {
        int joker = 0;
        Arrays.sort(nums); // æ•°ç»„æ’åº
        for(int i = 0; i < 4; i++) {
            if(nums[i] == 0) joker++; // ç»Ÿè®¡å¤§å°ç‹æ•°é‡
            else if(nums[i] == nums[i + 1]) return false; // è‹¥æœ‰é‡å¤ï¼Œæå‰è¿”å› false
        }
        return nums[4] - nums[joker] < 5; // æœ€å¤§ç‰Œ - æœ€å°ç‰Œ < 5 åˆ™å¯æ„æˆé¡ºå­
    }
}
```

- æˆ‘å’Œç½‘å‹ï¼šmax - min < 5çš„æ€è·¯å¾ˆèµï¼è¿™æ ·æ•ˆç‡å°±æ¯”æˆ‘ç¡¬æ‰§è¡Œé«˜ã€‚

### [å‰‘æŒ‡ Offer 40. æœ€å°çš„kä¸ªæ•°](https://leetcode-cn.com/problems/zui-xiao-de-kge-shu-lcof/)

#### é¦–æˆ˜å‘Šæ·

```java
class Solution {
    public int[] getLeastNumbers(int[] arr, int k) {
        /** 
        æ•°ç»„splice(é—­,å¼€)è¡¨ç¤ºåˆ‡æ•°ç»„ï¼›ç±»ä¼¼çš„æœ‰Stringç”¨substringåˆ‡
        */
        //å¿«æ’
        Arrays.sort(arr);
        
        //return arr.splice(0,k);è¿™ä¸ªå‡½æ•°æ€ä¹ˆç”¨ï¼Ÿ
        int[] result=new int[k];
        for(int i=0;i<k;i++){
            result[i]=arr[i];
        }

        return result;
    }
}
```

- åçœï¼šå¿˜è®°äº†æ•°ç»„åˆ‡å‰²çš„å‡½æ•°

#### å®˜æ–¹-å•çº¯å¿«é€Ÿæ’åº

æœ¬é¢˜ä½¿ç”¨æ’åºç®—æ³•è§£å†³æœ€ç›´è§‚ï¼Œå¯¹æ•°ç»„ arr æ‰§è¡Œæ’åºï¼Œå†è¿”å›å‰ kä¸ªå…ƒç´ å³å¯ã€‚ä½¿ç”¨ä»»æ„æ’åºç®—æ³•çš†å¯ï¼Œæœ¬æ–‡é‡‡ç”¨å¹¶ä»‹ç» å¿«é€Ÿæ’åº ï¼Œä¸ºä¸‹æ–‡ æ–¹æ³•äºŒ åšé“ºå«ã€‚

å¿«é€Ÿæ’åºåŸç†ï¼š

- å¿«é€Ÿæ’åºç®—æ³•æœ‰ä¸¤ä¸ªæ ¸å¿ƒç‚¹ï¼Œåˆ†åˆ«ä¸º â€œå“¨å…µåˆ’åˆ†â€ å’Œ â€œé€’å½’â€ ã€‚

å“¨å…µåˆ’åˆ†æ“ä½œï¼š 

- ä»¥æ•°ç»„æŸä¸ªå…ƒç´ ï¼ˆä¸€èˆ¬é€‰å–é¦–å…ƒç´ ï¼‰ä¸º åŸºå‡†æ•° ï¼Œå°†æ‰€æœ‰å°äºåŸºå‡†æ•°çš„å…ƒç´ ç§»åŠ¨è‡³å…¶å·¦è¾¹ï¼Œå¤§äºåŸºå‡†æ•°çš„å…ƒç´ ç§»åŠ¨è‡³å…¶å³è¾¹ã€‚

> å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œä¸ºå“¨å…µåˆ’åˆ†æ“ä½œæµç¨‹ã€‚é€šè¿‡ä¸€è½® å“¨å…µåˆ’åˆ† ï¼Œå¯å°†æ•°ç»„æ’åºé—®é¢˜æ‹†åˆ†ä¸º ä¸¤ä¸ªè¾ƒçŸ­æ•°ç»„çš„æ’åºé—®é¢˜ ï¼ˆæœ¬æ–‡ç§°ä¹‹ä¸ºå·¦ï¼ˆå³ï¼‰å­æ•°ç»„ï¼‰ã€‚

![image-20220408174558724](lcof.assets/image-20220408174558724.png)

- åŸç‰ˆçš„è¿™ä¸ªåŠ¨å›¾ä¸é”™

é€’å½’ï¼š å¯¹ å·¦å­æ•°ç»„ å’Œ å³å­æ•°ç»„ é€’å½’æ‰§è¡Œ å“¨å…µåˆ’åˆ†ï¼Œç›´è‡³å­æ•°ç»„é•¿åº¦ä¸º 1 æ—¶ç»ˆæ­¢é€’å½’ï¼Œå³å¯å®Œæˆå¯¹æ•´ä¸ªæ•°ç»„çš„æ’åºã€‚

> å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œä¸ºç¤ºä¾‹æ•°ç»„ [2,4,1,0,3,5] çš„å¿«é€Ÿæ’åºæµç¨‹ã€‚è§‚å¯Ÿå‘ç°ï¼Œå¿«é€Ÿæ’åºå’Œ äºŒåˆ†æ³• çš„åŸç†ç±»ä¼¼ï¼Œéƒ½æ˜¯ä»¥ \loglog æ—¶é—´å¤æ‚åº¦å®ç°æœç´¢åŒºé—´ç¼©å°ã€‚

![Picture1.png](lcof.assets/1612615552-rifQwI-Picture1.png)

å¤æ‚åº¦åˆ†æï¼š

![image-20220408174755183](lcof.assets/image-20220408174755183.png)

- [å‚è€ƒï¼šå¿«æ’æ—¶é—´å¤æ‚åº¦åˆ†æ](https://zhuanlan.zhihu.com/p/341201904)

ä»£ç ï¼š

```java
class Solution {
    public int[] getLeastNumbers(int[] arr, int k) {
        quickSort(arr, 0, arr.length - 1);
        return Arrays.copyOf(arr, k);
    }
    private void quickSort(int[] arr, int l, int r) {
        // å­æ•°ç»„é•¿åº¦ä¸º 1 æ—¶ç»ˆæ­¢é€’å½’
        if (l >= r) return;
        // å“¨å…µåˆ’åˆ†æ“ä½œï¼ˆä»¥ arr[l] ä½œä¸ºåŸºå‡†æ•°ï¼‰
        int i = l, j = r;
        while (i < j) {
            while (i < j && arr[j] >= arr[l]) j--;
            while (i < j && arr[i] <= arr[l]) i++;
            swap(arr, i, j);
        }
        swap(arr, i, l);
        // é€’å½’å·¦ï¼ˆå³ï¼‰å­æ•°ç»„æ‰§è¡Œå“¨å…µåˆ’åˆ†
        quickSort(arr, l, i - 1);
        quickSort(arr, i + 1, r);
    }
    private void swap(int[] arr, int i, int j) {
        int tmp = arr[i];
        arr[i] = arr[j];
        arr[j] = tmp;
    }
}
```

- åœ¨é€‰æœ€å·¦è¾¹çš„æ•°ä¸ºå“¨å…µçš„å‰æä¸‹ï¼Œå› ä¸ºå…ˆwhilej--ï¼Œå†whilei++ï¼Œå¯¼è‡´äº†æœ€åä¸€æ­¥æ€»æ˜¯jæ—©å°±åœåœ¨äº†ä¸€ä¸ªæ¯”å“¨å…µå°çš„æ•°ï¼Œè€Œiä¸»åŠ¨é è¿‡æ¥å¯¼è‡´ijé‡åˆï¼›æ‰€ä»¥é‡åˆçš„åœ°æ–¹åº”è¯¥å½’å·¦è¾¹ï¼Œå³äº¤æ¢å“¨å…µå’Œé‡åˆä½ç½®çš„å…ƒç´ ã€‚ï¼ˆçœ‹åŠ¨å›¾çœ‹çš„æ›´æ¸…æ™°ï¼‰
- æ³¨æ„ï¼šè¿™é‡ŒArrays.copyOf(arr, k)æœ‰æˆªå–æ•°ç»„çš„åŠŸèƒ½ï¼Œkè¡¨ç¤ºæˆªå–å‰kä¸ªæ•°ã€‚

#### å®˜æ–¹-åŸºäºå¿«é€Ÿæ’åºçš„æ•°ç»„åˆ’åˆ†

ä¼˜åŒ–æ€è·¯ï¼š

![image-20220408175159330](lcof.assets/image-20220408175159330.png)

ç®—æ³•æµç¨‹ï¼š

![image-20220408175449452](lcof.assets/image-20220408175449452.png)

å¤æ‚åº¦åˆ†æï¼š

![image-20220408175517282](lcof.assets/image-20220408175517282.png)

ä»£ç ï¼š

```java
class Solution {
    public int[] getLeastNumbers(int[] arr, int k) {
        if (k >= arr.length) return arr;
        return quickSort(arr, k, 0, arr.length - 1);
    }
    private int[] quickSort(int[] arr, int k, int l, int r) {
        int i = l, j = r;
        while (i < j) {
            while (i < j && arr[j] >= arr[l]) j--;
            while (i < j && arr[i] <= arr[l]) i++;
            swap(arr, i, j);
        }
        swap(arr, i, l);
        if (i > k) return quickSort(arr, k, l, i - 1);
        if (i < k) return quickSort(arr, k, i + 1, r);
        return Arrays.copyOf(arr, k);
    }
    private void swap(int[] arr, int i, int j) {
        int tmp = arr[i];
        arr[i] = arr[j];
        arr[j] = tmp;
    }
}
```

### [å‰‘æŒ‡ Offer 41. æ•°æ®æµä¸­çš„ä¸­ä½æ•°](https://leetcode-cn.com/problems/shu-ju-liu-zhong-de-zhong-wei-shu-lcof/)

#### é¦–æˆ˜åŠå¯„

æ€è·¯å¯¹ï¼Œæœ‰äººç”¨æˆ‘è¿™ç§æš´åŠ›æ³•ä¹Ÿè¿‡äº†ï¼Œå¯èƒ½æˆ‘è¿™æš´åŠ›ä¸­é—´æœ‰äº›å¤šä½™æ­¥éª¤ï¼Œå¯¼è‡´è¶…æ—¶ï¼›ä¸è¶…æ—¶çš„æš´åŠ›å¯ä»¥åœ¨ä¸‹é¢çœ‹åˆ°ã€‚

```java
class MedianFinder {

    /** initialize your data structure here. */
    //ä½¿ç”¨åˆ—è¡¨å­˜å‚¨æ•°æ®ï¼Œæ¯æ¬¡å–ä¸­ä½æ•°ä¹‹å‰æ’åºä¸€ä¸‹
    List<Integer> list=null; 
    int lsSize=0;//è‡ªå·±ä¿å­˜åˆ—è¡¨å¤§å°ï¼Œçœçš„æ¯æ¬¡éƒ½onæŸ¥æ‰¾åˆ—è¡¨å¤§å°
    public MedianFinder() {
        list=new ArrayList<>();
    }
    
    public void addNum(int num) {
        list.add(num);
        lsSize++;
    }
    
    public double findMedian() {
        //æ’åºï¼›åˆ—è¡¨
        list.sort(new Comparator<Integer>(){
            @Override
            public int compare(Integer o1,Integer o2){
                if(o1<=o2){//æœ¬èº«å‡åºçš„è¯ï¼Œä¸äº¤æ¢ä½ç½®
                    return -1;
                }else{
                    return 1;//1è¡¨ç¤ºäº¤æ¢ä½ç½®
                }
            }
        });

        //æ‹¿ä¸­ä½æ•°
        if(lsSize%2==0){
            //æ‹¿å‡ºæ•°ï¼Œå¹¶æŠŠæ•°è½¬ä¸ºdouble
            double templ=(double)list.get(lsSize/2-1).intValue();
            double tempr=(double)list.get(lsSize/2).intValue();
            return templ/2+tempr/2;//é˜²æ­¢è¶…è¿‡è¾¹ç•Œ
        }else{
            return (double)list.get(lsSize/2).intValue();
        }
    }
}

/**
 * Your MedianFinder object will be instantiated and called as such:
 * MedianFinder obj = new MedianFinder();
 * obj.addNum(num);
 * double param_2 = obj.findMedian();
 */
```

- å¤±è´¥åŸå› ï¼šè¶…æ—¶ã€‚æˆ‘çš„ç®—æ³•å¯¹äºè¾“å…¥ä¸å¤šçš„æ—¶å€™éƒ½okï¼Œä½†æ˜¯å¯¹äºé•¿è¾“å…¥ä¼šæœ‰è¶…æ—¶ï¼›ä¼°è®¡æ˜¯å› ä¸ºé•¿åˆ—è¡¨æ’åºå¤ªæ¶ˆè€—æ—¶é—´äº†ã€‚

- æ³¨æ„ï¼š

  - æˆ‘è¿™æ–¹æ³•æ¯æ¬¡æ’å…¥éƒ½å¾—æ’åºåˆ—è¡¨ã€‚åƒArrays.sort()åªèƒ½æ’åºæ•°ç»„è€Œä¸èƒ½æ’åºlistï¼Œæƒ³æ’åºåˆ—è¡¨lså°±å¯ä»¥ç”¨ls.sort(new Comparator\<T>(){})ï¼›æˆ–è€…ç”¨`Collections.sort(List<T> list, Comparator<? super T> c)`ã€‚
    - æ³¨æ„æœ¬åŒ¿åå†…éƒ¨ç±»Comparatorï¼Œâ€å°–æ‹¬å·ï¼Œå°æ‹¬å·ï¼ŒèŠ±æ‹¬å·â€œéƒ½ä¸èƒ½å°‘ã€‚
    - æˆ‘ï¼šè¿˜æ˜¯å–œæ¬¢**Collectionsçš„é™æ€æ–¹æ³•sort**ä¸€ç‚¹ï¼Œå› ä¸ºè¿™ä¸ªæ–¹æ³•å’ŒArrays.sortçš„æ ·å¼ç»Ÿä¸€ï¼›javaæš´åŠ›ç®—æ³•è¿‡çš„è€å“¥ä¹Ÿæ˜¯ç”¨è¿™ä¸ªæ–¹æ³•ã€‚

  - å®˜æ–¹è§£æ³•ç”¨æ¥å †æ’åºï¼Œ[å †æ’åºå®æˆ˜å‚è€ƒ](https://blog.csdn.net/qq_41682302/article/details/95910651)ï¼Œè¿™é‡Œä»‹ç»çš„å †æ’åºå®æˆ˜å’Œå®˜æ–¹ä½¿ç”¨çš„PriorityQueueä¸€è‡´ï¼

  - å®˜æ–¹ç”¨çš„å †æ’åºï¼Œå’Œæˆ‘è‡ªå·±ç”¨çš„å¿«é€Ÿæ’åºçš„[å¯¹æ¯”](https://www.cnblogs.com/gzshan/p/10904254.html)ï¼Œä¸ºä»€ä¹ˆä½¿ç”¨å †æ’åºï¼Ÿ
    - æˆ‘ç†è§£ï¼š
      - ä½¿ç”¨æ’å…¥æ’åºçš„è¯ï¼Œè™½ç„¶æ¯æ¬¡æ’å…¥è€—æ—¶é—´ä½†æ˜¯å–æ•°æ®èŠ‚çœæ—¶é—´ï¼›æ•°ç»„å®ç°æ’å…¥æ’åºçš„æ—¶é—´å¤æ‚åº¦æ˜¯on2ï¼Œå–æ•°æ®å®ç°å¤æ‚åº¦æ˜¯o1ï¼›ä½†æ˜¯é“¾è¡¨å®ç°æ’å…¥æ’åºçš„æ—¶é—´å¤æ‚åº¦æ˜¯onï¼ˆé“¾è¡¨æ’å…¥æ•°æ®ä¸ç”¨ç§»åŠ¨åç»­æ•°æ®ï¼‰ï¼Œå–æ•°æ®æ—¶é—´å¤æ‚åº¦æ˜¯o1ã€‚ã€‚äºæ­¤åŒæ—¶ä½¿ç”¨é“¾è¡¨+å¿«é€Ÿæ’åºçš„è¯ï¼ŒæŸ¥æ‰¾çš„æ—¶å€™ï¼ˆåŒ…å«æ’åºï¼‰æ—¶é—´å¤æ‚åº¦æ˜¯onlognï¼Œæ’å…¥çš„æ—¶å€™æ—¶é—´å¤æ‚åº¦æ˜¯o1ã€‚æ‰€ä»¥næ¯”è¾ƒå¤§æ—¶ï¼Œâ€œé“¾è¡¨+å¿«é€Ÿæ’åºâ€çš„ç»¼åˆæ€§èƒ½ï¼Œå¼±äºâ€œé“¾è¡¨+æ’å…¥æ’åºâ€ï¼Œæ‰€ä»¥é¦–å…ˆæ’é™¤ç”¨çš„è¿™ç§â€œæ¯æ¬¡æŸ¥è¯¢æ—¶å¿«æ’â€çš„æ–¹å¼
      - ç°åœ¨å†çœ‹å †æ’åºï¼Œä½†æ˜¯ä½¿ç”¨å †æ’åºçš„è¯ï¼Œå¯ä»¥å®ç°olognçš„æ’å…¥ï¼Œå’Œo1çš„æŸ¥æ‰¾ï¼Œç»¼åˆæ€§èƒ½æ¯”â€œé“¾è¡¨+æ’å…¥æ’åºâ€æ›´é«˜ã€‚

æœ‰è€å“¥å°±ç”¨javaæš´åŠ›æ³•è¿‡äº†ï¼Œæ–¹æ³•å’Œæˆ‘ç±»ä¼¼ï¼Œä½†æ˜¯å°‘äº†â€œè‡ªå®šä¹‰æ’åºï¼Œæ‰‹åŠ¨è£…ç®±æ‹†ç®±ï¼Œç±»å‹å¼ºè½¬â€œã€‚

```java
class MedianFinder { 
List<Integer> list = new ArrayList<Integer>();
/** initialize your data structure here. */
public MedianFinder() {
}

public void addNum(int num) {
    list.add(num);
}

public double findMedian() {
    Collections.sort(list);
    int len = list.size();
    if (len == 0) {
        return 0.0;
    }
    if (len%2 == 1) {
        return list.get(len/2);
    } else {
        return (list.get(len/2-1) + list.get(len/2))/2.0;
    }
}
}
```

#### å®˜æ–¹-ä¼˜å…ˆé˜Ÿåˆ—/å †

è§£é¢˜æ€è·¯ï¼š

![image-20220408204404242](lcof.assets/image-20220408204404242.png)

- billibiliå †æ’åº[æ•™å­¦](https://www.bilibili.com/video/BV1Eb41147dK?from=search&seid=8087900261957567930&spm_id_from=333.337.0.0)

![Picture1.png](lcof.assets/25837f1b195e56de20587a4ed97d9571463aa611789e768914638902add351f4-Picture1.png)

ç®—æ³•æµç¨‹ï¼š

![image-20220408204443165](lcof.assets/image-20220408204443165.png)

- æˆ‘ï¼šä¹‹æ‰€ä»¥è¦å…ˆæ’å…¥åˆ«äººé‚£ï¼Œæ˜¯å› ä¸ºè¦è®©å¯¹æ–¹å †ä¹Ÿèƒ½æ ¹æ®æ–°åˆ°æ•°æ®æ’åºï¼Œæ›´æ–°å¯¹æ–¹çš„å †ï¼›å¹¶ä¸”æ‹¿å›æ¥çš„æ•°æ®ï¼Œå¯èƒ½åœ¨å¯¹æ–¹å †çš„æ•°æ®ä¸­é—´ï¼Œå¯¼è‡´æ‹¿å›æ¥çš„æ•°æ®å’Œæ’å…¥å¯¹æ–¹å †çš„æ•°æ®æ˜¯ä¸ä¸€æ ·çš„ã€‚

å¤æ‚åº¦åˆ†æï¼š

![image-20220408204754191](lcof.assets/image-20220408204754191.png)

ä»£ç ï¼š

Java ä½¿ç”¨ `PriorityQueue<>((x, y) -> (y - x))` å¯æ–¹ä¾¿å®ç°å¤§é¡¶å †ã€‚

```java
class MedianFinder {
    Queue<Integer> A, B;
    public MedianFinder() {
        A = new PriorityQueue<>(); // å°é¡¶å †ï¼Œä¿å­˜è¾ƒå¤§çš„ä¸€åŠ
        B = new PriorityQueue<>((x, y) -> (y - x)); // å¤§é¡¶å †ï¼Œä¿å­˜è¾ƒå°çš„ä¸€åŠ
    }
    public void addNum(int num) {
        if(A.size() != B.size()) {
            A.add(num);
            B.add(A.poll());
        } else {
            B.add(num);
            A.add(B.poll());
        }
    }
    public double findMedian() {
        return A.size() != B.size() ? A.peek() : (A.peek() + B.peek()) / 2.0;
    }
}
```

- `/2.0`ä¼šè‡ªåŠ¨æŠŠâ€œintegerè‡ªåŠ¨æ‹†ç®±å¾—åˆ°çš„intâ€è½¬åŒ–ä¸ºdoubleã€‚
- [PriorityQueueè¯¦è§£](https://www.jianshu.com/p/f1fd9b82cb72):
  - åˆ©ç”¨å †æ’åºï¼Œä¿è¯æ ‘é‡Œæ€»æ˜¯æœ€å¤§/æœ€å°çš„å…ƒç´ åœ¨çˆ¶èŠ‚ç‚¹ï¼›å¹¶ä¸”é™¤é¡¶éƒ¨æ˜¯æœ€å¤§å€¼/æœ€å°å€¼å¤–ï¼Œé›†åˆçš„å…¶ä½™éƒ¨åˆ†æ˜¯ä¸ä¿è¯æœ‰åºçš„ã€‚
  - Comparatorè‡ªå®šä¹‰æ’åºçš„è¯ï¼Œè¿”å›-1è¡¨ç¤ºo1å’Œo2çš„é¡ºåºæ˜¯é»˜è®¤çš„å‡åºï¼Œå³o1<o2ï¼Œæ‰€ä»¥ä¸ç”¨äº¤æ¢ä¸¤è€…é¡ºåºã€‚

#### å³æ—¶å†æˆ˜åŠå¯„

```java
class MedianFinder {

    /** initialize your data structure here. */
    /**
    smalleræ˜¯è¾ƒå°çš„ä¸€åŠé›†åˆï¼Œç”¨å¤§é¡¶å †å¤„ç†è¿™ä¸ªé›†åˆï¼Œè®©è¾ƒå°é›†åˆé‡Œçš„æœ€å¤§å€¼å§‹ç»ˆåœ¨å †é¡¶éƒ¨ï¼Œå³åœ¨ä¸­ä½æ•°é™„è¿‘ï¼›å…è®¸smalleræ¯”biggerå¤šä¸€ä¸ªå…ƒç´ 
    biggeræ˜¯è¾ƒå¤§çš„ä¸€åŠé›†åˆï¼Œç”¨å°é¡¶å †å¤„ç†è¿™ä¸ªé›†åˆï¼Œè®©è¾ƒå¤§é›†åˆé‡Œçš„æœ€å°å€¼å§‹ç»ˆåœ¨å †é¡¶éƒ¨ï¼Œå³åœ¨ä¸­ä½æ•°é™„è¿‘
     */
    PriorityQueue<Integer> smaller=null;
    PriorityQueue<Integer> bigger=null;
    public MedianFinder() {
        smaller=new PriorityQueue<>(new Comparator<Integer>(){//å¤§é¡¶å †é€’å‡ï¼Œä¸æ˜¯é»˜è®¤çš„ï¼Œè¦è‡ªå®šä¹‰æ¯”è¾ƒè§„åˆ™
            @Override
            public int compare(Integer o1,Integer o2){
                if(o1<o2){//å¦‚æœå‰é¢çš„æ›´å°ï¼Œè¿”å›1è¡¨ç¤ºäº¤æ¢ä¸¤è€…é¡ºåºï¼Œå³ä¸ºäº†è®©å‰é¢çš„æ›´å¤§ï¼ˆå³å®ç°é™åºï¼‰
                    return 1;
                }else if(o1>o2){
                    return -1;
                }else{
                    return 0;
                }
            }
        });
        //smaller=new PriorityQueue<>((x, y) -> (y - x));
        bigger=new PriorityQueue<>();//å°é¡¶å †é€’å¢
    }
    
    public void addNum(int num) {
        //å› ä¸ºå¾…æ’å…¥å€¼å¯èƒ½å±äºå¯¹é¢å †ï¼Œæ‰€ä»¥æ¯ä¸ªå€¼éƒ½è¦å…ˆå¡«å…¥å¯¹é¢å †ï¼Œå†ä»å¯¹é¢å †é¡¶éƒ¨æ‹¿å€¼ï¼›
        if(smaller.size()==bigger.size()){//å¦‚æœä¸¤ä¸ªå †æ•°ç›®ç›¸åŒï¼Œå¾€smallerä¸­æ’å…¥ï¼›ä½†æ˜¯å…ˆæ’å…¥biggerä¿è¯smalleræ˜¯æ€»é›†åˆçš„è¾ƒå°ä¸€åŠæ•°çš„é›†åˆ
            bigger.offer(num);
            smaller.offer(bigger.poll());
        }else{//å¦‚æœsmalleræ•°ç›®å¤š1ï¼Œå°±å¾€biggerå †æ’å…¥ï¼›ä½†æ˜¯å…ˆæ’å…¥smaller,æ‰èƒ½ä¿è¯biggeræ˜¯æ€»é›†åˆçš„è¾ƒå¤§ä¸€åŠæ•°çš„é›†åˆ
            smaller.offer(num);
            bigger.offer(smaller.poll());
        }
    }
    
    public double findMedian() {
        if(smaller.size()==bigger.size()){//å¦‚æœä¸¤ä¸ªå †çš„å…ƒç´ æ•°ç›®ç›¸åŒï¼Œé‚£ä¹ˆå„å–å †é¡¶è®¡ç®—ä¸­ä½æ•°
            return (smaller.peek()+bigger.peek())/2.0;//2.0è‡ªåŠ¨æŠŠæ•´ä¸ªå¼å­è½¬åŒ–ä¸ºfloatï¼›è¿”å›ç±»å‹æ˜¯doubleï¼Œæˆ‘ä¼°è®¡å°±è‡ªåŠ¨è½¬åŒ–äº†ã€‚æ³¨æ„æŸ¥æ‰¾ä¸­ä½æ•°ä¸èƒ½æ‰§è¡Œpollï¼Œpollä¼šç§»é™¤å…ƒç´ ï¼Œè¦ç”¨peek
        }else{//å¦‚æœsmallerçš„å…ƒç´ å¤š1ï¼Œè¯´æ˜å…±å¥‡æ•°ä¸ªå…ƒç´ ï¼Œç›´æ¥æ‹¿smallerå †çš„å †é¡¶è¿”å›å³å¯
            return smaller.peek();
        }
    }
}

/**
 * Your MedianFinder object will be instantiated and called as such:
 * MedianFinder obj = new MedianFinder();
 * obj.addNum(num);
 * double param_2 = obj.findMedian();
 */
```

- å…³äº[`size()`æ—¶é—´å¤æ‚åº¦](https://blog.csdn.net/Kevin___________/article/details/108681594)

- é”™è¯¯ç‚¹ï¼š

  - æ±‚ä¸­ä½æ•°æ—¶ï¼Œè¯¯ç”¨pollå–æ•°ï¼Œå¯¼è‡´æ›´æ”¹äº†å †å½±å“åç»­æ“ä½œï¼›åº”è¯¥ç”¨peekã€‚
  - pollçš„æ˜¯å †é¡¶ï¼Œå°é¡¶å †æ˜¯é€’å¢ï¼Œé‚£ä¹ˆpollå‡ºçš„å°±æ˜¯æœ€å°å€¼ï¼›åä¹‹å¤§é¡¶å †pollå‡ºæ¥çš„å°±æ˜¯æœ€å¤§å€¼ã€‚

- é—®ç­”é—®ï¼šä¸ºä»€ä¹ˆéƒ½ç”¨äº†å †æ’åºï¼Œæˆ‘çš„æ•ˆç‡æ¯”å®˜æ–¹ä½è¿™ä¹ˆå¤šï¼Ÿï¼ˆçº¢æ¡†æ˜¯æˆ‘ï¼Œç»¿æ¡†æ˜¯å®˜æ–¹ï¼‰

  <img src="lcof.assets/image-20220409010404047.png" alt="image-20220409010404047" style="zoom:50%;" />

  - ç»è¿‡ä½¿ç”¨å®˜æ–¹çš„lamdaè¡¨è¾¾å¼å†³å®šå¤§é¡¶å †ï¼Œä½†æ˜¯çº¿æ•ˆç‡æ²¡å˜ï¼Œè¯´æ˜æ˜¯å…¶ä»–éƒ¨ä½å¯¼è‡´çš„ã€‚

  - è‡ªç­”ï¼šå‘ç°ä»£ç é—ç•™äº†debugæ—¶è®¾ç½®çš„System.out.println()ï¼Œåˆ æ‰ä¹‹åæ•ˆç‡å’Œå®˜æ–¹ä¸€è‡´ï¼›çœ‹æ¥è¾“å‡ºå¾ˆè€—æ—¶å•Šï¼

    <img src="lcof.assets/image-20220409010830512.png" alt="image-20220409010830512" style="zoom:50%;" />

## æœç´¢ä¸å›æº¯ç®—æ³•(ä¸­ç­‰)

### [å‰‘æŒ‡ Offer 55 - I. äºŒå‰æ ‘çš„æ·±åº¦](https://leetcode-cn.com/problems/er-cha-shu-de-shen-du-lcof/)

#### é¦–æˆ˜å‘Šæ·

```java
/**
 * Definition for a binary tree node.
 * public class TreeNode {
 *     int val;
 *     TreeNode left;
 *     TreeNode right;
 *     TreeNode(int x) { val = x; }
 * }
 */
class Solution {
    public int maxDepth(TreeNode root) {
        //åˆ¤æ–­è¿”å›æ¡ä»¶
        if(root==null)return 0;

        //é€’å½’æ‹¿åˆ°å·¦å³å­æ ‘çš„æ·±åº¦ã€‚å–å¤§çš„æ·±åº¦ï¼ŒåŠ ä¸€è¿”å›ä¸ºæœ¬èŠ‚ç‚¹è¿”å›çš„æœ€å¤§æ·±åº¦
        return Math.max(maxDepth(root.left),maxDepth(root.right))+1;

    }
}
```

#### å®˜æ–¹1-ååºéå†ï¼ˆDFSï¼‰

æ ‘çš„éå†æ–¹å¼æ€»ä½“åˆ†ä¸ºä¸¤ç±»ï¼šæ·±åº¦ä¼˜å…ˆæœç´¢ï¼ˆDFSï¼‰ã€å¹¿åº¦ä¼˜å…ˆæœç´¢ï¼ˆBFSï¼‰ï¼›

- å¸¸è§çš„ DFS ï¼š å…ˆåºéå†ã€ä¸­åºéå†ã€ååºéå†ï¼›
- å¸¸è§çš„ BFS ï¼š å±‚åºéå†ï¼ˆå³æŒ‰å±‚éå†ï¼‰ã€‚

æ±‚æ ‘çš„æ·±åº¦éœ€è¦éå†æ ‘çš„æ‰€æœ‰èŠ‚ç‚¹ï¼Œæœ¬æ–‡å°†ä»‹ç»åŸºäº ååºéå†ï¼ˆDFSï¼‰ å’Œ å±‚åºéå†ï¼ˆBFSï¼‰ çš„ä¸¤ç§è§£æ³•ã€‚

æ€è·¯ï¼š

![image-20220409165709831](lcof.assets/image-20220409165709831.png)

ç®—æ³•è§£æï¼š

![image-20220409165731652](lcof.assets/image-20220409165731652.png)

å¤æ‚åº¦åˆ†æï¼š

![image-20220409165757840](lcof.assets/image-20220409165757840.png)

ä»£ç ï¼š

```java
class Solution {
    public int maxDepth(TreeNode root) {
        if(root == null) return 0;
        return Math.max(maxDepth(root.left), maxDepth(root.right)) + 1;
    }
}
```

- æ˜¯åœ¨å¾—åˆ°å·¦å³å­æ ‘ç»“æœåï¼Œæ“ä½œæœ¬èŠ‚ç‚¹ï¼ˆå³+1ï¼‰ï¼Œæ‰€ä»¥æ˜¯ååºéå†

#### å®˜æ–¹2-å±‚åºéå†ï¼ˆBFSï¼‰

æ€è·¯ï¼š

- æ ‘çš„å±‚åºéå† / å¹¿åº¦ä¼˜å…ˆæœç´¢å¾€å¾€åˆ©ç”¨ **é˜Ÿåˆ—** å®ç°ã€‚
- **å…³é”®ç‚¹ï¼š** æ¯éå†ä¸€å±‚ï¼Œåˆ™è®¡æ•°å™¨ +1+1 ï¼Œç›´åˆ°éå†å®Œæˆï¼Œåˆ™å¯å¾—åˆ°æ ‘çš„æ·±åº¦ã€‚

ç®—æ³•è§£æï¼š

1. ç‰¹ä¾‹å¤„ç†ï¼š å½“ root ä¸ºç©ºï¼Œç›´æ¥è¿”å› æ·±åº¦ 00 ã€‚
2. åˆå§‹åŒ–ï¼š é˜Ÿåˆ— queue ï¼ˆåŠ å…¥æ ¹èŠ‚ç‚¹ root ï¼‰ï¼Œè®¡æ•°å™¨ res = 0ã€‚
3. å¾ªç¯éå†ï¼š å½“ queue ä¸ºç©ºæ—¶è·³å‡ºã€‚
   1. åˆå§‹åŒ–ä¸€ä¸ªç©ºåˆ—è¡¨ tmp ï¼Œç”¨äºä¸´æ—¶å­˜å‚¨ä¸‹ä¸€å±‚èŠ‚ç‚¹ï¼›
   2. éå†é˜Ÿåˆ—ï¼š éå† queue ä¸­çš„å„èŠ‚ç‚¹ node ï¼Œå¹¶å°†å…¶å·¦å­èŠ‚ç‚¹å’Œå³å­èŠ‚ç‚¹åŠ å…¥ tmpï¼›
   3. æ›´æ–°é˜Ÿåˆ—ï¼š æ‰§è¡Œ queue = tmp ï¼Œå°†ä¸‹ä¸€å±‚èŠ‚ç‚¹èµ‹å€¼ç»™ queueï¼›
   4. ç»Ÿè®¡å±‚æ•°ï¼š æ‰§è¡Œ res += 1 ï¼Œä»£è¡¨å±‚æ•°åŠ  11ï¼›
4. è¿”å›å€¼ï¼š è¿”å› res å³å¯ã€‚

å¤æ‚åº¦åˆ†æï¼š

![image-20220409170223187](lcof.assets/image-20220409170223187.png)

ä»£ç ï¼š

```java
public int maxDepth(TreeNode root) {
    if (root == null) return 0;
    Queue<TreeNode> queue = new LinkedList<>();
    queue.add(root);
    int res = 0;
    while (!queue.isEmpty()) {
        res++;
        int n = queue.size();
        for (int i = 0; i < n; i++) {
            TreeNode node = queue.poll();
            if (node.left != null) queue.add(node.left);
            if (node.right != null) queue.add(node.right);
        }
    }
    return res;
}
```

- æˆ‘å’Œç½‘å‹ï¼šè¿™ä¸ªå¾ˆåƒä»ä¸Šå¾€ä¸‹åˆ†å±‚æ‰“å°äºŒå‰æ ‘ã€‚

### [å‰‘æŒ‡ Offer 55 - II. å¹³è¡¡äºŒå‰æ ‘](https://leetcode-cn.com/problems/ping-heng-er-cha-shu-lcof/)

#### é¦–æˆ˜å‘Šæ·

```java
/**
 * Definition for a binary tree node.
 * public class TreeNode {
 *     int val;
 *     TreeNode left;
 *     TreeNode right;
 *     TreeNode(int x) { val = x; }
 * }
 */
class Solution {
    public boolean isBalanced(TreeNode root) {
        if(root==null)return true;

        //æŸ¥è¯¢æœ¬èŠ‚ç‚¹ä¸ºæ ¹çš„æ ‘ï¼Œçš„å·¦å³å­æ ‘æ·±åº¦æ˜¯å¦æ»¡è¶³å¹³è¡¡
        if(depth(root.left)-depth(root.right)>1||depth(root.left)-depth(root.right)<-1){
            return false;
        }
        //é€’å½’æŸ¥è¯¢å·¦å³å­æ ‘ä¸­æ‰€æœ‰èŠ‚ç‚¹çš„å¹³è¡¡æ€§
        return isBalanced(root.left)&&isBalanced(root.right);
    }
    public int depth(TreeNode root){//æŸ¥çœ‹æŸèŠ‚ç‚¹ä¸ºæ ¹èŠ‚ç‚¹çš„å­æ ‘çš„æ·±åº¦ã€‚ä¼šå¯¹æ¯ä¸ªèŠ‚ç‚¹æ±‚å·¦å³å­æ ‘æ·±åº¦ï¼Œå¯¼è‡´å¤§é‡é‡å¤è®¡ç®—ï¼Œæœ€å¥½æ˜¯treeæœ‰ä¸ªå­—æ®µå­˜ä¸€ä¸‹æ·±åº¦ï¼Œä½†æ˜¯è¿™åˆæ²¡æœ‰
        if(root==null)return 0;

        return Math.max(depth(root.right),depth(root.left))+1;
    }
}
```

- å¯¹æ¯ä¸ªèŠ‚ç‚¹åå¤è®¡ç®—äº†æ·±åº¦ï¼Œé‡å¤è®¡ç®—äº†ï¼›ä½†æ˜¯æ²¡æƒ³åˆ°æ›´å¥½çš„è§£æ³•ã€‚

#### å®˜æ–¹1-ååºéå† + å‰ªæ ï¼ˆä»åº•è‡³é¡¶ï¼‰

åšé¢˜å‰æï¼š

![image-20220409173300101](lcof.assets/image-20220409173300101.png)

æ€è·¯ï¼š

> ååºéå† + å‰ªæ ï¼ˆä»åº•è‡³é¡¶ï¼‰ä¸ºæ­¤æ–¹æ³•ä¸ºæœ¬é¢˜çš„æœ€ä¼˜è§£æ³•ï¼Œä½†å‰ªæçš„æ–¹æ³•ä¸æ˜“ç¬¬ä¸€æ—¶é—´æƒ³åˆ°ã€‚

æ€è·¯æ˜¯å¯¹äºŒå‰æ ‘åšååºéå†ï¼Œä»åº•è‡³é¡¶è¿”å›å­æ ‘æ·±åº¦ï¼Œè‹¥åˆ¤å®šæŸå­æ ‘ä¸æ˜¯å¹³è¡¡æ ‘åˆ™ â€œå‰ªæâ€ ï¼Œç›´æ¥å‘ä¸Šè¿”å›ã€‚

ç®—æ³•æµç¨‹ï¼š

![image-20220409173850610](lcof.assets/image-20220409173850610.png)

å¤æ‚åº¦åˆ†æï¼š

![image-20220409174009514](lcof.assets/image-20220409174009514.png)

ä»£ç ï¼š

```java
class Solution {
    public boolean isBalanced(TreeNode root) {
        return recur(root) != -1;
    }

    private int recur(TreeNode root) {
        if (root == null) return 0;
        int left = recur(root.left);
        if(left == -1) return -1;
        int right = recur(root.right);
        if(right == -1) return -1;
        return Math.abs(left - right) < 2 ? Math.max(left, right) + 1 : -1;
    }
}
```

- å­¦ä¹ å‰ªææ€æƒ³ã€‚ç”¨è¿”å›å€¼ä¸º-1å‰ªææ˜¯æ²¡æƒ³åˆ°çš„ï¼›è‡ªå·±å†™çš„æ—¶å€™ä¸€ç›´æƒ³åœ¨æ ‘èŠ‚ç‚¹å¤„è®°å½•ä¿¡æ¯ï¼Œåœ¨é€’å½’æŸ¥è¯¢çš„æ—¶å€™æŸ¥è¯¢èŠ‚ç‚¹çš„å†å²è®°å½•æ¥å‰ªæã€‚
- æˆ‘è®¤ä¸ºæ€æƒ³ï¼šæ±‚æ·±åº¦çš„å‡½æ•°ï¼Œä¸å•å•æ˜¯æ±‚æ·±åº¦äº†ï¼Œåœ¨æ±‚æ¯ä¸ªèŠ‚ç‚¹çš„æ·±åº¦æ—¶ï¼Œè¿˜ä¼šæ±‚å·²æœ¬èŠ‚ç‚¹ä¸ºé¡¶ç‚¹çš„äºŒå‰æ ‘æ˜¯å¦ä¸ºå®Œå…¨äºŒå‰æ ‘ã€‚

#### å®˜æ–¹2-å…ˆåºéå† + åˆ¤æ–­æ·±åº¦ ï¼ˆä»é¡¶è‡³åº•ï¼‰

> æ­¤æ–¹æ³•(å°±æ˜¯æˆ‘çš„ç®—æ³•)å®¹æ˜“æƒ³åˆ°ï¼Œä½†ä¼šäº§ç”Ÿå¤§é‡é‡å¤è®¡ç®—ï¼Œæ—¶é—´å¤æ‚åº¦è¾ƒé«˜ã€‚

æ€è·¯æ˜¯æ„é€ ä¸€ä¸ªè·å–å½“å‰å­æ ‘çš„æ·±åº¦çš„å‡½æ•° depth(root) ï¼ˆå³ é¢è¯•é¢˜55 - I. äºŒå‰æ ‘çš„æ·±åº¦ ï¼‰ï¼Œé€šè¿‡æ¯”è¾ƒæŸå­æ ‘çš„å·¦å³å­æ ‘çš„æ·±åº¦å·® abs(depth(root.left) - depth(root.right)) <= 1 æ˜¯å¦æˆç«‹ï¼Œæ¥åˆ¤æ–­æŸå­æ ‘æ˜¯å¦æ˜¯äºŒå‰å¹³è¡¡æ ‘ã€‚è‹¥æ‰€æœ‰å­æ ‘éƒ½å¹³è¡¡ï¼Œåˆ™æ­¤æ ‘å¹³è¡¡ã€‚

ç®—æ³•æµç¨‹ï¼š

![image-20220409174524696](lcof.assets/image-20220409174524696.png)

å¤æ‚åº¦åˆ†æï¼š

![image-20220409174554930](lcof.assets/image-20220409174554930.png)

ä»£ç ï¼š

```java
class Solution {
    public boolean isBalanced(TreeNode root) {
        if (root == null) return true;
        return Math.abs(depth(root.left) - depth(root.right)) <= 1 && isBalanced(root.left) && isBalanced(root.right);
    }

    private int depth(TreeNode root) {
        if (root == null) return 0;
        return Math.max(depth(root.left), depth(root.right)) + 1;
    }
}
```

### [å‰‘æŒ‡ Offer 64. æ±‚1+2+â€¦+n](https://leetcode-cn.com/problems/qiu-12n-lcof/)

#### é¦–æˆ˜å¯„

æ²¡æ€è·¯ï¼›å¹¶ä¸”codetopæ˜¾ç¤ºè¿™é“é¢˜å°±å‡ºç°è¿‡2æ¬¡ï¼Œè¯´æ˜ä¸æ˜¯è€ƒå¯Ÿç‚¹ï¼›è¿™é¢˜ç›®è¿˜æœ‰ä¸ªâ€œè„‘ç­‹æ€¥è½¬å¼¯â€çš„æ ‡ç­¾ã€‚ã€‚

#### å®˜æ–¹-é€»è¾‘ç¬¦çŸ­è·¯

è§£é¢˜æ€è·¯ï¼š

![image-20220409192607863](lcof.assets/image-20220409192607863.png)

æ–¹æ³•ä¸€ï¼š å¹³å‡è®¡ç®—

![image-20220409192632853](lcof.assets/image-20220409192632853.png)

æ–¹æ³•äºŒï¼š è¿­ä»£

![image-20220409192654183](lcof.assets/image-20220409192654183.png)

æ–¹æ³•ä¸‰ï¼š é€’å½’

![image-20220409192805645](lcof.assets/image-20220409192805645.png)

![Picture1.png](lcof.assets/2d25bb3aec987712b717f7954d93494beb0a3e352acee486b3ce58bce60ee07c-Picture1.png)

é€»è¾‘è¿ç®—ç¬¦çš„çŸ­è·¯æ•ˆåº”ï¼š

![image-20220409193031359](lcof.assets/image-20220409193031359.png)

å¤æ‚åº¦åˆ†æï¼š

![image-20220409193047238](lcof.assets/image-20220409193047238.png)

ä»£ç ï¼š

![image-20220409193156424](lcof.assets/image-20220409193156424.png)

```java
class Solution {
    int res = 0;
    public int sumNums(int n) {
        boolean x = n > 1 && sumNums(n - 1) > 0;
        res += n;
        return res;
    }
}
```

#### å³æ—¶å†æˆ˜æˆåŠŸ

```java
class Solution {
    int res=0;
    public int sumNums(int n) {
        //n==1çš„æ—¶å€™ç»ˆæ­¢é€’å½’ï¼Œå¼€å§‹é€€æ ˆ
        boolean x=n>1&&sumNums(n-1)>0;
        res+=n;
        return res;
    }
}
```

### [å‰‘æŒ‡ Offer 68 - I. äºŒå‰æœç´¢æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ](https://leetcode-cn.com/problems/er-cha-sou-suo-shu-de-zui-jin-gong-gong-zu-xian-lcof/)

#### é¦–æˆ˜å‘Šæ·

```java
/**
 * Definition for a binary tree node.
 * public class TreeNode {
 *     int val;
 *     TreeNode left;
 *     TreeNode right;
 *     TreeNode(int x) { val = x; }
 * }
 */
class Solution {
    //å…¨å±€å˜é‡ä¿å­˜ç»“æœ
    TreeNode result=null;
    public TreeNode lowestCommonAncestor(TreeNode root, TreeNode p, TreeNode q) {
        /**
        ååºéå†ï¼Œå…ˆæ‹¿åˆ°å·¦å³å­æ ‘æ˜¯å¦æœ‰ç»™å®šèŠ‚ç‚¹ï¼›å†çœ‹æœ¬èŠ‚ç‚¹æ˜¯å¦æœ‰ç»™å®šèŠ‚ç‚¹ï¼›ç„¶åå‰ªæè¿”å›
         */
        //å¤„ç†ç‰¹æ®Šæƒ…å†µ
        if(root==null)return null;
        
        //æ·±åº¦é€’å½’ï¼ŒæŸ¥æ‰¾å…¬å…±ç¥–å…ˆ
        recur(root,p,q);

        //recurè¿‡åç›®æ ‡èŠ‚ç‚¹ä¿å­˜åœ¨resultä¸­ï¼Œç›´æ¥è¿”å›
        return result;
    }
    public boolean recur(TreeNode root, TreeNode p, TreeNode q){
        //å¤„ç†è¿”å›æ¡ä»¶ã€‚åªè¦æœ¬èŠ‚ç‚¹åŒ…å«ç›®æ ‡èŠ‚ç‚¹ï¼Œå°±ç»™ä¸Šå±‚é€’å½’è¿”å›trueï¼›æ³¨æ„root==pæˆ–qçš„æ—¶å€™ä¸èƒ½ç›´æ¥è¿”å›trueï¼Œå› ä¸ºè¦å¯¹ä»–åšå…¬å…±ç¥–å…ˆçš„åˆ¤æ–­
        if(root==null)return false;
        // else if(root==p)return true;
        // else if(root==q)return true;

        if(result!=null){//å‰ªæã€‚é˜²æ­¢å¾—åˆ°ç»“æœåè¿˜ä¸åœé€’å½’ã€‚è¿™ç§ä¸€ä¸ªifæ²¡elseçš„å‰ªæåˆ¤æ–­æ„Ÿè§‰å¯è¯»æ€§è¾ƒå¥½
            return false;
        }

        //ååºéå†
        boolean left=recur(root.left,p,q);
        boolean right=recur(root.right,p,q);
        
        //å¦‚æœå·¦å³å­æ ‘+æœ¬èŠ‚ç‚¹ä¸­åŒ…å«äº†ä¸¤ä¸ªç›®æ ‡èŠ‚ç‚¹ï¼Œè¯´æ˜å½“å‰èŠ‚ç‚¹å°±æ˜¯å…¬å…±ç¥–å…ˆï¼Œä¿å­˜å½“å‰èŠ‚ç‚¹
        if((left&&right)||(left&&root==p)||(left&&root==q)||(right&&root==p)||(right&&root==q)){
            //System.out.println("æ‰¾åˆ°rootä¸ºï¼š"+root.val);
            result=root;
            return false;
        }

        //å¦‚æœå·¦å³å­æ ‘+æœ¬èŠ‚ç‚¹ä¸­åŒ…å«äº†ä¸€ä¸ªç›®æ ‡èŠ‚ç‚¹ï¼Œè¿”å›trueã€‚å¦‚æœåŒ…å«äº†ä¸¤ä¸ªï¼Œåœ¨ä¸Šé¢ä¸€ä¸ªåˆ¤æ–­å°±ä¼šè¿”å›äº†
        if(left||right||root==p||root==q)return true;

        //å¦‚æœå·¦å³å­æ ‘éƒ½ä¸åŒ…å«ç›®æ ‡èŠ‚ç‚¹ï¼Œå½“å‰èŠ‚ç‚¹ä¹Ÿä¸æ˜¯ç›®æ ‡èŠ‚ç‚¹ï¼Œè¿”å›falseã€‚å¦‚æœåŒ…å«ä¸¤ä¸ªæˆ–1ä¸ªï¼Œåœ¨ä¸Šé¢çš„ä¸¤ä¸ªåˆ¤æ–­ä¹‹ä¸€å°±ä¼šè¿”å›äº†
        return false;
    }
}
```

- æˆ‘è¿™ç”±åº•å‘é¡¶çš„ï¼Œdfsåç»­éå†é€’å½’å¤„ç†ï¼Œæ²¡æœ‰åšé‡å¤åˆ¤æ–­ï¼Œæ•ˆç‡åº”è¯¥è¿˜è¡Œã€‚ä½†æ˜¯æˆ‘æ„Ÿè§‰ä¸‰ä¸ªifçš„åˆ¤æ–­è¯­å¥é‚£å¯ä»¥ä¼˜åŒ–ï¼Œæ¯”å¦‚ç”¨if(root==q||root==p)å¥—ifï¼Œè¿™æ ·å¯ä»¥å‡å°‘ä¸å¿…è¦çš„åˆ¤æ–­ï¼›ä½†æ˜¯å¯è¯»æ€§ä¼šç¨å·®ï¼Œæ¯•ç«Ÿå°±ä¸æ˜¯å¹¶è¡Œçš„ä¸‰ä¸ªåˆ¤æ–­äº†

- å€’æ•°çš„ä¸‰ä¸ªåˆ¤æ–­çš„è¿™ç§é¡ºåºå¯ä»¥å‚è€ƒï¼š
  1. å…ˆæ”¾å‡ºç°å¤šç§æƒ…å†µçš„
  2. å†æ”¾åªå‡ºç°ä¸€ç§æƒ…å†µçš„ï¼ˆæ­¤æ—¶å°±ä¸åœ¨éœ€è¦åˆ¤æ–­å¤šç§æƒ…å†µï¼‰
  3. å†æ”¾ä¸€ç§æƒ…å†µéƒ½ä¸å‡ºç°çš„ï¼ˆæ­¤æ—¶ç”šè‡³éƒ½ä¸éœ€è¦åšåˆ¤æ–­ï¼‰
- åæ€ï¼š
  - æ²¡è®¤çœŸçœ‹é¢˜ç›®ï¼Œï¼Œæ²¡ç”¨ä¸Šâ€œäºŒå‰æœç´¢æ ‘â€çš„æ¡ä»¶ï¼Œå½“æ™®é€šæ ‘å¤„ç†äº†ã€‚

#### å®˜æ–¹1-è¿­ä»£

è§£é¢˜æ€è·¯ï¼š

![image-20220410175623459](lcof.assets/image-20220410175623459.png)

![image-20220410175707490](lcof.assets/image-20220410175707490.png)

è¿­ä»£çš„åšæ³•ï¼š

![image-20220410175729876](lcof.assets/image-20220410175729876.png)

å¤æ‚åº¦åˆ†æï¼š

![image-20220410175815304](lcof.assets/image-20220410175815304.png)

ä»£ç ï¼š

```java
class Solution {
    public TreeNode lowestCommonAncestor(TreeNode root, TreeNode p, TreeNode q) {
        while(root != null) {
            if(root.val < p.val && root.val < q.val) // p,q éƒ½åœ¨ root çš„å³å­æ ‘ä¸­
                root = root.right; // éå†è‡³å³å­èŠ‚ç‚¹
            else if(root.val > p.val && root.val > q.val) // p,q éƒ½åœ¨ root çš„å·¦å­æ ‘ä¸­
                root = root.left; // éå†è‡³å·¦å­èŠ‚ç‚¹
            else break;
        }
        return root;
    }
}
```

- æˆ‘ï¼šbreakçš„æƒ…å†µï¼Œæ­£å¥½æ˜¯å½“å‰èŠ‚ç‚¹ä¸ºpqçš„æœ€è¿‘å…¬å…±ç¥–å…ˆçš„æƒ…å†µ

ä»£ç ä¼˜åŒ–ï¼Œè‹¥å¯ä¿è¯ p.val < q.val ï¼Œåˆ™åœ¨å¾ªç¯ä¸­å¯å‡å°‘åˆ¤æ–­æ¡ä»¶ï¼š

```java
class Solution {
    public TreeNode lowestCommonAncestor(TreeNode root, TreeNode p, TreeNode q) {
        if(p.val > q.val) { // ä¿è¯ p.val < q.val
            TreeNode tmp = p;
            p = q;
            q = tmp;
        }
        while(root != null) {
            if(root.val < p.val) // p,q éƒ½åœ¨ root çš„å³å­æ ‘ä¸­
                root = root.right; // éå†è‡³å³å­èŠ‚ç‚¹
            else if(root.val > q.val) // p,q éƒ½åœ¨ root çš„å·¦å­æ ‘ä¸­
                root = root.left; // éå†è‡³å·¦å­èŠ‚ç‚¹
            else break;
        }
        return root;
    }
}
```

#### å®˜æ–¹2-é€’å½’

é€’å½’æ€è·¯ï¼š

![image-20220410180944663](lcof.assets/image-20220410180944663.png)

å¤æ‚åº¦åˆ†æï¼š

![image-20220410181003714](lcof.assets/image-20220410181003714.png)

ä»£ç ï¼š

```java
class Solution {
    public TreeNode lowestCommonAncestor(TreeNode root, TreeNode p, TreeNode q) {
        if(root.val < p.val && root.val < q.val)
            return lowestCommonAncestor(root.right, p, q);
        if(root.val > p.val && root.val > q.val)
            return lowestCommonAncestor(root.left, p, q);
        return root;
    }
}
```

- æ ¸å¿ƒï¼šæŠ“ä½äºŒå‰æœç´¢æ ‘çš„ç‰¹æ€§ï¼

### [å‰‘æŒ‡ Offer 68 - II. äºŒå‰æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ](https://leetcode-cn.com/problems/er-cha-shu-de-zui-jin-gong-gong-zu-xian-lcof/)

#### é¦–æˆ˜å‘Šæ·

ç›´æ¥ä½¿ç”¨â€œå‰‘æŒ‡ Offer 68 - I. äºŒå‰æœç´¢æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆâ€ä¸­â€œé¦–æˆ˜å‘Šæ·â€çš„æ–¹æ³•å³å¯

## åˆ†æ²»ç®—æ³•(ä¸­ç­‰)

### [å‰‘æŒ‡ Offer 07. é‡å»ºäºŒå‰æ ‘](https://leetcode-cn.com/problems/zhong-jian-er-cha-shu-lcof/)

#### é¦–æˆ˜å¯„

èƒ½ç”¨ç¬”å®ç°å‡ºæ¥ï¼Œä½†æ˜¯ç”¨ç®—æ³•å®ç°æ²¡æœ‰æ€è·¯ã€‚

#### å®˜æ–¹-åˆ†æ²»

[æ–‡å­—çœ‹ä¸æ‡‚çš„è¯ï¼Œå¯ä»¥çœ‹è¿™ä¸ªè®²è§£è§†é¢‘](https://www.bilibili.com/video/BV1LJ411y7Xa?from=search&seid=7337447768713066113&spm_id_from=333.337.0.0)ï¼Œçœ‹å®Œè§†é¢‘åå†çœ‹ä¸‹é¢çš„è§£æå’Œä»£ç ã€‚

è§£é¢˜æ€è·¯ï¼š

![image-20220411200426772](lcof.assets/image-20220411200426772.png)

![image-20220411200437879](lcof.assets/image-20220411200437879.png)

åˆ†æ²»ç®—æ³•è§£æï¼š

![image-20220411200501485](lcof.assets/image-20220411200501485.png)

å¤æ‚åº¦åˆ†æï¼š

![image-20220411200517480](lcof.assets/image-20220411200517480.png)

ä»£ç ï¼š

> æ³¨æ„ï¼šæœ¬æ–‡æ–¹æ³•åªé€‚ç”¨äº â€œæ— é‡å¤èŠ‚ç‚¹å€¼â€ çš„äºŒå‰æ ‘ã€‚

```java
 //åˆ©ç”¨åŸç†,å…ˆåºéå†çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹å°±æ˜¯æ ¹ã€‚åœ¨ä¸­åºéå†ä¸­é€šè¿‡æ ¹ åŒºåˆ†å“ªäº›æ˜¯å·¦å­æ ‘çš„ï¼Œå“ªäº›æ˜¯å³å­æ ‘çš„
    //å·¦å³å­æ ‘ï¼Œé€’å½’
    HashMap<Integer, Integer> map = new HashMap<>();//æ ‡è®°ä¸­åºéå†
    int[] preorder;//ä¿ç•™çš„å…ˆåºéå†

    public TreeNode buildTree(int[] preorder, int[] inorder) {
        this.preorder = preorder;
        for (int i = 0; i < preorder.length; i++) {
            map.put(inorder[i], i);
        }
        return recursive(0,0,inorder.length-1);
    }

    /**
     * @param pre_root_idx  å…ˆåºéå†çš„ç´¢å¼•
     * @param in_left_idx  ä¸­åºéå†çš„ç´¢å¼•
     * @param in_right_idx ä¸­åºéå†çš„ç´¢å¼•
     */
    public TreeNode recursive(int pre_root_idx, int in_left_idx, int in_right_idx) {
        //ç›¸ç­‰å°±æ˜¯è‡ªå·±
        if (in_left_idx > in_right_idx) {
            return null;
        }
        //root_idxæ˜¯åœ¨å…ˆåºé‡Œé¢çš„
        TreeNode root = new TreeNode(preorder[pre_root_idx]);
        // æœ‰äº†å…ˆåºçš„,å†æ ¹æ®å…ˆåºçš„ï¼Œåœ¨ä¸­åºä¸­è· å½“å‰æ ¹çš„ç´¢å¼•
        int idx = map.get(preorder[pre_root_idx]);

        //å·¦å­æ ‘çš„æ ¹èŠ‚ç‚¹å°±æ˜¯ å·¦å­æ ‘çš„(å‰åºéå†ï¼‰ç¬¬ä¸€ä¸ªï¼Œå°±æ˜¯+1,å·¦è¾¹è¾¹ç•Œå°±æ˜¯leftï¼Œå³è¾¹è¾¹ç•Œæ˜¯ä¸­é—´åŒºåˆ†çš„idx-1
        root.left = recursive(pre_root_idx + 1, in_left_idx, idx - 1);

        //ç”±æ ¹èŠ‚ç‚¹åœ¨ä¸­åºéå†çš„idx åŒºåˆ†æˆ2æ®µ,idx å°±æ˜¯æ ¹

        //å³å­æ ‘çš„æ ¹ï¼Œå°±æ˜¯å³å­æ ‘ï¼ˆå‰åºéå†ï¼‰çš„ç¬¬ä¸€ä¸ª,å°±æ˜¯å½“å‰æ ¹èŠ‚ç‚¹ åŠ ä¸Šå·¦å­æ ‘çš„æ•°é‡
        // pre_root_idx å½“å‰çš„æ ¹  å·¦å­æ ‘çš„é•¿åº¦ = å·¦å­æ ‘çš„å·¦è¾¹-å³è¾¹ (idx-1 - in_left_idx +1) ã€‚æœ€å+1å°±æ˜¯å³å­æ ‘çš„æ ¹äº†
        root.right = recursive(pre_root_idx + (idx-1 - in_left_idx +1)  + 1, idx + 1, in_right_idx);
        return root;
    }
```

- æˆ‘ç†è§£ï¼šç”¨hashå…³è”ä¸­åºçš„å€¼å’Œindexï¼Œæ˜¯ä¸ºäº†æ ¹æ®å…ˆåºçš„rootå€¼ï¼Œæ±‚å¾—rootåœ¨ä¸­åºä¸­çš„indexï¼›è¿›è€Œæ ¹æ®ä¸­åºä¸­rootçš„indexï¼Œå¾—åˆ°rootçš„å·¦å³å­æ ‘å…ƒç´ çš„ä¸ªæ•°ã€‚å› ä¸ºæ— è®ºæ˜¯ä¸­åºè¿˜æ˜¯å…ˆåºæ•°ç»„ï¼Œå·¦/å³å­æ ‘çš„æ‰€æœ‰èŠ‚ç‚¹éƒ½æ˜¯ç´§è´´åœ¨ä¸€èµ·çš„ï¼›è€Œä¸­åºéå†çš„ç‰¹ç‚¹å°±æ˜¯rootèƒ½åˆ†å‰²å·¦å³å­æ ‘ï¼Œç‰¹åˆ«é€‚åˆç”¨æ¥åˆ¤æ–­æ•°ç»„ä¸­å·¦/å³å­æ ‘çš„å…ƒç´ çš„ä¸ªæ•°ã€‚

#### å³æ—¶å†æˆ˜æˆåŠŸ

```java
/**
 * Definition for a binary tree node.
 * public class TreeNode {
 *     int val;
 *     TreeNode left;
 *     TreeNode right;
 *     TreeNode(int x) { val = x; }
 * }
 */
class Solution {
    int[] pre;
    Map<Integer,Integer> in=new HashMap<>();
    public TreeNode buildTree(int[] preorder, int[] inorder) {
        /**
        åˆ©ç”¨ç‰¹æ€§ï¼š
        1.å…ˆåºéå†çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ä¸ºå½“å‰æ ‘çš„rootï¼›
        2.ä¸­åºä¸­rootåˆ†å‰²å·¦å³å­æ ‘ï¼Œå¯ä»¥æ±‚å¾—å·¦orå³å­æ ‘åˆ†åˆ«æœ‰å¤šå°‘ä¸ªå…ƒç´ 
        
        æœ¬è§£æ³•çš„å‰ææ˜¯æ ‘ä¸­å…ƒç´ éƒ½ä¸å”¯ä¸€
         */

        //å¤„ç†ç‰¹æ®Šæƒ…å†µ
        if(preorder.length==0)return null;

        //ä¸ºäº†åœ¨é€’å½’ä¸­ä½¿ç”¨preorderæ•°ç»„ï¼Œå¹¶ä¸”ä¸å¿…å¾€æ–¹æ³•ä¼ å…¥preorderæ•°ç»„ï¼Œè¿™é‡Œç”¨å…¨å±€å˜é‡ä¿å­˜preorderæ•°ç»„
        pre=preorder;
        //æŠŠinorderä¸­å…ƒç´ å’Œindexç”¨hashå…³è”èµ·æ¥ï¼›ä¾¿äºåç»­æ ¹æ®rootå€¼æ±‚å¾—å·¦å³å­æ ‘çš„å…ƒç´ æ•°ç›®
        for(int i=0;i<inorder.length;i++){
            in.put(inorder[i],i);
        }

        //é€’å½’ï¼Œ æ ¹æ®preä¸­rootçš„index å’Œ inä¸­æ ‘çš„å·¦å³è¾¹ç•Œï¼Œæ„å»ºæ ‘å¹¶è¿”å›æ ¹èŠ‚ç‚¹
        return recur(0,0,inorder.length-1);
    }
    public TreeNode recur(int pre_root_idx, int in_left_idx, int in_right_idx){
        //è®¾ç½®é€’å½’è¿”å›æ¡ä»¶ï¼Œin_left_idxå’Œin_right_idxäº¤å‰æ—¶è¯´æ˜å­æ ‘æ˜¯ç©ºèŠ‚ç‚¹äº†ï¼Œç›´æ¥è¿”å›null
        if(in_left_idx>in_right_idx)return null;

        //å…ˆåˆ©ç”¨pre_root_indexæ‹¿åˆ°rootçš„å€¼
        int rootValue=pre[pre_root_idx];
        //å†æ ¹æ®rootçš„å€¼å¾—åˆ°ä¸­åºéå†æ•°ç»„ä¸­ï¼Œrootçš„ä½ç½®
        int in_root_index=in.get(rootValue);

        //åˆ›å»ºå½“å‰èŠ‚ç‚¹
        TreeNode cur=new TreeNode(rootValue);

        /*
        é€’å½’åˆ›å»ºå½“å‰èŠ‚ç‚¹çš„å·¦å³å­èŠ‚ç‚¹ï¼š
        1.æ ¹æ®å…ˆåºéå†æ•°ç»„çš„ç‰¹ç‚¹å¯çŸ¥ï¼Œå·¦å­èŠ‚ç‚¹çš„pre_root_idxå³ä¸ºå½“å‰pre_root_idx+1ï¼Œå³å­èŠ‚ç‚¹çš„pre_root_idxå³ä¸ºå½“å‰pre_root_idx+å·¦å­æ ‘èŠ‚ç‚¹ä¸ªæ•°+1(åŠ 1æ˜¯ä¸ºäº†è¶Šè¿‡å·¦å­æ ‘è€Œåˆ°è¾¾å³å­æ ‘)
        2.æ ¹æ®ä¸­åºéå†æ•°ç»„çš„ç‰¹ç‚¹å¯çŸ¥ï¼Œä¸­åºéå†ä¸­ï¼Œå·¦å­æ ‘çš„å·¦è¾¹ç•Œä¸ºin_left_idxï¼Œå·¦å­æ ‘çš„å³è¾¹ç•Œä¸ºin_root_index-1;
                                                  å³å­æ ‘çš„å·¦è¾¹ç•Œä¸ºin_root_index+1ï¼Œå³å­æ ‘çš„å³è¾¹ç•Œä¸ºin_right_idx
         */
        cur.left=recur(pre_root_idx+1,in_left_idx,in_root_index-1);
        cur.right=recur(pre_root_idx+(in_root_index-in_left_idx)+1,in_root_index+1,in_right_idx);

        return cur;
    }
}
```

- æˆ‘ï¼šæˆ‘æ„Ÿè§‰æˆ‘è¿™ä¸ªä»£ç çš„å‘½åå’Œç¼–å†™ï¼Œæ­é…æ³¨é‡Šï¼Œæ¯”å®˜æ–¹è¿˜è¦å®¹æ˜“ç†è§£ã€‚

- æ³¨æ„ï¼šå¯ä»¥å¦‚æœ¬ä¾‹`pre=preorder;`ï¼Œç›´æ¥å¯¹æ•°ç»„å¢åŠ å¼•ç”¨ã€‚

### [å‰‘æŒ‡ Offer 16. æ•°å€¼çš„æ•´æ•°æ¬¡æ–¹](https://leetcode-cn.com/problems/shu-zhi-de-zheng-shu-ci-fang-lcof/)

#### é¦–æˆ˜åŠå¯„

```java
class Solution {
    public double myPow(double x, int n) {
        /**
        å¯¹nåˆ†ç±»è®¨è®ºï¼ŒåŒæ—¶æ³¨æ„åˆ†æ¯ä¸º0çš„æƒ…å†µ
         */
        //é’ˆå¯¹xå¤„ç†ç‰¹æ®Šæƒ…å†µï¼Œå‡å°‘è®¡ç®—
        if(x==1)return 1;
        if(x==0)return 0;
        
        if(n>0){
            double stordX=x;//æ³¨æ„xæ˜¯doubleç±»å‹ï¼Œä¿å­˜çš„xä¹Ÿå¾—æ˜¯å£°æ˜ä¸ºdouble
            for(int i=0;i<n-1;i++){//æŒ‡æ•°æ˜¯nçš„è¯ï¼Œxè‡ªä¹˜n-1æ¬¡ã€‚æ³¨æ„æ˜¯n-1æ¬¡ï¼ï¼ï¼ï¼
                //ä½†æ˜¯ä¸èƒ½ä½¿ç”¨x*=x;è¿™å›å¯¼è‡´ï¼šç¬¬ä¸€æ¬¡è®¡ç®—æ˜¯n*nï¼Œç¬¬äºŒæ¬¡è®¡ç®—å®é™…ä¸Šæ˜¯(nçš„å¹³æ–¹)*(nçš„å¹³æ–¹)äº†
                x*=stordX;
            }
            return x;
        }else if(n<0){
            if(x==0){//0ä¸èƒ½åšåˆ†æ¯
                return 0;
            }
            double stordX=x;
            for(int i=n;i<0;i++){//æŒ‡æ•°æ˜¯-nçš„è¯ï¼Œç”¨1é™¤ä»¥xè¿›è¡Œnæ¬¡
                //x=1/x;ä¸èƒ½ç›´æ¥1/xï¼Œå› ä¸ºç¬¬ä¸€æ¬¡é™¤åä¸º1/xï¼Œå†ç”¨1/(1/x)é‚£ä¹ˆåˆå¾—åˆ°äº†xã€‚ã€‚
                if(i==n){//ç¬¬ä¸€æ¬¡æ˜¯1/xï¼Œå…¶ä»–çš„éƒ½æ˜¯ä¹‹å‰çš„ç»“æœé™¤ä»¥x
                    x=1/x;
                }else{
                    x=x/stordX;
                } 
            }
            return x;
        }else{//æŒ‡æ•°n==0ï¼Œç›´æ¥è¿”å›1å³å¯
            return 1;
        }

    }
}
```

- ç”¨å¸¸è§„æ€è·¯åšçš„ï¼Œé€šè¿‡äº†301/303ä¸ªæµ‹è¯•æ¡ˆä¾‹ï¼Œä½†æ˜¯2.00000çš„ -2147483648æ¬¡æ–¹è®¡ç®—è¶…æ—¶äº†ã€‚
- åæ€ï¼š
  - n>0æ—¶ï¼Œæ²¡ç”¨å¿ƒï¼Œæœ€å¼€å§‹åšæˆäº†æŒ‡æ•°ä¸ºnå°±è‡ªä¹˜næ¬¡ï¼Œå®é™…ä¸Šæ˜¯è‡ªä¹˜n-1æ¬¡ã€‚
  - n<0æ—¶ï¼Œæ²¡ç”¨å¿ƒï¼Œæœ€å¼€å§‹åšæˆäº†æŒ‡æ•°ä¸ºnå°±ä¸åœè®©x=1/xï¼Œä½†æ˜¯è¿™æ ·ç›¸å½“äºæ€»æ˜¯æŠŠ1æ”¾åœ¨åˆ†å­ï¼Œè€Œå®é™…ä¸Šåº”è¯¥æŠŠé™¤åçš„ç»“æœæ”¾åœ¨åˆ†å­ã€‚
  - ä¹‹å‰è®¡ç®—æ—¶ï¼Œæ²¡æŠŠxä¿ç•™ä¸‹æ¥ï¼Œå¯¼è‡´æ¯æ¬¡éƒ½ä¼šæŠŠè®¡ç®—åçš„xå½“æˆåŸxï¼Œå¯¼è‡´é”™è¯¯ã€‚

#### å¤§ä½¬-å¿«é€Ÿå¹‚

å®˜æ–¹çš„è§£é‡Šçš„ä¸æ¸…æ¥šï¼Œå°±ç”¨å¤§ä½¬çš„ã€‚

è§£é¢˜æ€è·¯ï¼š

![image-20220411180036705](lcof.assets/image-20220411180036705.png)

[çŸ¥ä¹å¿«é€Ÿå¹‚](https://zhuanlan.zhihu.com/p/95902286)ï¼š

- æˆ‘ç†è§£ï¼šå°±ä¸è®©cpuæ¯æ¬¡ä¹˜ä¸€ä¸ªå°æ•°ï¼Œè€Œæ˜¯å…ˆä¹˜å¾—ä¸€ä¸ªå¤§æ•°ï¼Œç„¶åä¸¤ä¸ªå¤§æ•°ç›¸ä¹˜ï¼Œè¿™æ ·å°±å‡å°‘äº†ä¹˜æ³•çš„æ¬¡æ•°ã€‚

ä½è¿ç®—ä½¿ç”¨ï¼š

![image-20220411184903746](lcof.assets/image-20220411184903746.png)

æˆ‘ç†è§£ï¼š

![image-20220411183243537](lcof.assets/image-20220411183243537.png)

ä»£ç ï¼š

```java
class Solution {
    public double myPow(double x, int n) {
        if(x == 0) return 0;
        long b = n;
        double res = 1.0;
        //å¦‚æœå¹‚æ˜¯è´Ÿæ•°ï¼Œå°±æŠŠå®ƒè½¬åŒ–ä¸ºæ­£æ•°æ¥å¤„ç†
        if(b < 0) {
            x = 1 / x;
            b = -b;
        }
        while(b > 0){
            // æœ€åä¸€ä½ä¸º1ï¼Œéœ€è¦ä¹˜ä¸Šè¯¥ä½ä¸Šçš„æƒé‡
            if((b & 1) == 1){
                res *= x;
            }
            x *= x;
            b >>= 1;
        }
        return res;
    }
}
```

- ç½‘å‹é—®ï¼šä¸ºä»€ä¹ˆè¦æŠŠå…¶ä¸­çš„næ¢æˆlongç±»å‹ï¼Ÿ
  - ç½‘å‹ç­”ï¼šå› ä¸º32ä½intæ˜¯è¡¥ç å½¢å¼ï¼Œæ­£æ•°æ˜¯å’ŒåŸç ç›¸åŒï¼ŒèŒƒå›´æ˜¯0åˆ°2çš„31æ¬¡æ–¹-1ï¼Œä½†æ˜¯å¯¹äºè´Ÿæ•°ï¼Œéœ€è¦åç +1ï¼ŒèŒƒå›´æ˜¯è´Ÿ2çš„31æ¬¡æ–¹åˆ°0ï¼Œè´Ÿæ•°è¦æ¯”æ­£æ•°å¤šä¸€ä¸ªæ•°å­—ã€‚å¦‚æœä¼ è¿›æ¥çš„intåˆšå¥½æ˜¯è´Ÿ2çš„32æ¬¡æ–¹ï¼Œå–ç›¸åæ•°ä¹‹åå°±è¶…è¿‡int32ç±»å‹çš„å–å€¼èŒƒå›´äº†ï¼Œæ‰€ä»¥éœ€è¦ç”¨longæ¥æ‰©å¤§å–å€¼èŒƒå›´ã€‚ä¸å¥½æ„æ€å•Šï¼Œè¯„è®ºåŒºæ•°å­¦å…¬å¼ä¸å¤ªå¥½æ‰“ã€‚
  - æ³¨æ„ï¼šæœ‰ç¬¦å·çš„è¯æœ‰ä¸ªç¬¦å·ç«™ä½ï¼Œå°±çº§æ•°æ˜¯2çš„31æ¬¡æ–¹ï¼›å¦‚æœæ²¡æœ‰æ­£è´Ÿå·ï¼Œå°±æ‰€æœ‰ä½éƒ½ç”¨æ¥ä¿å­˜æ•°å­—ï¼Œçº§æ•°å°±ä¸º2çš„32æ¬¡æ–¹ã€‚

#### å³æ—¶å†æˆ˜æˆåŠŸ

```java
class Solution {
    public double myPow(double x, int n) {
        /**
        ä½¿ç”¨å¿«é€Ÿå¹‚ï¼Œå°½é‡è®©å¤§æ•°ç›¸ä¹˜ï¼Œä¸è¦è®©å°æ•°ç›¸ä¹˜å ç”¨CPU
         */
        //ç‰¹æ®Šæƒ…å†µå¤„ç†
        if(x==0)return 0;
        
        //ç”¨äºè¿”å›ç»“æœï¼Œéœ€è¦çš„è‡ªä¹˜çš„xçš„ç»“æœä¼šè¢«ä¹˜å…¥res
        double res=1;
        
        //nä¸ºè´Ÿæ•°çš„æ—¶å€™ï¼ŒæŠŠå®ƒè½¬æ¢ä¸ºæ­£æ•°çš„é—®é¢˜æ¥å¤„ç†
        long b=n;//å› ä¸ºè´Ÿæ•°çš„ç»å¯¹å€¼æ›´å¤§ï¼Œä¸ºäº†é˜²æ­¢è´Ÿæ•°å˜æˆæ­£æ•°é—®é¢˜æ—¶è¶…è¿‡è¯ä¹¦è¾¹ç•Œï¼Œå¾—ç”¨longæ¥å¤„ç†n
        if(b<0){
            b=-b;
            x=1/x;//å› ä¸ºxä¸º0çš„æƒ…å†µæ’é™¤äº†ï¼Œæ‰€ä»¥å¯ä»¥å®‰å¿ƒæŠŠxæ”¾åœ¨åˆ†æ¯
        }
        
        //å¼€å§‹å¿«é€Ÿå¹‚è¿ç®—ï¼Œè®©xä¸æ–­è‡ªå·±å¹³æ–¹ï¼Œå½“å¹‚çš„äºŒè¿›åˆ¶çš„å¯¹åº”ä½ä¸º1æ—¶ï¼Œåˆ™è¯´æ˜éœ€è¦æŠŠè‡ªä¹˜xçš„å½“å‰ç»“æœå¾€ç»“æœä¸­ä¹˜
        //å¤„ç†å¹‚è½¬åŒ–ä¸ºäºŒè¿›åˆ¶åçš„æ¯ä¸ªäºŒè¿›åˆ¶ä½
        while(b>0){
            if((b&1)==1){//å¦‚æœå½“å‰å¤„ç†è€ŒäºŒè¿›åˆ¶å¹‚çš„ä½ç½®ä¸º1ï¼Œè¯´æ˜xè‡ªä¹˜çš„å½“å‰ç»“æœè¦ä¹˜å…¥ç»“æœ
                res*=x;
            }
            x*=x;//xä¸æ–­è‡ªå·±å¹³æ–¹ï¼Œæ˜¯å¿«é€Ÿå¹‚èŠ‚çœcpuè¿ç®—çš„å…³é”®
            b=b>>1;//æŠŠå¹‚çš„äºŒè¿›åˆ¶å³ç§»ä¸€ä½ï¼ˆå³ä»ä½ä½ç æ‰ä¸€ä½ï¼‰ï¼Œä¸‹ä¸€æ¬¡å¾ªç¯å°±ä¼šå¤„ç†çš„æ˜¯æ›´é«˜ä¸€ä½
        }

        return res;
    }
}
```

- åæ€ï¼š
  - ä½è¿ç®—>>åä¼šå¾—åˆ°ä¸€ä¸ªç»“æœï¼Œæ‰€ä»¥å¿…é¡»è¦ç”¨ç­‰å·æ¥èµ‹å€¼ã€‚` b=b>>1;`ç­‰ä»·äº` b>>=1;`
  - ä¸è¿ç®—ç¬¦&çš„ä¼˜å…ˆçº§æ²¡æœ‰==é«˜ï¼Œæ‰€ä»¥è¦ç”¨æ‹¬å·åŒ…è£¹`b&1`
    - è¿ç®—ç¬¦ä¼˜å…ˆçº§å®¹æ˜“è®°æ··ï¼Œæ€»æ˜¯ç”¨æ‹¬å·åŒ…è£¹å¥½äº†ï¼›å¯è¯»æ€§è¿˜è›®å¥½ã€‚



### [å‰‘æŒ‡ Offer 33. äºŒå‰æœç´¢æ ‘çš„ååºéå†åºåˆ—](https://leetcode-cn.com/problems/er-cha-sou-suo-shu-de-hou-xu-bian-li-xu-lie-lcof/)

#### é¦–æˆ˜åŠå¯„

```java
class Solution {
    int[] postorder;
    boolean falseFound;//é»˜è®¤æ˜¯false
    public boolean verifyPostorder(int[] postorder) {
        /**
        äºŒå‰æœç´¢æ ‘ä¸­å·¦å­æ ‘çš„æ‰€æœ‰å€¼å°äºrootvalï¼Œå³å­æ ‘çš„æ‰€æœ‰å€¼å¤§äºrootvalã€‚
        åç»­éå†çš„è¯ï¼Œæ•°ç»„æœ«å°¾å°±æ˜¯æ ‘çš„æ ¹èŠ‚ç‚¹ã€‚æ ¹èŠ‚ç‚¹çš„å·¦è¾¹æ˜¯ã€å·¦å­æ ‘ã€‘ã€å³å­æ ‘ã€‘é»è¿è€Œæˆã€‚åˆ†å‰²å·¦å³å­æ ‘çš„æ–¹æ³•ï¼š
        éå†ã€å·¦å­æ ‘ã€‘ã€å³å­æ ‘ã€‘åŒºåŸŸï¼Œç¬¬ä¸€æ¬¡å‘ç°èŠ‚ç‚¹å¤§äºrootvalçš„æ—¶å€™ï¼Œè¯´æ˜å‰ä¸€æ­¥éå†å®Œäº†å·¦å­æ ‘ï¼Œç°åœ¨åœ¨éå†å³å­æ ‘çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ï¼›å› ä¸ºä¸çŸ¥é“ä»€ä¹ˆæ—¶å€™èŠ‚ç‚¹å˜å¤§ï¼Œæ‰€ä»¥ç”¨hashæ²¡ç”¨
         */
        this.postorder=postorder;//æŠŠä¼ å…¥çš„æ•°ç»„èµ‹å€¼ç»™å…¨å±€æ•°ç»„ï¼Œä½¿å¾—åœ¨é€’å½’ä¸­ä¹Ÿèƒ½è®¿é—®åˆ°æ•°ç»„
        int root_index=postorder.length-1;
        int left_index=0,right_index=postorder.length-2;
        return recur(root_index,left_index,right_index);
    }
    public boolean recur(int root_index,int left_index,int right_index){
        //å¦‚æœåˆ†æ²»åˆ°æœ€ålräº¤å‰éƒ½æ²¡å‘ç°é—®é¢˜ï¼Œè¯´æ˜è‡³å°‘æœ¬æ®µåˆ†æ²»ç¬¦åˆäºŒå‰æœç´¢æ ‘
        if(left_index>right_index){
            return true;
        }

        
        //éå†æ•°ç»„ï¼Œæ‰¾åˆ°ç¬¬ä¸€ä¸ªæ¯”rootå¤§çš„ï¼Œå³ä¸ºå³å­æ ‘çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ï¼›å¦‚æœæ²¡éå†åˆ°ï¼Œè¯´æ˜å³å­æ ‘ä¸ºç©º
        int firstRight=-1;
        for(int i=left_index;i<=right_index;i++){
            System.out.println("æ­£åœ¨å¯»æ‰¾å³å­æ ‘çš„é¦–èŠ‚ç‚¹ï¼Œå½“å‰èŠ‚ç‚¹å€¼ä¸ºï¼š"+postorder[i]);
            if(postorder[i]>postorder[root_index]){
                firstRight=i;
                System.out.println("æ‰¾åˆ°äº†å³å­æ ‘çš„é¦–èŠ‚ç‚¹ï¼ŒèŠ‚ç‚¹å€¼ä¸ºï¼š"+postorder[i]);
                //æ‰¾åˆ°äº†å³å­æ ‘çš„é¦–èŠ‚ç‚¹åè¦åŠæ—¶breakï¼Œä¸ç„¶é¦–èŠ‚ç‚¹ä¼šå³ç§»
                break;
            }
        }
        
        //å³å­æ ‘ä¸ºç©ºçš„è¯ï¼Œå³å­æ ‘çš„é¦–èŠ‚ç‚¹è®¾ç½®åœ¨æ•°ç»„èŒƒå›´å¤–ã€‚è¿™æ ·ä¸‹ä¸€è½®é€’å½’çš„è¯ï¼Œleftæ˜¯firstRightï¼Œrightæ˜¯right-1ï¼Œå°±ä¼šå½¢æˆäº¤å‰ï¼Œç›´æ¥è¿”å›trueè€Œä¸ä¼šè¿›ä¸€æ­¥å¤„ç†
        if(firstRight==-1){
            System.out.println("å³å­æ ‘ä¸ºç©º");
            firstRight=right_index+1;
        }
        
        
        //ç”±äºæ˜¯ç”¨èŠ‚ç‚¹æ˜¯å¦æ¯”rootvalå°æ‰¾åˆ°å³å­æ ‘ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ï¼Œæ‰€ä»¥å·¦å­æ ‘çš„åˆæ³•æ€§ä¸éœ€è¦éªŒè¯ï¼Œæ˜¯å·²æˆç«‹çš„ã€‚
        //æ£€æŸ¥å³å­æ ‘åˆæ³•æ€§ï¼Œå³å­æ ‘ä¸­å‡ºç°æ¯”rootå¤§çš„æ•°çš„è¯ï¼Œç›´æ¥è¿”å›false
        for(int i=firstRight;i<=right_index;i++){
            System.out.println("æ­£åœ¨æ ¡éªŒå³å­æ ‘çš„åˆæ³•æ€§ï¼Œå½“å‰èŠ‚ç‚¹å€¼ä¸ºï¼š"+postorder[i]+" rootçš„å€¼ä¸º:"+postorder[root_index]);
            if(postorder[i]<postorder[root_index]){
                System.out.println("å³å­æ ‘ä¸åˆæ³•ï¼Œå½“å‰èŠ‚ç‚¹å€¼ä¸ºï¼š"+postorder[i]+" rootçš„å€¼ä¸º:"+postorder[root_index]);
                falseFound=true;
                return false;
            }
        }

        //å‰ªæ
        if(falseFound)return false;

        System.out.println("è¿›å…¥æ›´æ·±å±‚æ¬¡é€’å½’");
        //å¦‚æœæ²¡çœ‹å‡ºä»€ä¹ˆé—®é¢˜ï¼Œé€’å½’æŸ¥çœ‹å½“å‰rootçš„å·¦å³å­æ ‘çš„æƒ…å†µï¼›å·¦è¾¹å‡½æ•°æ˜¯å·¦å­æ ‘ï¼Œå³è¾¹å‡½æ•°æ˜¯å³å­æ ‘ã€‚ä¸¤ä¸ªéƒ½ä¸ºtrueæ‰è¿”å›trueã€‚
        return recur(firstRight-1,left_index,firstRight-2)&&recur(right_index,firstRight,right_index-1);
    }
}
```

- æ€è·¯å®Œæ•´ï¼Œæ¡†æ¶å®Œæ•´ï¼Œä½†æ˜¯æœ‰ä¸€äº›å°ç»†èŠ‚æ˜¯debugæ‰å‘ç°çš„ã€‚

- æ³¨æ„æŠŠä»£ç ä¸­çš„soutæ³¨é‡Šæ‰åï¼Œä»£ç çš„æ‰§è¡Œé€Ÿåº¦æ›´å¿«ã€‚

- è§£é¢˜debugåæ€ï¼š

  - ç”¨` if(postorder[i]>postorder[root_index])`æ‰¾åˆ°å³å­æ ‘é¦–èŠ‚ç‚¹åï¼Œå¿˜è®°é€€å‡ºforå¾ªç¯ï¼Œå¯¼è‡´å¾ªç¯å¯èƒ½ç»§ç»­å³ç§»ã€‚

  - firstRightåˆå§‹å€¼è®¾ç½®ä¸º0ï¼Œç„¶åç”¨`if(firstRight==0)`åˆ¤æ–­å¾—firstRightåœ¨æ‰¾å³å­æ ‘é¦–èŠ‚ç‚¹çš„è¿‡ç¨‹ä¸­æ²¡è¢«ä¿®æ”¹è¿‡ï¼Œä¾¿æ‰‹åŠ¨ç»™å³å­æ ‘é¦–èŠ‚ç‚¹èµ‹å€¼ï¼›ä½†æ˜¯å¿½è§†äº†ä¸€ç§æƒ…å†µï¼Œå°±æ˜¯å·¦å­æ ‘ä¸ºç©ºï¼Œé‚£ä¹ˆfirstRightæœ¬èº«å°±æ˜¯==0çš„ï¼Œåè€Œè¢«æˆ‘æ‰‹åŠ¨èµ‹å€¼äº†ã€‚æ‰€ä»¥åº”è¯¥å¦‚æäº¤ä»£ç ä¸­ä¼¼çš„ï¼ŒæŠŠfirstRightåˆå§‹å€¼è®¾ç½®ä¸º-1ï¼Œå¹¶ä¸”é’ˆå¯¹firstRightåœ¨å¯»æ‰¾å®Œå³å­æ ‘åæœ‰æ²¡æœ‰å˜åŒ–æ¥åˆ¤æ–­ï¼ˆæ²¡å˜åŒ–è¯´æ˜å³å­æ ‘ä¸ºç©ºï¼‰æ˜¯å¦éœ€è¦æ‰‹åŠ¨èµ‹å€¼ã€‚

#### å®˜æ–¹-é€’å½’åˆ†æ²»

æ€æƒ³å°±æ˜¯æˆ‘å†™ä»£ç çš„æ€æƒ³

è§£é¢˜æ€è·¯ï¼š

![image-20220412195804787](lcof.assets/image-20220412195804787.png)

é€’å½’åˆ†æ”¯æ€è·¯ï¼š

- æ ¹æ®äºŒå‰æœç´¢æ ‘çš„å®šä¹‰ï¼Œå¯ä»¥é€šè¿‡é€’å½’ï¼Œåˆ¤æ–­æ‰€æœ‰å­æ ‘çš„ **æ­£ç¡®æ€§** ï¼ˆå³å…¶ååºéå†æ˜¯å¦æ»¡è¶³äºŒå‰æœç´¢æ ‘çš„å®šä¹‰ï¼‰ ï¼Œè‹¥æ‰€æœ‰å­æ ‘éƒ½æ­£ç¡®ï¼Œåˆ™æ­¤åºåˆ—ä¸ºäºŒå‰æœç´¢æ ‘çš„ååºéå†ã€‚

é€’å½’è§£æï¼š

![image-20220412195901552](lcof.assets/image-20220412195901552.png)

- æ³¨æ„ï¼šåˆ’åˆ†å·¦å³å­æ ‘çš„æ—¶å€™ï¼Œå¯»æ‰¾çš„**ç¬¬ä¸€ä¸ª**å¤§äºæ ¹èŠ‚ç‚¹çš„èŠ‚ç‚¹ï¼›æˆ‘å†™ä»£ç å°±æ¼äº†è¿™ç‚¹ï¼Œè™½ç„¶æ€è€ƒçš„æ—¶å€™è‚¯å®šæ˜¯çŸ¥é“è¦æ‰¾ç¬¬ä¸€ä¸ªã€‚

å¤æ‚åº¦åˆ†æï¼š

![image-20220412200013412](lcof.assets/image-20220412200013412.png)

- æ—¶é—´å¤æ‚åº¦â€œæ¯è½®é€’å½’éƒ½éœ€è¦éå†æ ‘æ‰€æœ‰èŠ‚ç‚¹â€è§£é‡Šï¼šä»leftåˆ°firstRightï¼Œä»firstRightåˆ°rightï¼Œæ­£å¥½éå†å®Œå½“å‰rootå¯¹åº”çš„å­æ ‘ï¼Œä¹Ÿå°±æ˜¯onçš„éå†ã€‚é€’å½’èŠ‚ç‚¹åˆæœ‰onï¼Œæ‰€ä»¥ç»¼åˆæ¥çœ‹æ—¶é—´å¤æ‚åº¦æ˜¯on2ã€‚

ä»£ç ï¼š

```java
class Solution {
    public boolean verifyPostorder(int[] postorder) {
        return recur(postorder, 0, postorder.length - 1);
    }
    boolean recur(int[] postorder, int i, int j) {
        if(i >= j) return true;
        int p = i;
        while(postorder[p] < postorder[j]) p++;
        int m = p;
        while(postorder[p] > postorder[j]) p++;
        return p == j && recur(postorder, i, m - 1) && recur(postorder, m, j - 1);
    }
}
```

## ä½è¿ç®—(ç®€å•)

### [å‰‘æŒ‡ Offer 15. äºŒè¿›åˆ¶ä¸­1çš„ä¸ªæ•°](https://leetcode-cn.com/problems/er-jin-zhi-zhong-1de-ge-shu-lcof/)

####  é¦–æˆ˜å¯„

æœ‰æ€è·¯ï¼Œä½†æ˜¯ä»£ç è¿è¡Œç»“æœä¸ç¬¦åˆé¢„æœŸã€‚

```java
public class Solution {
    // you need to treat n as an unsigned value
    public int hammingWeight(int n) {
        /**
        ä½¿ç”¨ä½è¿ç®—ï¼Œæ€»æ˜¯&æœ€å°ä½ï¼Œä¸º1çš„è¯åˆ™è®¡æ•°ï¼›è®¡æ•°å®Œæ¯•åå³ç§»ï¼Œç›´åˆ°æ²¡æœ‰ä½äº†
         */
        System.out.println("è¾“å…¥çš„n:"+n);
        int count=0;
        while(n>0){
            System.out.println("å½“å‰n:"+n);
            if((n&1)==1){//è®¡ç®—æ•°çš„äºŒè¿›åˆ¶è¡¨ç¤ºçš„æœ«å°¾æ˜¯å¦ä¸º1ï¼Œæ˜¯çš„è¯è®¡æ•°
                System.out.println("å½“å‰nçš„æœ«å°¾ä¸º1");
                count++;
            }
            //ä¸ç®¡æœ«å°¾æ˜¯å¦ä¸º1ï¼Œéƒ½å³ç§»ï¼Œå³äºŒè¿›åˆ¶æœ«å°¾æˆªæ‰ä¸€ä½
            n>>=n;
            System.out.println("å³ç§»1ä½ån:"+n);
        }

        return count;
        
    }
}
```

![image-20220413155221429](lcof.assets/image-20220413155221429.png)

- é—®ç­”é—®ï¼šæ‰“å°å‡ºæ¥çš„æ˜¯è¾“å…¥äº†11å³ç§»ä¸€ä½åä¸æ˜¯5ï¼Œè€Œç›´æ¥ä¸º0é€€å‡ºäº†ï¼Œä¸æ‡‚äº†ã€‚å°±ç®—æ˜¯ä»¥åè¿›åˆ¶ä¸ºå•ä½å³ç§»ï¼ˆé™¤æ³•ï¼‰ï¼Œé‚£ä¹Ÿè¿˜æœ‰1å•Šã€‚
  - è‡ªç­”ï¼šæˆ‘è¿™åº”è¯¥æ˜¯`n>>>=1;`ï¼ŒåŸå› æœ‰ä¸¤ä¸ªï¼š
    1. æºä»£ç `n>>=n;`è¡¨ç¤ºä¸€ä¸‹å³ç§»11ä½ï¼Œè‚¯å®šä¸€ä¸‹å°±ç§»å®Œäº†
    2. javaä¸­æ— ç¬¦å·ä½è¿ç®—ç”¨`>>>`ã€‚æ³¨æ„åŒºåˆ«`>>`å’Œ`>>>`ï¼Œ`>>>`æ˜¯å¯¹int32å’Œint64æ‰æœ‰ç”¨çš„æ— ç¬¦å·å³ç§»,[å‚è€ƒ](https://www.cnblogs.com/SunArmy/p/9837348.html)
- çœ‹å®Œå®˜æ–¹è§£æåçš„åæ€ï¼Œé”™è¯¯ï¼š
  - `while(n>0)`å¯¼è‡´è¾“å…¥n<0çš„æ•°è¯ï¼Œä¼šä¸è¿›å…¥whileã€‚åº”è¯¥å†™æˆ`while(n!=0)`
  - ` n>>=n;`ä¼šä¸€ä¸‹å­æœ‰ç¬¦å·å³ç§»nä½ï¼Œç›´æ¥ä¸º0ï¼›å¹¶ä¸”å¯¹è´Ÿæ•°æœ‰ç¬¦å·ä½ç§»çš„è¯è¡¥1ï¼Œä¼šå¯¼è‡´è®¡ç®—é”™è¯¯ã€‚åº”è¯¥å†™æˆ`n>>>=1;`ã€‚

#### ç½‘å‹çƒ­é—¨

javaå±…ç„¶æœ‰è¿™ä¸ªæ–¹æ³•:

```java
public class Solution {
    // you need to treat n as an unsigned value
    public int hammingWeight(int n) {
        return Integer.bitCount(n);
    }
}
```

#### å®˜æ–¹1-ä½è¿ç®—+é€ä½åˆ¤æ–­

æ€è·¯ï¼š

![image-20220413161839865](lcof.assets/image-20220413161839865.png)

ç®—æ³•æµç¨‹ï¼š

![image-20220413161858902](lcof.assets/image-20220413161858902.png)



å¤æ‚åº¦åˆ†æï¼š

![image-20220413161917124](lcof.assets/image-20220413161917124.png)

ä»£ç ï¼š

```java
public class Solution {
    public int hammingWeight(int n) {
        int res = 0;
        while(n != 0) {
            res += n & 1;
            n >>>= 1;
        }
        return res;
    }
}
```

- æˆ‘ï¼šæ€è·¯å°±æ˜¯æˆ‘é¦–æˆ˜å¯„çš„æ€è·¯

#### å®˜æ–¹2-ä½è¿ç®—+å·§ç”¨ n \& (n - 1)

æ€è·¯ï¼š

![image-20220413162127582](lcof.assets/image-20220413162127582.png)

ç®—æ³•æµç¨‹ï¼š

![image-20220413162143982](lcof.assets/image-20220413162143982.png)

å¤æ‚åº¦åˆ†æï¼š

![image-20220413162204749](lcof.assets/image-20220413162204749.png)

- å®˜æ–¹1ä¸­ï¼Œå“ªæ€•å½“å‰å¾ˆå¤šä½æ˜¯0ä¹Ÿè¦ä¸€ä¸ªä¸€ä¸ªåœ°ä½ç§»ï¼Œæµªè´¹æ—¶é—´å¤æ‚åº¦ã€‚æœ¬æ–¹æ³•2ç›´æ¥é‡‡å–â€œæ¶ˆå»1â€çš„ç­–ç•¥ï¼Œæ¯æ¬¡æ¶ˆå»æœ«å°¾çš„1éƒ½å¯ä»¥ç»™resåŠ ä¸€ï¼Œåªéœ€è¦åš1çš„ä¸ªæ•°æ¬¡æ“ä½œå³å¯ï¼Œè€Œä¸æ˜¯åƒå®˜æ–¹æ–¹æ³•1ä¸­åšå¤šä½æ¬¡è¿ç®—ã€‚

ä»£ç ï¼š

```java
public class Solution {
    public int hammingWeight(int n) {
        int res = 0;
        while(n != 0) {
            res++;
            n &= n - 1;
        }
        return res;
    }
}
```

### [å‰‘æŒ‡ Offer 65. ä¸ç”¨åŠ å‡ä¹˜é™¤åšåŠ æ³•](https://leetcode-cn.com/problems/bu-yong-jia-jian-cheng-chu-zuo-jia-fa-lcof/)

#### é¦–æˆ˜å¯„

æ— æ€è·¯ã€‚

å»ºè®®ç†Ÿæ‚‰javaä½è¿ç®—ï¼š[å‚è€ƒ](https://zhuanlan.zhihu.com/p/106893096)

#### å®˜æ–¹-ä½è¿ç®—

è§£é¢˜æ€è·¯ï¼š

![image-20220413165208729](lcof.assets/image-20220413165208729.png)

- å¼‚æˆ–ï¼šä¸åŒä¸º1ï¼Œç›¸åŒä¸º0ï¼›ä¸ï¼šéƒ½ä¸º1æ‰ä¸º1ï¼Œæœ‰ä¸€ä¸ªæ˜¯0éƒ½ä¸º0ã€‚

- æˆ‘ï¼šæ¯”å¦‚`1111+1111`=`0000+11110`=30ï¼Œæ— è¿›ä½è·³å‡º

![Picture1.png](lcof.assets/56d56524d8d2b1318f78e209fffe0e266f97631178f6bfd627db85fcd2503205-Picture1.png)

> Q ï¼š è‹¥æ•°å­— aa å’Œ bb ä¸­æœ‰è´Ÿæ•°ï¼Œåˆ™å˜æˆäº†å‡æ³•ï¼Œå¦‚ä½•å¤„ç†ï¼Ÿ
> A ï¼š åœ¨è®¡ç®—æœºç³»ç»Ÿä¸­ï¼Œæ•°å€¼ä¸€å¾‹ç”¨ è¡¥ç  æ¥è¡¨ç¤ºå’Œå­˜å‚¨ã€‚è¡¥ç çš„ä¼˜åŠ¿ï¼š åŠ æ³•ã€å‡æ³•å¯ä»¥ç»Ÿä¸€å¤„ç†ï¼ˆCPUåªæœ‰åŠ æ³•å™¨ï¼‰ã€‚å› æ­¤ï¼Œä»¥ä¸Šæ–¹æ³• åŒæ—¶é€‚ç”¨äºæ­£æ•°å’Œè´Ÿæ•°çš„åŠ æ³• ã€‚
>

å¤æ‚åº¦åˆ†æï¼š

![image-20220413165358375](lcof.assets/image-20220413165358375.png)

ä»£ç ï¼š

```java
class Solution {
    public int add(int a, int b) {
        while(b != 0) { // å½“è¿›ä½ä¸º 0 æ—¶è·³å‡º
            int c = (a & b) << 1;  // c = è¿›ä½
            a ^= b; // a = éè¿›ä½å’Œ
            b = c; // b = è¿›ä½
        }
        return a;
    }
}
```

#### å³æ—¶å†æˆ˜æˆåŠŸ

```java
class Solution {
    public int add(int a, int b) {
        /**
        åŠ æ³•=å¼‚æˆ–+ä¸<<
         */
        
        //æ±‚è¿›ä½ï¼›æ±‚è¿›ä½è¦æ”¾åœ¨æ±‚éè¿›ä½ä¹‹å‰ï¼Œå› ä¸ºâ€œæ±‚éè¿›ä½â€æ—¶ä¼šä¿®æ”¹açš„å€¼ã€‚æ³¨æ„<<1çš„ç§»åŠ¨ä½æ•°1åˆ«å¿˜è®°ï¼ï¼
        int c=(a&b)<<1;
        //æ±‚éè¿›ä½
        a^=b;
        //è¦è®°ä½æŠŠcèµ‹å€¼ç»™bï¼Œè¿™æ ·æ‰èƒ½è®©è¿›ä½å’Œéè¿›ä½ç»§ç»­ç›¸åŠ 
        b=c;

        //è¿›ä½ä¸º0çš„æ—¶å€™ï¼Œæ±‚å’Œç»“æœå³ä¸ºaã€‚
        while(b!=0){
            //æ±‚è¿›ä½
            c=(a&b)<<1;
            //æ±‚éè¿›ä½
            a^=b;
            //è¦è®°ä½æŠŠcèµ‹å€¼ç»™bï¼Œè¿™æ ·æ‰èƒ½è®©è¿›ä½å’Œéè¿›ä½ç»§ç»­ç›¸åŠ 
            b=c;
        }

        return a;

    }
}
```

- æ³¨æ„ï¼š<<1çš„ç§»åŠ¨ä½æ•°1åˆ«å¿˜è®°ï¼ï¼

## ä½è¿ç®—(ä¸­ç­‰)

### [å‰‘æŒ‡ Offer 56 - I. æ•°ç»„ä¸­æ•°å­—å‡ºç°çš„æ¬¡æ•°](https://leetcode-cn.com/problems/shu-zu-zhong-shu-zi-chu-xian-de-ci-shu-lcof/)

#### é¦–æˆ˜å¯„ 

æ²¡æ€è·¯

#### å®˜æ–¹-ä½è¿ç®—å¼‚æˆ–

è§£é¢˜æ€è·¯ï¼š

![image-20220414142917210](lcof.assets/image-20220414142917210.png)

```java
public int[] singleNumber(int[] nums) {
    int x = 0;
    for(int num : nums)  // 1. éå† nums æ‰§è¡Œå¼‚æˆ–è¿ç®—
        x ^= num;
    return x;            // 2. è¿”å›å‡ºç°ä¸€æ¬¡çš„æ•°å­— x
}
```

å¼‚æˆ–ç¬¦åˆäº¤æ¢å¾‹è§£æå¦‚ä¸‹ï¼š

![image-20220414142641610](lcof.assets/image-20220414142641610.png)

éš¾ç‚¹ï¼š

![image-20220414145633625](lcof.assets/image-20220414145633625.png)

- å¼‚æˆ–ä¸¤ä¸ªæ•°ï¼Œé‚£ä¹ˆåŸæ•°ä¸åŒçš„åœ°æ–¹ä¼šåœ¨å¼‚æˆ–åè¡¨ç¤ºä¸º1ï¼Œæˆ‘ä»¬ä¾¦æµ‹å¼‚æˆ–åçš„1çš„ä½ç½®ï¼Œå°±å¯ä»¥æŠŠä¸¤ä¸ªä¸åŒçš„æ•°åŒºåˆ†å¼€æ¥ï¼›ä¸¤ä¸ªæ•°å¯èƒ½æœ‰å¤šä¸ªä½ä¸ä¸€æ ·ï¼Œä»»æ„æŠ“ä½ä¸€ä½éƒ½èƒ½åŒºåˆ†å¼€åŸæ¥çš„ä¸¤ä¸ªæ•°ï¼Œè¿™é‡Œå»æ‰¾ä¸åŒçš„æœ€ä½ä½ã€‚
- ç”¨maskä¸ä»…å¯ä»¥åŒºåˆ†å‡ºä¸¤ä¸ªç›®æ ‡æ•°ï¼Œè¿˜èƒ½æŠŠå‰©ä½™çš„æ‰€æœ‰æ•°åˆ†ä¸¤é˜Ÿï¼›åœ¨â€œmaskä¸º1çš„ä½â€ ä¸º1çš„æ•°è¢«åˆ†åˆ°ä¸€é˜Ÿï¼Œåœ¨â€œmaskä¸º1çš„é‚£ä½â€ ä¸º0çš„æ•°è¢«åˆ†åˆ°å¦ä¸€é˜Ÿï¼Œå› ä¸ºå‰è€…å’Œmaskå¼‚æˆ–å¾—0ï¼Œåè€…å’Œmaskå¼‚æˆ–ä¸å¾—0ã€‚

ä»£ç ï¼š

```java
class Solution {
    public int[] singleNumbers(int[] nums) {
        //ç”¨äºå°†æ‰€æœ‰çš„æ•°å¼‚æˆ–èµ·æ¥ã€‚æœ€åçš„kå³ä¸ºä¸¤ä¸ªåªå‡ºç°ä¸€æ¬¡çš„æ•°çš„å¼‚æˆ–ç»“æœ
        int k = 0;
        for(int num: nums) {
            k ^= num;
        }
        
        //è·å¾—kä¸­æœ€ä½ä½çš„1ã€‚è¿™ä¸ª1æ ‡è®°äº†â€œä¸¤ä¸ªåªå‡ºç°ä¸€æ¬¡çš„æ•°â€ä»ä½ä½å¾€é«˜ä½æ¯”ï¼Œç¬¬ä¸€æ¬¡å‡ºç°ä¸åŒçš„ä½ç½®
        int mask = 1;
        //mask = k & (-k) è¿™ç§æ–¹æ³•ä¹Ÿå¯ä»¥å¾—åˆ°maskï¼Œå…·ä½“åŸå› ç™¾åº¦ å“ˆå“ˆå“ˆå“ˆå“ˆ
        while((k & mask) == 0) {//å¼‚æˆ–ç»“æœkå’Œmaskå†è¿›è¡Œâ€œä¸æ“ä½œâ€å¾—0ï¼Œè¡¨ç¤ºåœ¨maskä¸º1çš„ä½ç½® kåœ¨æ­¤ä½ç½®ä¸ä¸º1ï¼Œå³ä¸¤ä¸ªåªå‡ºç°ä¸€æ¬¡çš„æ•°åœ¨è¿™ä½æ˜¯ç›¸åŒçš„ï¼ˆè¿™æ ·å¼‚æˆ–å æ­¤ä½æ‰ä¸º0ï¼‰
            mask <<= 1;
        }
        
        //å¯¹æ•°ç»„ç”¨maskåšåˆ†ç»„çš„åŒæ—¶ï¼Œç”¨aå’Œbåˆ†åˆ«å¼‚æˆ–å¤„ç†å±äºä¸åŒç±»çš„æ•°æ®ï¼Œå¾—åˆ°çš„a bç»“æœå³ä¸ºä¸¤ä¸ªåªå‡ºç°ä¸€æ¬¡çš„æ•°
        int a = 0;
        int b = 0;
        for(int num: nums) {
            if((num & mask) == 0) {
                a ^= num;
            } else {
                b ^= num;
            }
        }
        
        return new int[]{a, b};
    }
}
```

#### å³æ—¶å†æˆ˜æˆåŠŸ

```java
class Solution {
    public int[] singleNumbers(int[] nums) {
        /**
        ä½¿ç”¨å¼‚æˆ–^ä»å‡ºç°ä¸¤æ¬¡çš„æ•°ä¸­æ‰¾åˆ°åªå‡ºç°ä¸€æ¬¡çš„æ•°
        ä½¿ç”¨ä¸&æŠŠä¸¤ä¸ªåªå‡ºç°ä¸€æ¬¡çš„æ•°ï¼Œåˆ©ç”¨ä»–ä¸¤çš„å¼‚æˆ–ç»“æœï¼ŒæŠŠå®ƒä»¬åˆ†æˆ2ç»„
         */
        
        //æ•°ç»„å…¨ä½“å¼‚æˆ–ï¼Œå‡è®¾åªå‡ºç°ä¸€æ¬¡çš„æ•°ä¸ºa bï¼Œé‚£ä¹ˆå¾—åˆ°çš„ç»“æœæ˜¯a^b
        int c=0;
        for(int i=0;i<nums.length;i++){
            c^=nums[i];
        }

        //ç”¨æ¢é’ˆpinæŠŠä¸¤ä¸ªåªå‡ºç°ä¸€æ¬¡çš„æ•°åˆ†å¼€
        int pin=1;
        while((c&pin)==0){//aå’Œbåœ¨pinä¸­1çš„ä½ç½®ç›¸åŒã€‚æ³¨æ„æŒ‰ä½ä¸&çš„ä¼˜å…ˆçº§ä½ï¼Œæ¯æ¬¡ä½¿ç”¨å¿…é¡»ç”¨æ‹¬å·åŒ…è£¹ï¼ï¼ï¼
            pin=pin<<1;
        }

        //æ ¹æ®pinæŠŠnumsåˆ†ä¸¤é˜Ÿï¼›ä¸¤é˜Ÿå†…è‡ªè¡Œå¼‚æˆ–ï¼Œå³å¾—åˆ°aå’Œb
        int a=0,b=0;
        for(int i=0;i<nums.length;i++){
            if((nums[i]&pin)==0){
                a^=nums[i];
            }else{
                b^=nums[i];
            }
        }

        return new int[]{a,b};
    }
}
```

- æ³¨æ„ï¼š
  - æŒ‰ä½ä¸&çš„ä¼˜å…ˆçº§ä½ï¼Œæ¯æ¬¡ä½¿ç”¨å¿…é¡»ç”¨æ‹¬å·åŒ…è£¹
  - pinç”¨&æ“ä½œæŠŠæ•°ç»„åˆ†ä¸¤ç»„ï¼Œå› ä¸ºä¸€ç»„ä¸pinä¸º0ï¼Œå¦ä¸€ç»„ä¸æ˜¯ï¼›num & pinå¾—0ï¼Œæ˜¯å› ä¸ºnumåœ¨pinä¸º1çš„é‚£ä¸€ä½ä¸º0ï¼Œ0&1==0,1&1==1ã€‚

### [å‰‘æŒ‡ Offer 56 - II. æ•°ç»„ä¸­æ•°å­—å‡ºç°çš„æ¬¡æ•° II](https://leetcode-cn.com/problems/shu-zu-zhong-shu-zi-chu-xian-de-ci-shu-ii-lcof/)

#### é¦–æˆ˜å¯„

#### å®˜æ–¹-ä½è¿ç®—+æœ‰é™çŠ¶æ€è‡ªåŠ¨æœº

å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œè€ƒè™‘æ•°å­—çš„äºŒè¿›åˆ¶å½¢å¼ï¼Œå¯¹äºå‡ºç°ä¸‰æ¬¡çš„æ•°å­—ï¼Œå„ **äºŒè¿›åˆ¶ä½** å‡ºç°çš„æ¬¡æ•°éƒ½æ˜¯ 3 çš„å€æ•°ã€‚
å› æ­¤ï¼Œç»Ÿè®¡æ‰€æœ‰æ•°å­—çš„å„äºŒè¿›åˆ¶ä½ä¸­ 1 çš„å‡ºç°æ¬¡æ•°ï¼Œå¹¶å¯¹ 3æ±‚ä½™ï¼Œç»“æœåˆ™ä¸ºåªå‡ºç°ä¸€æ¬¡çš„æ•°å­—ã€‚

![Picture1.png](lcof.assets/28f2379be5beccb877c8f1586d8673a256594e0fc45422b03773b8d4c8418825-Picture1.png)

ç•¥ã€‚ã€‚é¢˜ç›®å‡ºç°ç‡ä¸é«˜

#### å¤§ä½¬-hashMapæ³•

```java
// ä½¿ç”¨ HashMap è®°å½•å„ä¸ªæ•°å­—å‡ºç°çš„æ¬¡æ•°
    public int singleNumber(int[] nums) {
        Map<Integer, Integer> map = new HashMap();

        for(int i = nums.length - 1; i >= 0; --i){
            int key = nums[i];
            if(!map.containsKey(key)){
                // å¦‚æœä¹‹å‰æ²¡æœ‰é‡åˆ°è¿™ä¸€æ•°å­—ï¼Œåˆ™æ”¾å…¥ map ä¸­
                map.put(key, 1);
            }else{
                // å¦‚æœä¹‹å‰é‡åˆ°è¿‡è¿™ä¸€æ•°å­—ï¼Œåˆ™å‡ºç°æ¬¡æ•°åŠ  1
                map.put(key, map.get(key) + 1);
            }
        }

        for(Map.Entry<Integer, Integer> entry: map.entrySet()){
            if(entry.getValue() == 1){
                return entry.getKey();
            }
        }

        return -1;
    }
```

- ç½‘å‹è¯„ï¼šå¯ä»¥å†ä¼˜åŒ–ä¸€ä¸‹ï¼Œå·²ç»è®°è¿‡ä¸€æ¬¡çš„æ•°å†æ”¾è¿›æ¥ç›´æ¥ç½®å€¼ä¸º-1å°±å¥½ï¼Œå°‘ä¸€æ¬¡getæ“ä½œã€‚

  ```
          for (int i = 0; i < nums.length; i++) {
              Integer obj = map.get(nums[i]);
              if(obj == null){
                  map.put(nums[i],1);
              }else if(obj == 1){
                  map.put(nums[i],-1);
              }
          }
  ```

#### å³æ—¶å†æˆ˜

ç”¨hashmapçš„è¯ï¼Œå°±ä¸éœ€è¦å†æˆ˜äº†ã€‚

## æ•°å­¦(ç®€å•)

### [å‰‘æŒ‡ Offer 39. æ•°ç»„ä¸­å‡ºç°æ¬¡æ•°è¶…è¿‡ä¸€åŠçš„æ•°å­—](https://leetcode-cn.com/problems/shu-zu-zhong-chu-xian-ci-shu-chao-guo-yi-ban-de-shu-zi-lcof/)

#### é¦–æˆ˜å¯„

æœ‰æ­£è´Ÿç”µè·æŠµæ¶ˆçš„æ€æƒ³ï¼Œä½†æ˜¯æƒ³ä¸å‡ºæ¥æ€ä¹ˆå®æ–½ã€‚èƒ½å®æ–½çš„åªæœ‰hashmapè®¡æ•°ç®—æ³•ï¼Œæ€§èƒ½ä¸ç®—å¥½ã€‚

#### å®˜æ–¹-æ‘©å°”æŠ•ç¥¨æ³•

æˆ‘ä¸ªäººæ›´æ„¿æ„ç§°ä¹‹ä¸ºæ­£è´Ÿç”µè·æŠµæ¶ˆæ³•,å…³æ³¨æŠµæ¶ˆçš„æ—¶åˆ»ã€‚

è§£é¢˜æ€è·¯ï¼š

![image-20220414164157239](lcof.assets/image-20220414164157239.png)

æ‘©å°”æŠ•ç¥¨æ³•ï¼š

![image-20220414164224802](lcof.assets/image-20220414164224802.png)

![Picture1.png](lcof.assets/1603612327-bOQxzq-Picture1.png)

![image-20220414164246112](lcof.assets/image-20220414164246112.png)

ç®—æ³•æµç¨‹ï¼š

![image-20220414164259764](lcof.assets/image-20220414164259764.png)

å¤æ‚åº¦åˆ†æï¼š

![image-20220414164332148](lcof.assets/image-20220414164332148.png)

ä»£ç ï¼š

```java
class Solution {
    public int majorityElement(int[] nums) {
        int x = 0, votes = 0;
        for(int num : nums){
            if(votes == 0) x = num;
            votes += num == x ? 1 : -1;
        }
        return x;
    }
}
```

![image-20220414164717570](lcof.assets/image-20220414164717570.png)

```java
class Solution {
    public int majorityElement(int[] nums) {
        int x = 0, votes = 0, count = 0;
        for(int num : nums){
            if(votes == 0) x = num;
            votes += num == x ? 1 : -1;
        }
        // éªŒè¯ x æ˜¯å¦ä¸ºä¼—æ•°
        for(int num : nums)
            if(num == x) count++;
        return count > nums.length / 2 ? x : 0; // å½“æ— ä¼—æ•°æ—¶è¿”å› 0
    }
}
```

- æœ¬é¢˜ä¼—æ•°æŒ‡æ•°ç›®è¶…è¿‡ä¸€èˆ¬çš„æ•°ï¼Œä½†æ˜¯ä¸€èˆ¬æŒ‡[å‡ºç°æ¬¡æ•°æœ€å¤šçš„æ•°](https://baike.baidu.com/item/%E4%BC%97%E6%95%B0/44796)

#### å³æ—¶å†æˆ˜æˆåŠŸ

```java
class Solution {
    public int majorityElement(int[] nums) {
        /**
        æ­£è´Ÿç”µè·æŠµæ¶ˆ
         */

        int major=0;
        int count=0;
        for(int i=0;i<nums.length;i++){
            //åœ¨è®¡æ•°ä¸º0æ—¶ï¼ŒæŠŠå½“å‰èŠ‚ç‚¹è®¾ç½®ä¸ºä¼—æ•°,é‡è®¾ç½®è®¡æ•°ä¸º1
            if(count==0){
                major=nums[i];
                count=1;
            }else{//å¦‚æœè®¡æ•°ä¸ä¸º0ï¼Œæ¯”è¾ƒå½“å‰æ•°å’Œä¼—æ•°æ˜¯å¦ç›¸åŒï¼Œç›¸åŒåˆ™ç»™è®¡æ•°+1ï¼Œä¸åŒåˆ™ç»™è®¡æ•°-1
                if(nums[i]==major){
                    count++;
                }else{
                    count--;
                }
            }
        }

        //é€€å‡ºforå¾ªç¯åï¼Œç•™ä¸‹çš„ä¼—æ•°å¿…å®šæ˜¯ç›®æ ‡ä¼—æ•°
        return major;
    }
}
```

### [å‰‘æŒ‡ Offer 66. æ„å»ºä¹˜ç§¯æ•°ç»„](https://leetcode-cn.com/problems/gou-jian-cheng-ji-shu-zu-lcof/)

è§£é¢˜æ€è·¯ï¼š

![image-20220414172126126](lcof.assets/image-20220414172126126.png)

![Picture1.png](lcof.assets/1624619180-vpyyqh-Picture1.png)

ç®—æ³•æµç¨‹ï¼š

![image-20220414172154862](lcof.assets/image-20220414172154862.png)

å¤æ‚åº¦åˆ†æï¼š

![image-20220414172212852](lcof.assets/image-20220414172212852.png)

ä»£ç ï¼š

```java
class Solution {
    public int[] constructArr(int[] a) {
        int len = a.length;
        if(len == 0) return new int[0];
        int[] b = new int[len];
        b[0] = 1;
        int tmp = 1;
        for(int i = 1; i < len; i++) {
            b[i] = b[i - 1] * a[i - 1];
        }
        for(int i = len - 2; i >= 0; i--) {
            tmp *= a[i + 1];
            b[i] *= tmp;
        }
        return b;
    }
}
```

#### å³æ—¶å†æˆ˜æˆåŠŸ

```java
class Solution {
    public int[] constructArr(int[] a) {
        /**
        ç”¨ä¸¤ä¸ªdpä¹˜æ³•
         */
        //å¤„ç†ç‰¹æ®Šæƒ…å†µã€‚æˆ‘è®¤ä¸ºæ˜¯ä¸ç”¨å¤„ç†çš„ï¼Œä½†æ˜¯ç³»ç»Ÿè¿˜æ˜¯ä¼šè¾“å…¥ç©ºæ•°ç»„,ç©ºæ•°ç»„å¦‚ä¸‹è®¾ç½®
        if(a.length==0||a.length==1)return new int[0];

        //æŠŠå¯¹è§’çº¿ä¸‹åŠçš„ä¹˜ç§¯å…ˆæ”¾å…¥ç»“æœæ•°ç»„ã€‚æ–°å»ºæ•°ç»„è¦new int[length],åˆ«å¿˜äº†new
        int[] res=new int[a.length];
        int temp=1;
        res[0]=1;
        for(int i=1;i<a.length;i++){
            temp*=a[i-1];
            res[i]=temp;
        }

        //æŠŠå¯¹è§’çº¿ä¸ŠåŠçš„æˆç»©æ”¾å…¥ç»“æœæ•°ç»„
        temp=1;
        for(int i=a.length-2;i>=0;i--){
            temp*=a[i+1];
            res[i]*=temp;
        }

        return res;

    }
}
```

- æ³¨æ„ï¼š
  - æ–°å»ºç©ºæ•°ç»„çš„æ–¹å¼:`new int[0];`
  - æ–°å»ºæ•°ç»„ä¸è¦å¿˜è®°newå…³é”®å­—

## æ•°å­¦(ä¸­ç­‰)

### [å‰‘æŒ‡ Offer 14- I. å‰ªç»³å­](https://leetcode-cn.com/problems/jian-sheng-zi-lcof/)

#### æ²¡æ€è·¯

#### å®˜æ–¹1-è´ªå¿ƒ

æˆ‘ï¼šè´ªå¿ƒçš„æ•°å­¦è¦æ±‚é«˜ï¼Œæ™®é€‚æ€§ä¸å¤§

![image-20220415170356783](lcof.assets/image-20220415170356783.png)

```java
class Solution {
    public int cuttingRope(int n) {
        if(n <= 3) return n - 1;
        int a = n / 3, b = n % 3;
        if(b == 0) return (int)Math.pow(3, a);
        if(b == 1) return (int)Math.pow(3, a - 1) * 4;
        return (int)Math.pow(3, a) * 2;
    }
}
```

#### å®˜æ–¹2-åŠ¨æ€è§„åˆ’

æ€è·¯ï¼š

![image-20220423205556605](lcof.assets/image-20220423205556605.png)

ä»£ç ï¼š

```java
class Solution {
    public int cuttingRope(int n) {
        int[] dp = new int[n + 1];
        dp[2] = 1;
        for(int i = 3; i < n + 1; i++){
            for(int j = 2; j < i; j++){
                dp[i] = Math.max(dp[i], Math.max(j * (i - j), j * dp[i - j]));
            }
        }
        return dp[n];
    }
}
```

- ç½‘å‹é—®ï¼šdp[i] = Math.max(dp[i], Math.max(j * (i - j), j * dp[i - j])); åŠ¨æ€è§„åˆ’dp[i] ä¸ºä»€ä¹ˆä¾èµ–äºè‡ªå·±å‘¢
  - ç½‘å‹ç­”ï¼šæƒ³äº†ä¸€ä¼šæ‰ååº”è¿‡æ¥ï¼Œå¯¹äºåŒä¸€ä¸ªiï¼Œå†…å±‚å¾ªç¯å¯¹ä¸åŒçš„jéƒ½è¿˜ä¼šæ‹¿åˆ°ä¸€ä¸ªmaxï¼Œæ‰€ä»¥æ¯æ¬¡å†…å±‚å¾ªç¯éƒ½è¦æ›´æ–°max
  - ç½‘å‹ç­”ï¼šä¸æ˜¯ä¾èµ–è‡ªå·±ï¼Œæ˜¯ä¸åŒçš„jéƒ½ä¼šæœ‰ä¸€ä¸ªdp[i]ï¼Œè¿™æ˜¯åœ¨å–ä¸åŒçš„jæƒ…å†µä¸‹dp[i]çš„æœ€å¤§å€¼ã€‚dp[i]å°±æ˜¯æ›´æ–°å‚¨å­˜æœ€å¤§å€¼çš„ï¼Œä¸æ˜¯ä¾èµ–è‡ªå·±ï¼Œè¿˜æ˜¯é‚£ä¸¤ç§æƒ…å†µ, æ„Ÿè§‰è¿˜æ˜¯å†™æˆä¸¤æ®µæ›´å®¹æ˜“ç†è§£ä¸€ç‚¹` int tmp=max(j*(i-j),j*dp[i-j]); dp[i]=max(dp[i],tmp);`

å¤æ‚åº¦åˆ†æï¼š

![image-20220423210349090](lcof.assets/image-20220423210349090.png)

#### å³æ—¶é‡åšæˆåŠŸ

```java
class Solution {
    public int cuttingRope(int n) {
        /**
        ç»³å­å¯ä»¥å‰ªæˆä¸¤ç«¯ï¼Œå·¦è¾¹è¿™æ®µå›ºå®šï¼Œå³è¾¹è¿™æ®µå‰ªä¸å‰ªä½¿ç”¨åŠ¨æ€è§„åˆ’åˆ¤æ–­
         */
        //dpiè¡¨ç¤ºç»³å­é•¿åº¦ä¸ºiæ—¶çš„æœ€å¤§ä¹˜ç§¯;å› ä¸ºè¦è®°å½•dpnï¼Œæ‰€ä»¥dpæ•°ç»„çš„é•¿åº¦è®¾ç½®ä¸ºn+1
        int []dp=new int[n+1];

        //åˆå§‹åŒ–ã€‚é•¿åº¦ä¸º1çš„ç»³å­æ²¡æ³•å‰ªï¼Œä»é•¿åº¦ä¸º3çš„ç»³å­å¼€å§‹è€ƒè™‘
        dp[2]=1;

        //ä»çŸ­ç»³å­åˆ°é•¿ç»³å­ï¼Œæ ¹æ®çŸ­ç»³å­çš„æœ€å¤§ä¹˜ç§¯å¾—åˆ°é•¿ç»³å­çš„æœ€å¤§ä¹˜ç§¯
        for(int i=3;i<=n;i++){
            //é’ˆå¯¹æ¯ä¸ªé•¿åº¦çš„ç»³å­ï¼Œå–ä¸åŒé•¿åº¦çš„å·¦è¾¹æ®µï¼Œæ±‚ä»–çš„æœ€å¤§ä¹˜ç§¯ã€‚iè¡¨ç¤ºç»³å­å…¨é•¿ï¼Œjè¡¨ç¤ºç»³å­çš„å·¦è¾¹çš„é•¿åº¦
            for(int j=1;j<i;j++){
                //å³åŠéƒ¨ç»§ç»­å‰ªçŸ­ï¼Œå’Œå³åŠéƒ¨ä¸ç»§ç»­å‰ªçŸ­ï¼Œä¸¤ç§æƒ…å†µæ±‚å¾—ä¸€ä¸ªè¾ƒå¤§å€¼ï¼›ä½¿ç”¨åˆ°dp(i-j)å°±ä½“ç°äº†åŠ¨æ€è§„åˆ’ç”±å°å¾—åˆ°å¤§çš„æ€æƒ³
                int temp=Math.max(j*(i-j),j*dp[i-j]);
                //è¯¥è¾ƒå¤§å€¼å’Œå…¶ä»–jçš„æƒ…å†µä¸‹è®°è½½çš„è¾ƒå¤§å€¼åšæ¯”è¾ƒï¼Œä¿ç•™ä¸‹å¤§çš„é‚£ä¸ª
                dp[i]=Math.max(dp[i],temp);
            }
        }

        //å¤„ç†å®Œæ•°ç»„åï¼Œè¿”å›dpnå³ä¸ºå‰ªçŸ­é•¿åº¦ä¸ºnçš„æ•°ç»„å¯èƒ½å¾—åˆ°çš„æœ€å¤§ä¹˜ç§¯
        return dp[n];


    }
}
```



### [å‰‘æŒ‡ Offer 57 - II. å’Œä¸ºsçš„è¿ç»­æ­£æ•°åºåˆ—](https://leetcode-cn.com/problems/he-wei-sde-lian-xu-zheng-shu-xu-lie-lcof/)

#### é¦–æˆ˜åŠå¯„

èƒ½é€šè¿‡23/32ä¸ªæµ‹è¯•æ¡ˆä¾‹ï¼Œä½†æ˜¯åœ¨å¤§æ•°ä¸Šè¶…æ—¶äº†ï¼›è‡³å°‘æœ‰æ€è·¯ï¼Œä¸è¿‡ä¸å¤Ÿä¼˜åŒ–ã€‚

```java
class Solution {
    public int[][] findContinuousSequence(int target) {
        /**
        ç­‰å·®æ•°åˆ—æ±‚å’Œå…¬å¼+whileåŒæŒ‡é’ˆ
         */
        List<List<Integer>> resultList =new ArrayList<>();
        List<Integer> oneTempInstance=null;
        //ä»¥æ¯ä¸ªæ•´æ•°ä¸ºleftå¼€å§‹åšåŒæŒ‡é’ˆ
        for(int i=1;i<target;i++){
            long left=i,right=target;
            //åšåŒæŒ‡é’ˆ
            while(left<right){
                long temp1=(left+right)*(right-left+1),temp2=target*2;//é¿å…åå¤è®¡ç®—.é™¤æ³•é»˜è®¤å‘ä¸‹å–æ•´ï¼Œå°½é‡é¿å…ã€‚ç”¨longé˜²æ­¢è¶…è¿‡æ•´æ•°è¾¹ç•Œ
                if(temp1==temp2){//æ‰¾åˆ°ç›®æ ‡æ—¶ã€‚ä¸ä¼šå†åœ¨æœ¬åŸºç¡€ä¸Šç¼©å°èŒƒå›´äº†ï¼Œç”¨breakè·³å‡ºwhileé¿å…æ— æ•ˆè®¡ç®—
                    oneTempInstance=new ArrayList<>();
                    for(int j=(int)left;j<=right;j++){
                        oneTempInstance.add(j);
                    }
                    resultList.add(new ArrayList<>(oneTempInstance));//ä¸ºäº†é¿å…oneInstanceçš„æ“ä½œå½±å“resultListä¸­å·²å­˜å…¥çš„ç»“æœï¼Œæ ¹æ®oneTempInstanceçš„å†…å®¹æ–°åˆ†é…ä¸€å—å†…å­˜ä½œä¸ºresultListçš„å…ƒç´ 
                    break;
                }else if(temp1<temp2){
                    left++;
                }else{
                    right--;
                }
            }
        }

        //æŠŠåˆ—è¡¨è½¬åŒ–ä¸º2ç»´æ•°ç»„è¿”å›ã€‚è½¬æ¢æˆæ•°ç»„æ˜¯çœŸå‚»æ¯”ï¼Œç›´æ¥è¿”å›é“¾è¡¨ä¸å°±è¡Œäº†ï¼
        int[][] result=new int[resultList.size()][];//ç¬¬ä¸€ä¸ªæ–¹æ‹¬å·è¡¨ç¤ºè¡Œï¼Œåº”è¯¥åœ¨è¿™ä¸ªæ‹¬å·é™å®šè¡Œæ•°
        for(int i=0;i<resultList.size();i++){
            //å¤ç”¨oneTempInstance
            oneTempInstance=resultList.get(i);
            int tempSize=oneTempInstance.size();
            //å¯¹äºŒç»´æ•°ç»„ä¸ç­‰é•¿çš„æƒ…å†µåˆ†é…å†…å­˜ï¼šhttps://blog.csdn.net/weixin_30709179/article/details/115082821
            result[i]=new int[tempSize];
            for(int j=0;j<tempSize;j++){
                result[i][j]=oneTempInstance.get(j);
            }
        }
        return result;
    }
}
```

- æ³¨æ„ï¼š
  - å¤§æ•°ä¹˜æ³•çš„æ—¶å€™å¯èƒ½ä¼šè¶…è¿‡æ•´æ•°è¾¹ç•Œï¼Œè¦ç”¨long
  - longåŸºæœ¬ç±»å‹å¯ä»¥ä½¿ç”¨`(int) longValue`æ¥å¼ºè½¬æˆintã€‚
- æˆ‘ï¼šå·²ç»æƒ³åˆ°å·¦å³æŒ‡é’ˆäº†ï¼Œç›¸å½“äºæ˜¯å®˜æ–¹è§£æ³•æ»‘åŠ¨çª—å£çš„ä¸¤è¾¹ï¼Œä½†æ˜¯ç”¨forå¾ªç¯æš´åŠ›å¯¼è‡´O(nlogn)çš„æ—¶é—´å¤æ‚åº¦

#### å®˜æ–¹-æ»‘åŠ¨çª—å£

ä»€ä¹ˆæ˜¯æ»‘åŠ¨çª—å£ï¼š

![image-20220415204353222](lcof.assets/image-20220415204353222.png)

- æ³¨æ„ï¼šå®˜æ–¹è¿™é‡Œè¯´ æ»‘åŠ¨çª—å£ä¸€èˆ¬å·¦é—­å³å¼€ï¼Œä½†æ˜¯å®æˆ˜ä¸­ä¹Ÿå¯ä»¥è‡ªå·±å®ç°ä¸¤ä¸ªéƒ½é—­çš„æ–¹æ³•ï¼Œå¦‚æœ¬é¢˜ã€‚

å¦‚ä½•ç”¨æ»‘åŠ¨çª—å£è§£è¿™é“é¢˜ï¼š

![image-20220415204435385](lcof.assets/image-20220415204435385.png)

![proof](lcof.assets/728c705889a672d5a85709cb3fd157216bb1a41dc377dcc125818d9e18b8dd55.jpg)

![image-20220415204506800](lcof.assets/image-20220415204506800.png)

æ—¶é—´å¤æ‚åº¦ï¼š

![image-20220415204754472](lcof.assets/image-20220415204754472.png)

ä»£ç ï¼š

```java
public int[][] findContinuousSequence(int target) {
    int i = 1; // æ»‘åŠ¨çª—å£çš„å·¦è¾¹ç•Œ
    int j = 1; // æ»‘åŠ¨çª—å£çš„å³è¾¹ç•Œ
    int sum = 0; // æ»‘åŠ¨çª—å£ä¸­æ•°å­—çš„å’Œ
    List<int[]> res = new ArrayList<>();

    while (i <= target / 2) {
        if (sum < target) {
            // å³è¾¹ç•Œå‘å³ç§»åŠ¨
            sum += j;
            j++;
        } else if (sum > target) {
            // å·¦è¾¹ç•Œå‘å³ç§»åŠ¨
            sum -= i;
            i++;
        } else {
            // è®°å½•ç»“æœ
            int[] arr = new int[j-i];
            for (int k = i; k < j; k++) {
                arr[k-i] = k;
            }
            res.add(arr);
            // å·¦è¾¹ç•Œå‘å³ç§»åŠ¨
            sum -= i;
            i++;
        }
    }

    return res.toArray(new int[res.size()][]);
}
```

- ç½‘å‹ï¼šè¿˜æ˜¯æœ‰ç‚¹ä¸å¤ªæ‡‚ä¸ºä»€ä¹ˆi <= target/2ï¼Ÿæ±‚å¤§ä½¬
  - ç½‘å‹ç­”ï¼š5æœ€å¤§åªå¯èƒ½æ˜¯2+3ï¼Œä¸å¯èƒ½ç­‰äº3+4
- æ³¨æ„ï¼š
  - `list.toArray(new æ•°ç»„)`ï¼Œè¦ä¼ å…¥â€œåˆ†é…äº†å†…å­˜çš„æ•°ç»„â€œ
  - å¯ä»¥å…ˆä½¿ç”¨`List<int[]>`å¯¹ç»“æœåˆ—è¡¨è¿›è¡Œåˆå§‹åŒ–ï¼Œæœ€åæŠŠåªæœ‰ä¸€å±‚çš„listè½»æ¾è½¬ä¸ºæ•°ç»„ï¼Œå³å¾—äºŒç»´æ•°ç»„ã€‚
  - `int[] arr = new int[j-i];//è®°å½•ç»“æœ`ä½“ç°äº†å·¦é—­å³å¼€ï¼Œå› ä¸ºiä½ç½®çš„æ•°ä¸ä¼šè¢«è®°å½•ã€‚

ç½‘å‹è¡¥å……ï¼Œæœ‰å·¦é—­å³é—­çš„ï¼Œéƒ½é—­æ›´åˆ©äºç†è§£ï¼š

```java
class Solution {
public int[][] findContinuousSequence(int target) {
            List<int[]> res = new ArrayList<>();
            // æ»‘åŠ¨çª—å£,å·¦å³æŒ‡é’ˆæŒ‡å‘çš„æ•°
            // åˆå§‹çª—å£çš„å®½åº¦ä¸º1ï¼Œæ‰€æœ‰å·¦å³éƒ½æŒ‡å‘1
            int left = 1;
            int right = 1;
            // çª—å£å†…çš„æ•°å­—å’Œ,å·¦é—­å³é—­
            int sum = 1;
            // åªéœ€è¦éå†åˆ°ç›®æ ‡å€¼çš„ä¸€èˆ¬å³å¯ï¼Œåé¢åŠ èµ·æ¥è‚¯å®šå¤§äºtarget
            while (left <= target / 2){
                // å¦‚æœå°äº†ï¼Œå³æŒ‡é’ˆå¢å¤§
                if (sum < target) {
                    right++;
                    sum += right;
                }else if (sum > target){
                    // å¦‚æœå¤§äº†ï¼Œå·¦æŒ‡é’ˆå¢å¤§
                    sum -= left;
                    left++;
                }else {
                    // è¯´æ˜åŒ¹é…ä¸Šäº†éœ€è¦æŠŠçª—å£ä¸­çš„å…ƒç´ æ”¾è¿›ç»“æœé›†
                    int[] level = new int[right - left + 1];
                    for (int i = left; i <= right; i++) {
                        level[i - left] = i;
                    }
                    res.add(level);
                    // åŠ å…¥ç»“æœé›†ä¹‹åçª—å£è¦ç§»åŠ¨
                    sum -= left;
                    left++;
                }
            }
            return res.toArray(new int[res.size()][]);
        }
}
```

#### å³æ—¶å†æˆ˜æˆåŠŸ

```java
class Solution {
    public int[][] findContinuousSequence(int target) {
        /**
        æ»‘åŠ¨çª—å£å·¦é—­å³é—­ï¼Œonæ—¶é—´å¤æ‚åº¦
        æ»‘åŠ¨çª—å£å·¦å³éƒ½åªèƒ½å³ç§»
         */
        List<int[]>resultList=new ArrayList<>();
        int l=1,r=1,sum=1;
        while(l<=target/2){//ä¹‹æ‰€ä»¥è¦<=è€Œä¸æ˜¯<,æ˜¯å› ä¸ºtarget==3çš„æƒ…å†µ
            if(sum>target){
                sum-=l;
                l++;
            }else if(sum<target){
                r++;//æ³¨æ„sum çª—æ²¿çš„å¤„ç†é¡ºåºï¼Œåœ¨ä¸¤ä¸ªifæƒ…å†µæ˜¯ä¸ä¸€æ ·çš„
                sum+=r;
            }else{
                //æ‰¾åˆ°ç›®æ ‡çª—å£ï¼ŒæŠŠæ•°æ®å¡«å…¥
                int[] temp=new int[r-l+1];
                for(int i=l;i<=r;i++){
                    temp[i-l]=i;
                }
                resultList.add(temp);//å› ä¸ºtempåªåœ¨elseçš„èŠ±æ‹¬å·ä¸­å­˜æ´»ï¼Œæ‰€ä»¥ä¸éœ€è¦é¢å¤–ç»™å†…å­˜ï¼Œå·²é˜²æ­¢ä¿®æ”¹tempå¯¼è‡´resultListè¢«ä¿®æ”¹
                //å·¦çª—æ²¿å³ç§»
                sum-=l;
                l++;
            }
        }

        return resultList.toArray(new int[resultList.size()][]);
    }
}
```

- æ³¨æ„ï¼š
  - æŠŠList<int[]>è½¬åŒ–ä¸ºint\[][]è¦ç”¨ï¼š`resultList.toArray(new int[resultList.size()][]);`ã€‚ç¬¬äºŒä¸ªä¸­æ‹¬å·çš„å†…å­˜æ˜¯å·²çŸ¥çš„ï¼Œå› ä¸ºresultListä¸­å·²ç»å­˜äº†æ¯ä¸ªå…ƒç´ ï¼›éœ€è¦è®©toArrayçŸ¥é“çš„æ˜¯resultListæœ‰å¤šå°‘ä¸ªå…ƒç´ ï¼Œæ‰€ä»¥è¦åœ¨ç¬¬ä¸€ä¸ªä¸­æ‹¬å·ä¸­è®¾ç½®å¤§å°ï¼Œå³äºŒç»´æ•°ç»„çš„è¡Œæ•°ã€‚

### [å‰‘æŒ‡ Offer 62. åœ†åœˆä¸­æœ€åå‰©ä¸‹çš„æ•°å­—](https://leetcode-cn.com/problems/yuan-quan-zhong-zui-hou-sheng-xia-de-shu-zi-lcof/)

codetop 27

#### é¦–æˆ˜å¯„

æ²¡æ€è·¯ã€‚

[å‚è€ƒçº¦ç‘Ÿå¤«ç¯](https://blog.csdn.net/u011500062/article/details/72855826)

- ç½‘å‹ï¼šæ¯æ€æ­»ä¸€ä¸ªäººï¼Œæ•´ä½“å¾€å‰ç§»åŠ¨mä¸ªæ•°æ˜¯ä¸ºäº†å‡è®¾ä¸‹ä¸€æ¬¡å¼€å§‹æ•°mä¸ªæ•°æ˜¯ä»0å¼€å§‹ã€‚

  ä¹Ÿå°±æ˜¯è¯´f(11,3)=6
  å‡è®¾æœ€åå­˜æ´»ä¸‹æ¥çš„äººåœ¨ç¬¬ä¸€è½®çš„åæ ‡ä¸º6,æ€æ‰ç¬¬3ä¸ªäºº(i=2)çš„äººï¼Œæ€æ‰åä¸‹ä¸€æ¬¡ä»i=3çš„ä½ç½®å¼€å§‹è®¡æ•°ä¸‹ä¸€è½®ï¼Œè¿™æ—¶å€™è¿˜å‰©10ä¸ªäººï¼Œè¿™æ—¶å€™å¦‚æœæƒ³ä»0è®¡ç®—æœ€åå­˜æ´»ä¸‹æ¥çš„äººçš„åæ ‡ï¼Œå°±å¾—ä»æŠŠä¸‹ä¸€è½®å¼€å§‹è®¡æ•°ä½ç½®(ä¹Ÿå°±æ˜¯i=3)é‚£ä¸ªä½ç½®çš„åæ ‡å‘å·¦ç§»åŠ¨3ï¼Œè¿™æ—¶å€™æ•´ä½“å‘å·¦ç§»3ï¼Œæœ€åå­˜æ´»ä¸‹æ¥çš„åæ ‡ä¹Ÿå°±å˜æˆäº†3ï¼Œä¹Ÿä¼šæ˜¯10ä¸ªäººçš„æ—¶å€™åæ ‡å˜æˆäº†3

#### å®˜æ–¹1-æ¨¡æ‹Ÿé“¾è¡¨

O(n^2)çš„æ—¶é—´å¤æ‚åº¦

![image-20220415235803966](lcof.assets/image-20220415235803966.png)

![image.png](lcof.assets/0a7538f213070b64cac8427d453de6e305fb63c99e9585948f52a116e0558ddc-image.png)

![image-20220415235828058](lcof.assets/image-20220415235828058.png)

```java
class Solution {
    public int lastRemaining(int n, int m) {
        ArrayList<Integer> list = new ArrayList<>(n);
        for (int i = 0; i < n; i++) {
            list.add(i);
        }
        int idx = 0;
        while (n > 1) {
            idx = (idx + m - 1) % n;
            list.remove(idx);
            n--;
        }
        return list.get(0);
    }
}
```



#### å®˜æ–¹2-çº¦ç‘Ÿå¤«ç¯

> è¿™ä¸ªé—®é¢˜æ˜¯ä»¥å¼—æ‹‰ç»´å¥¥Â·çº¦ç‘Ÿå¤«å‘½åçš„ï¼Œä»–æ˜¯1ä¸–çºªçš„ä¸€åçŠ¹å¤ªå†å²å­¦å®¶ã€‚ä»–åœ¨è‡ªå·±çš„æ—¥è®°ä¸­å†™é“ï¼Œä»–å’Œä»–çš„40ä¸ªæˆ˜å‹è¢«ç½—é©¬å†›é˜ŸåŒ…å›´åœ¨æ´ä¸­ã€‚ä»–ä»¬è®¨è®ºæ˜¯è‡ªæ€è¿˜æ˜¯è¢«ä¿˜ï¼Œæœ€ç»ˆå†³å®šè‡ªæ€ï¼Œå¹¶ä»¥æŠ½ç­¾çš„æ–¹å¼å†³å®šè°æ€æ‰è°ã€‚çº¦ç‘Ÿå¤«æ–¯å’Œå¦å¤–ä¸€ä¸ªäººæ˜¯æœ€åä¸¤ä¸ªç•™ä¸‹çš„äººã€‚çº¦ç‘Ÿå¤«æ–¯è¯´æœäº†é‚£ä¸ªäººï¼Œä»–ä»¬å°†å‘ç½—é©¬å†›é˜ŸæŠ•é™ï¼Œä¸å†è‡ªæ€ã€‚çº¦ç‘Ÿå¤«æ–¯æŠŠä»–çš„å­˜æ´»å½’å› äºè¿æ°”æˆ–å¤©æ„ï¼Œä»–ä¸çŸ¥é“æ˜¯å“ªä¸€ä¸ªã€‚ â€”â€” ã€çº¦ç‘Ÿå¤«é—®é¢˜ã€‘ç»´åŸºç™¾ç§‘

æ•°å­¦è§£æ³•ï¼ŒO(n):

è¿™ä¹ˆè‘—åçš„çº¦ç‘Ÿå¤«ç¯é—®é¢˜ï¼Œæ˜¯æœ‰æ•°å­¦è§£æ³•çš„ï¼
å› ä¸ºæ•°æ®æ˜¯æ”¾åœ¨æ•°ç»„é‡Œï¼Œæ‰€ä»¥æˆ‘åœ¨æ•°ç»„åé¢åŠ ä¸Šäº†æ•°ç»„çš„å¤åˆ¶ï¼Œä»¥ä½“ç°æ˜¯ç¯çŠ¶çš„ã€‚æˆ‘ä»¬å…ˆå¿½ç•¥å›¾ç‰‡é‡Œçš„ç®­å¤´ï¼š
ã€ç¬¬ä¸€è½®åé¢çš„æ•°å­—åº”è¯¥æ˜¯[0, 1, 2 ,3 ,4]ï¼Œæ‰‹è¯¯æ‰“é”™äº†ã€‚ã€‚æŠ±æ­‰ã€‘


![image.png](lcof.assets/9dda886441be8d249abb76e35f53f29fd6e780718d4aca2ee3c78f947fb76e75-image.png)

![image-20220415235554790](lcof.assets/image-20220415235554790.png)

```java
class Solution {
    public int lastRemaining(int n, int m) {
        int ans = 0;
        // æœ€åä¸€è½®å‰©ä¸‹2ä¸ªäººï¼Œæ‰€ä»¥ä»2å¼€å§‹åæ¨
        for (int i = 2; i <= n; i++) {
            ans = (ans + m) % i;
        }
        return ans;
    }
}
```

## æ¨¡æ‹Ÿ(ä¸­ç­‰)

### [å‰‘æŒ‡ Offer 29. é¡ºæ—¶é’ˆæ‰“å°çŸ©é˜µ](https://leetcode-cn.com/problems/shun-shi-zhen-da-yin-ju-zhen-lcof/)

codetop 20

#### é¦–æˆ˜æˆåŠŸ

```java
class Solution {
    public int[] spiralOrder(int[][] matrix) {
        /**
        æ¯æ¬¡è§¦åŠè¾¹ç•Œï¼Œå°±è®©è¯¥æ–¹å‘èƒ½è§¦åŠçš„è¾¹ç•Œå†…ç¼©ä¸€ä½ã€‚topï¼Œbottomï¼Œleftï¼Œrightï¼›
        ç”¨å››ä¸ªå°whileæ§åˆ¶é¡ºæ—¶é’ˆæ‰“å°
        ç”¨ä¸€ä¸ªå¤§whileåŒ…è£¹å››ä¸ªå°whileï¼Œæ¯æ¬¡å°whileç»“æŸéƒ½ä¼šä¾¦æµ‹æ˜¯å¦è¦é€€å‡ºå¤§whileï¼ˆupå’Œbuttomäº¤å‰ï¼Œleftå’Œrightäº¤å‰ï¼‰
         */
        //å¤„ç†ç‰¹æ®Šæƒ…å†µ
        if(matrix.length==0)return new int[0];

        //é™åˆ¶é¡ºæ—¶é’ˆè®¿é—®èƒ½åˆ°è¾¾çš„è¾¹ç•Œ
        int top=0,bottom=matrix.length-1,left=0,right=matrix[0].length-1;
        //ä¿å­˜ç»“æœçš„æ•°ç»„
        int[] result=new int[matrix.length*matrix[0].length];
        //ijæ˜¯äºŒç»´æ•°ç»„ä¸­è¦æ‰“å°çš„å½“å‰å…ƒç´ ï¼›countæ˜¯ç»“æœæ•°ç»„çš„å¾…ç‚¹å…¥åæ ‡ï¼Œå¹¶ä¸”èµ·åˆ°äº†è®¡æ•°åŠŸèƒ½
        int i=0,j=0,count=0;
        //å¤§whileä¿æŒé¡ºæ—¶é’ˆ
        while(top<=bottom&&left<=right){
            //å››ä¸ªå°whileæ§åˆ¶é¡ºæ—¶é’ˆçš„æ–¹å‘
            while(j<=right){//å…ˆå³ç§»åŠ¨
                result[count]=matrix[i][j];
                j++;
                count++;
            }
            //å¯èƒ½èµ°åˆ°ä¸­é€”å°±è¦break
            if(count==result.length)break;
            //é€€å‡ºçš„æ—¶å€™å¤šåšäº†ä¸€æ¬¡jåŠ æ³•ä½¿jè¶…è¿‡äº†rightï¼Œè¦å‡å°‘å›æ¥,ä½¿jåœç•™åœ¨è¾¹ç•Œrightï¼Œå‡†å¤‡å‘ä¸‹ç§»åŠ¨;countä¸éœ€è¦å‡å°‘ï¼Œå› ä¸ºå®ƒå¾—åœç•™åœ¨ä¸‹ä¸€æ¬¡è¦å­˜å‚¨çš„ä½ç½®
            j--;
            //å‘å³å¤„ç†å®Œäº†ï¼Œtopè¦++ï¼Œä¸‹æ¬¡ä¸èƒ½å†è§¦åŠè¿™ä¸€è¡Œäº†
            top++;
            //ä¸‹ä¸€æ³¢å¾€ä¸‹èµ°
            i++;
            
            while(i<=bottom){//å†å‘ä¸‹ç§»åŠ¨
                result[count]=matrix[i][j];
                i++;
                count++;
            }
            //å¯èƒ½èµ°åˆ°ä¸­é€”å°±è¦break
            if(count==result.length)break;
            //é€€å‡ºçš„æ—¶å€™å¤šåšäº†ä¸€æ¬¡iåŠ æ³•ä½¿iè¶…è¿‡äº†bottomï¼Œè¦å‡å°‘å›æ¥,ä½¿iåœç•™åœ¨è¾¹ç•Œbottomï¼Œå‡†å¤‡å‘å·¦ç§»åŠ¨;countä¸éœ€è¦å‡å°‘ï¼Œå› ä¸ºå®ƒå¾—åœç•™åœ¨ä¸‹ä¸€æ¬¡è¦å­˜å‚¨çš„ä½ç½®
            i--;
            //å‘å³å¤„ç†å®Œäº†ï¼Œrightè¦--ï¼Œä¸‹æ¬¡ä¸èƒ½å†è§¦åŠè¿™ä¸€åˆ—äº†
            right--;
            //ä¸‹ä¸€æ³¢å¾€å·¦èµ°
            j--;
            
            
            while(j>=left){//å†å‘å·¦ç§»åŠ¨
                result[count]=matrix[i][j];
                j--;
                count++;
            }
            //å¯èƒ½èµ°åˆ°ä¸­é€”å°±è¦break
            if(count==result.length)break;
            //é€€å‡ºçš„æ—¶å€™å¤šåšäº†ä¸€æ¬¡jå‡æ³•ä½¿jè¶…è¿‡äº†leftï¼Œè¦å¢åŠ å›æ¥,ä½¿jåœç•™åœ¨è¾¹ç•Œleftï¼Œå‡†å¤‡å‘ä¸Šç§»åŠ¨;countä¸éœ€è¦å‡å°‘ï¼Œå› ä¸ºå®ƒå¾—åœç•™åœ¨ä¸‹ä¸€æ¬¡è¦å­˜å‚¨çš„ä½ç½®
            j++;
            //å‘å·¦å¤„ç†å®Œäº†ï¼Œbottomè¦--ï¼Œä¸‹æ¬¡ä¸èƒ½å†è§¦åŠè¿™ä¸€è¡Œäº†
            bottom--;
            //ä¸‹ä¸€æ³¢å¾€ä¸Šèµ°
            i--;
            
            while(i>=top){//å†å‘ä¸Šç§»åŠ¨
                result[count]=matrix[i][j];
                i--;
                count++;
            }
            //å¯èƒ½èµ°åˆ°ä¸­é€”å°±è¦break
            if(count==result.length)break;
            //é€€å‡ºçš„æ—¶å€™å¤šåšäº†ä¸€æ¬¡iå‡æ³•ä½¿iè¶…è¿‡äº†topï¼Œè¦å‡å°‘å›æ¥ï¼Œä½¿iåœç•™åœ¨è¾¹ç•Œtopï¼Œå‡†å¤‡å‘å³ç§»åŠ¨;countä¸éœ€è¦å‡å°‘ï¼Œå› ä¸ºå®ƒå¾—åœç•™åœ¨ä¸‹ä¸€æ¬¡è¦å­˜å‚¨çš„ä½ç½®
            i++;
            //å‘ä¸Šå¤„ç†å®Œäº†ï¼Œleftè¦++ï¼Œä¸‹æ¬¡ä¸èƒ½å†è§¦åŠè¿™ä¸€åˆ—äº†
            left++;
            //ä¸‹ä¸€æ³¢å¾€å³èµ°
            j++;
            
        }

        return result;
    }
}
```

- æ³¨æ„ï¼šiä»£è¡¨è¡Œï¼Œjä»£è¡¨åˆ—ï¼›æƒ³è¦å‘å³ç§»åŠ¨çš„è¯ï¼Œiä¸å˜ï¼Œjå¢åŠ ã€‚

#### å®˜æ–¹-æ¨¡æ‹Ÿ+è®¾å®šè¾¹ç•Œ

è§£é¢˜æ€è·¯ï¼š

![image-20220416141340955](lcof.assets/image-20220416141340955.png)

ç®—æ³•æµç¨‹ï¼š

![image-20220416141406403](lcof.assets/image-20220416141406403.png)

å¤æ‚åº¦åˆ†æï¼š

![image-20220416141422173](lcof.assets/image-20220416141422173.png)

ä»£ç ï¼š

> Java ä»£ç åˆ©ç”¨äº† ++ æ“ä½œçš„ä¾¿åˆ©æ€§ï¼Œè¯¦æƒ…å¯è§ ++i å’Œ i++ çš„åŒºåˆ« ï¼›
>
> res[x++] ç­‰ä»·äºå…ˆç»™ res[x] èµ‹å€¼ï¼Œå†ç»™ x è‡ªå¢ 11 ï¼›
> ++t > b ç­‰ä»·äºå…ˆç»™ t è‡ªå¢ 11 ï¼Œå†åˆ¤æ–­ t > b é€»è¾‘è¡¨è¾¾å¼ã€‚

```java
class Solution {
    public int[] spiralOrder(int[][] matrix) {
        if(matrix.length == 0) return new int[0];
        int l = 0, r = matrix[0].length - 1, t = 0, b = matrix.length - 1, x = 0;
        int[] res = new int[(r + 1) * (b + 1)];
        while(true) {
            for(int i = l; i <= r; i++) res[x++] = matrix[t][i]; // left to right.
            if(++t > b) break;
            for(int i = t; i <= b; i++) res[x++] = matrix[i][r]; // top to bottom.
            if(l > --r) break;
            for(int i = r; i >= l; i--) res[x++] = matrix[b][i]; // right to left.
            if(t > --b) break;
            for(int i = b; i >= t; i--) res[x++] = matrix[i][l]; // bottom to top.
            if(++l > r) break;
        }
        return res;
    }
}
```

- ç½‘å‹é—®ï¼šæœ‰ä¸€ä¸ªç–‘æƒ‘ï¼Œä»€ä¹ˆå«æ¨¡æ‹Ÿï¼Ÿ
  - ç½‘å‹ç­”ï¼šå°±æ˜¯ä»£ç çš„æ€è·¯æ˜¯è·Ÿç€å®é™…è¦æ±‚çš„é¡ºæ—¶é’ˆçš„æ€è·¯æ¥èµ°çš„

- æˆ‘ï¼šè‡ªå·±å†™çš„ç‰ˆæœ¬å’Œå®˜æ–¹æ€è·¯ä¸€è‡´ã€‚

### [å‰‘æŒ‡ Offer 31. æ ˆçš„å‹å…¥ã€å¼¹å‡ºåºåˆ—](https://leetcode-cn.com/problems/zhan-de-ya-ru-dan-chu-xu-lie-lcof/)

#### é¦–æˆ˜å¯„ 

æ²¡ä»€ä¹ˆæ€è·¯

#### å®˜æ–¹-æ¨¡æ‹Ÿ

è§£é¢˜æ€è·¯ï¼š

å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œç»™å®šä¸€ä¸ªå‹å…¥åºåˆ— pushedå’Œå¼¹å‡ºåºåˆ— poppedï¼Œåˆ™å‹å…¥ / å¼¹å‡ºæ“ä½œçš„é¡ºåºï¼ˆå³æ’åˆ—ï¼‰æ˜¯ **å”¯ä¸€ç¡®å®š** çš„ã€‚

![Picture1.png](lcof.assets/c880f045c03a8e03b7908b2d49b658a9a32ba8f5d40cb19da62db32c7eb58830-Picture1.png)

å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œæ ˆçš„æ•°æ®æ“ä½œå…·æœ‰ **å…ˆå…¥åå‡º** çš„ç‰¹æ€§ï¼Œå› æ­¤æŸäº›å¼¹å‡ºåºåˆ—æ˜¯æ— æ³•å®ç°çš„ã€‚

![Picture2.png](lcof.assets/4397f5b44038603d70568147824877cacdaa76cef22371c2c80ff55f915092fd-Picture2.png)

è€ƒè™‘å€Ÿç”¨ä¸€ä¸ªè¾…åŠ©æ ˆ stackstack ï¼Œæ¨¡æ‹Ÿ å‹å…¥ / å¼¹å‡ºæ“ä½œçš„æ’åˆ—ã€‚æ ¹æ®æ˜¯å¦æ¨¡æ‹ŸæˆåŠŸï¼Œå³å¯å¾—åˆ°ç»“æœã€‚

- å…¥æ ˆæ“ä½œï¼š æŒ‰ç…§å‹æ ˆåºåˆ—çš„é¡ºåºæ‰§è¡Œã€‚
- å‡ºæ ˆæ“ä½œï¼š æ¯æ¬¡å…¥æ ˆåï¼Œå¾ªç¯åˆ¤æ–­ â€œæ ˆé¡¶å…ƒç´  == å¼¹å‡ºåºåˆ—çš„å½“å‰å…ƒç´ â€ æ˜¯å¦æˆç«‹ï¼Œå°†ç¬¦åˆå¼¹å‡ºåºåˆ—é¡ºåºçš„æ ˆé¡¶å…ƒç´ å…¨éƒ¨å¼¹å‡ºã€‚

> ç”±äºé¢˜ç›®è§„å®š "æ ˆçš„æ‰€æœ‰æ•°å­—å‡ä¸ç›¸ç­‰" ï¼Œå› æ­¤åœ¨å¾ªç¯å…¥æ ˆä¸­ï¼Œæ¯ä¸ªå…ƒç´ å‡ºæ ˆçš„ä½ç½®çš„å¯èƒ½æ€§æ˜¯å”¯ä¸€çš„ï¼ˆè‹¥æœ‰é‡å¤æ•°å­—ï¼Œåˆ™å…·æœ‰å¤šä¸ªå¯å‡ºæ ˆçš„ä½ç½®ï¼‰ã€‚å› è€Œï¼Œåœ¨é‡åˆ° â€œæ ˆé¡¶å…ƒç´  == å¼¹å‡ºåºåˆ—çš„å½“å‰å…ƒç´ â€ å°±åº”ç«‹å³æ‰§è¡Œå‡ºæ ˆã€‚

ç®—æ³•æµç¨‹ï¼š

![image-20220416152859724](lcof.assets/image-20220416152859724.png)

- ä¸åœæŒ‰ç…§å…¥æ ˆæ•°ç»„å…¥æ ˆï¼Œç­‰åˆ°å…¥æ ˆçš„èŠ‚ç‚¹å’Œå‡ºæ ˆæ•°ç»„çš„é¡¶éƒ¨ç›¸åŒæ—¶ï¼Œæ‰æœ‰å‡ºæ ˆçš„èµ„æ ¼ï¼Œè¿™æ˜¯å¾ˆå¥½ç†è§£çš„ã€‚ä½¿ç”¨æ¨¡æ‹Ÿå¯ä»¥ä¾¦æµ‹åˆ°ä¸åˆç†çš„å‡ºå…¥æ ˆé¡ºåºã€‚

å¤æ‚åº¦åˆ†æï¼š

![image-20220416152918099](lcof.assets/image-20220416152918099.png)

ä»£ç ï¼š

> é¢˜ç›®æŒ‡å‡º pushed æ˜¯ popped çš„æ’åˆ— ã€‚å› æ­¤ï¼Œæ— éœ€è€ƒè™‘ pushedpushed å’Œ poppedpopped é•¿åº¦ä¸åŒ æˆ– åŒ…å«å…ƒç´ ä¸åŒ çš„æƒ…å†µã€‚
>

```java
class Solution {
    public boolean validateStackSequences(int[] pushed, int[] popped) {
        Stack<Integer> stack = new Stack<>();
        int i = 0;
        for(int num : pushed) {
            stack.push(num); // num å…¥æ ˆ
            while(!stack.isEmpty() && stack.peek() == popped[i]) { // å¾ªç¯åˆ¤æ–­ä¸å‡ºæ ˆ
                stack.pop();
                i++;
            }
        }
        return stack.isEmpty();
    }
}
```

- ç½‘å‹ï¼šä¸è¿‡Stackä¸å»ºè®®ä½¿ç”¨ï¼Œå¯ä»¥ä½¿ç”¨Dequeï¼ŒDequeä¹ŸåŒ…å«äº†æ ˆçš„pushå’Œpopæ–¹æ³•

  - ç½‘å‹é—®ï¼šä¸ºä»€ä¹ˆå»ºè®®ç”¨ Deque ä»£æ›¿ Stackå‘¢
    - ç½‘å‹ç­”ï¼šè¿™ä¸ªæ˜¯Javaå†å²é—ç•™é—®é¢˜ï¼ŒStackç»§æ‰¿äº†Vectorä¸”æ˜¯Vectorçš„å”¯ä¸€å­ç±»ï¼ŒVectoré€æ¸è¢«JavaæŠ›å¼ƒäº†ï¼Œä¸”Stackæ˜¯å®ä½“ç±»ï¼ŒDequeæ˜¯ä¸€ä¸ªé€šç”¨æ¥å£ï¼Œä½¿ç”¨èµ·æ¥æ›´çµæ´»ï¼Œä½ æŸ¥Java apiä¸­java.util.Stackä¸­å®˜æ–¹æ–‡æ¡£ä¹Ÿç»™å‡ºäº†ä½¿ç”¨Dequeæ¥ä»£æ›¿Stackçš„å»ºè®®ã€‚Dequeä¸€èˆ¬ç”¨LinkedListå®ç°

  - ç½‘å‹è¿½é—®ï¼š stackçš„æ–¹æ³•ï¼Œdequeéƒ½å¯ä»¥ç”¨å—ï¼Ÿ
    - ç½‘å‹ç­”ï¼šå¯ä»¥çš„ï¼Œä½ å°±æŠŠå®ƒå½“æˆä¸ªstackå°±è¡Œï¼Œæ–¹æ³•é€šç”¨

#### å³æ—¶å†æˆ˜æˆåŠŸ

```java
class Solution {
    public boolean validateStackSequences(int[] pushed, int[] popped) {
        /**
        1. ä¸€ä¸ªèŠ‚ç‚¹åªæœ‰å…ˆå…¥æ ˆæ‰èƒ½å‡ºæ ˆï¼Œæ‰€ä»¥æ ¹æ®å…¥æ ˆæ•°ç»„ä¸åœå…¥æ ˆã€‚
        2. å…¥æ ˆåï¼Œå½“å…¥æ ˆçš„å…ƒç´ æ˜¯å‡ºæ ˆæ•°ç»„çš„é¡¶éƒ¨æ—¶ï¼Œä¸åœå‡ºæ ˆ
        3. å‡ºæ ˆå®Œæ¯•åï¼Œç»§ç»­å…¥æ ˆï¼Œçœ‹çœ‹èƒ½å¦ç»§ç»­æœ‰ä¸å‡ºæ ˆæ•°ç»„é¡¶éƒ¨ç›¸åŒçš„å…ƒç´ å…¥æ ˆ

        ä½¿ç”¨dequeå®ç°æ ˆï¼Œè€Œä¸æ˜¯è¿‡æ—¶çš„stack
         */
        Deque<Integer> stack=new LinkedList<>();
        int pophead=0;
        for(int i=0;i<pushed.length;i++){
            //ä¸åœå…¥æ ˆ
            stack.push(pushed[i]);
            //æ¯æ¬¡pushåæ£€æŸ¥æ˜¯å¦å¯ä»¥å¼€å§‹popã€‚æ³¨æ„è¦å…ˆä¿è¯stackä¸ä¸ºç©ºï¼Œå†åšpeekç­‰æ“ä½œï¼Œå¦åˆ™å¯èƒ½å‡ºç°ç©ºæŒ‡é’ˆå¼‚å¸¸ã€‚integeråœ¨è¾ƒå°æ—¶æ˜¯åœ¨å¸¸é‡æ± é‡Œï¼Œä¸è¿‡æœ¬é¢˜ä¸ç¢äº‹ã€‚
            while(!stack.isEmpty()&&stack.peek()==popped[pophead]){//é€€æ ˆè‡³ä¸å¯å†é€€ä¸ºæ­¢ï¼Œå³æ ˆé¡¶å…ƒç´ å’Œpopedæ•°ç»„çš„å½“å‰å…ƒç´ ä¸ä¸€è‡´
                stack.pop();
                pophead++;
            }
        }
        
        //å¦‚æœæ‰§è¡Œå®Œå…¥æ ˆå‡ºæ ˆåï¼Œstackä¸ä¸ºç©ºï¼Œè¯´æ˜poped[]æ˜¯ä¸åˆæ³•çš„
        return stack.isEmpty();
    }
}
```



## å­—ç¬¦ä¸²(ä¸­ç­‰)

### [å‰‘æŒ‡ Offer 20. è¡¨ç¤ºæ•°å€¼çš„å­—ç¬¦ä¸²](https://leetcode-cn.com/problems/biao-shi-shu-zhi-de-zi-fu-chuan-lcof/)

codetop 1

#### é¦–æˆ˜å¯„

æ²¡æœ‰å•¥å¾ˆå¥½çš„æ€è·¯ï¼š

- `s.trim().toCharArray();`ï¼ŒæŠŠå­—ç¬¦ä¸²æ”¶å°¾ç©ºæ ¼å»æ‰ï¼Œç„¶åè½¬åŒ–æˆcharæ•°ç»„å¤„ç† 

- åˆ†æ®µé€’å½’åˆ¤æ–­

ç½‘å‹è¯„ä»·ï¼š

- å…³é”®æ˜¯é¢˜ç›®ä¸­ç»™çš„ç¤ºä¾‹ä¸è¯¦å°½ï¼Œæäº¤ä¸€æ¬¡ï¼Œä¿®æ”¹ä¸€æ¬¡ä»£ç ï¼Œä¿®æ”¹çš„å…¨æ˜¯ç»†èŠ‚ åšä¸€æ¬¡æ¶å¿ƒä¸€æ¬¡
-  è¿™é¢˜æ˜¯ä¸ªå…¸å‹çš„é¢å‘æµ‹è¯•ç”¨ä¾‹ç¼–ç¨‹çš„é¢˜ç›®

#### å¤§ä½¬-å¸¸è§„æ€è·¯

ä¸ªäººæ„Ÿè§‰è¿˜æ˜¯å¸¸è§„æ€è·¯å¥½ç†è§£= =ï¼Œç›´æ¥é€ä½éå†ä¸€éï¼Œå¹¶åšå¥½æ ‡è®°ã€‚

ä»£ç ï¼š

```java
class Solution {
    public boolean isNumber(String s) {
        if(s == null || s.length() == 0) return false; // sä¸ºç©ºå¯¹è±¡æˆ– sé•¿åº¦ä¸º0(ç©ºå­—ç¬¦ä¸²)æ—¶, ä¸èƒ½è¡¨ç¤ºæ•°å€¼
        boolean isNum = false, isDot = false, ise_or_E = false; // æ ‡è®°æ˜¯å¦é‡åˆ°æ•°ä½ã€å°æ•°ç‚¹ã€â€˜eâ€™æˆ–'E'
        char[] str = s.trim().toCharArray();  // åˆ é™¤å­—ç¬¦ä¸²å¤´å°¾çš„ç©ºæ ¼ï¼Œè½¬ä¸ºå­—ç¬¦æ•°ç»„ï¼Œæ–¹ä¾¿éå†åˆ¤æ–­æ¯ä¸ªå­—ç¬¦
        for(int i=0; i<str.length; i++) {
            if(str[i] >= '0' && str[i] <= '9') isNum = true; // åˆ¤æ–­å½“å‰å­—ç¬¦æ˜¯å¦ä¸º 0~9 çš„æ•°ä½
            else if(str[i] == '.') { // é‡åˆ°å°æ•°ç‚¹
                if(isDot || ise_or_E) return false; // å°æ•°ç‚¹ä¹‹å‰å¯ä»¥æ²¡æœ‰æ•´æ•°ï¼Œä½†æ˜¯ä¸èƒ½é‡å¤å‡ºç°å°æ•°ç‚¹ã€æˆ–å‡ºç°â€˜eâ€™ã€'E'
                isDot = true; // æ ‡è®°å·²ç»é‡åˆ°å°æ•°ç‚¹
            }
            else if(str[i] == 'e' || str[i] == 'E') { // é‡åˆ°â€˜eâ€™æˆ–'E'
                if(!isNum || ise_or_E) return false; // â€˜eâ€™æˆ–'E'å‰é¢å¿…é¡»æœ‰æ•´æ•°ï¼Œä¸”å‰é¢ä¸èƒ½é‡å¤å‡ºç°â€˜eâ€™æˆ–'E'
                ise_or_E = true; // æ ‡è®°å·²ç»é‡åˆ°â€˜eâ€™æˆ–'E'
                isNum = false; // é‡ç½®isNumï¼Œå› ä¸ºâ€˜eâ€™æˆ–'E'ä¹‹åä¹Ÿå¿…é¡»æ¥ä¸Šæ•´æ•°ï¼Œé˜²æ­¢å‡ºç° 123eæˆ–è€…123e+çš„éæ³•æƒ…å†µ
            }
            else if(str[i] == '-' ||str[i] == '+') { 
                if(i!=0 && str[i-1] != 'e' && str[i-1] != 'E') return false; // æ­£è´Ÿå·åªå¯èƒ½å‡ºç°åœ¨ç¬¬ä¸€ä¸ªä½ç½®ï¼Œæˆ–è€…å‡ºç°åœ¨â€˜eâ€™æˆ–'E'çš„åé¢ä¸€ä¸ªä½ç½®
            }
            else return false; // å…¶å®ƒæƒ…å†µå‡ä¸ºä¸åˆæ³•å­—ç¬¦
        }
        return isNum;
    }
}
```

#### å³æ—¶å†æˆ˜

é¢˜ç›®ä¸æ˜¯å•¥å¥½é¢˜ï¼Œå°±ä¸å†æˆ˜äº†ã€‚

### [å‰‘æŒ‡ Offer 67. æŠŠå­—ç¬¦ä¸²è½¬æ¢æˆæ•´æ•°](https://leetcode-cn.com/problems/ba-zi-fu-chuan-zhuan-huan-cheng-zheng-shu-lcof/)

codetop 1

#### é¦–æˆ˜åŠå¯„

è¿‡äº†1025 / 1079ä¸ªæµ‹è¯•æ¡ˆä¾‹ï¼Œä¼šæœ‰ä¸€äº›å¥‡æ€ªçš„åˆ¤ä¾‹å‡ºç°ï¼Œæ€»æ˜¯å¾—ä¿®æ”¹ä»£ç ï¼Œæ²¡è€ƒè™‘åˆ°å“ªäº›å¥‡æ€ªçš„æƒ…å†µï¼Œå°±ä¸ç»§ç»­å®Œå–„äº†ã€‚

å­—ç¬¦ä¸²çš„é¢˜ä»¥åå‡ºç°ç‡ä¸é«˜çš„å°±ä¸è¦å¤ªèŠ±æ—¶é—´äº†ï¼Œæ„Ÿè§‰ä¸å€¼ã€‚ã€‚

```java
class Solution {
    public int strToInt(String str) {
        //ç‰¹æ®Šå¤„ç†ï¼šå¦‚æœå­—ç¬¦ä¸²ä¸ºç©ºï¼Œç›´æ¥è¿”å›0
        if(str==null)return 0;
        char[] chs=str.trim().toCharArray();
        //ç‰¹æ®Šå¤„ç†ï¼šå¦‚æœå­—ç¬¦ä¸²åªæœ‰ç©ºæ ¼ï¼Œç›´æ¥è¿”å›0
        if(chs.length==0)return 0;

        //lrå¤¹ä½å€¼
        int l=0,r=0;
        boolean alwaysZero=true;
        //åªè¦å‡ºç°ä¸åˆæ³•çš„æƒ…å†µå°±breakï¼Œè¿™æ ·breakæ—¶içš„ä½ç½®åŠä¹‹å‰çš„æ•°éƒ½æ˜¯åˆæ³•çš„ã€‚ç”±äºä¸åˆæ³•çš„æƒ…å†µæ¯”è¾ƒå¤šï¼ŒæŠ“ä½åˆæ³•çš„æ¥åˆ¤æ–­æ”¾è¡Œ
        while(r<chs.length){
            if(chs[r]=='0'&&alwaysZero){//åªæœ‰ä»å¤´å¼€å§‹çš„è¿è´¯çš„0æ‰èƒ½è¿›å…¥æœ¬if
                r++;
                l++;
            }else if(isInt(chs[r])){
                alwaysZero=false;
                r++;
            }else if(isSig(chs[r])&&r==0&&chs.length!=1){//chs.length!=1æ˜¯ä¸ºäº†é˜²æ­¢'+'å’Œ'-'é€šè¿‡è¿‡æ»¤
                r++;
            }else{
                break;
            }

            //ç‰¹æ®Šå€¼å¤„ç†ï¼Œé˜²æ­¢å­—ç¬¦è¿longéƒ½è¶…è¿‡
            if(r-l+1>11){//æœ€å¤§æ•´æ•°æœ‰10ä½ï¼ŒåŠ ä¸Š-+ä¸€ä½
                if(chs[0]=='-')return Integer.MIN_VALUE;
                else return Integer.MAX_VALUE;
            }
        }

        //System.out.println("æˆªå–åˆ°çš„ç»“æœä¸ºï¼š"+str.substring(0,i));
        //å¾—åˆ°çš„æ•´æ•°èŒƒå›´ä¸º0~i-1ï¼ŒæŠŠå­—ç¬¦æ•°ç»„å¤„ç†æˆæ•´æ•°ã€‚
        int tens=1;
        //ç”¨longè®°å½•ç»“æœï¼Œåœ¨ç»“æœè¶…è¿‡æ•´æ•°èŒƒå›´çš„æ—¶å€™ç›´æ¥è¿”å›å¯¹åº”çš„æ•´æ•°è¾¹ç•Œ
        long result=0;
        //é’ˆå¯¹æ­£æ•°å’Œè´Ÿæ•°åšä¸åŒå¤„ç†ï¼Œé¿å…å¯¹æ¯ä¸ªå­—èŠ‚åˆ¤æ–­-
        if(chs[0]=='-'){
            //å¤„ç†åˆ°1ä¸ºæ­¢
            for(int j=r-1;j>=1;j--){
                // System.out.print("å½“å‰å¤„ç†çš„å­—ç¬¦ä¸ºï¼š");
                // System.out.println(chs[j]);
                long temp=Long.valueOf(String.valueOf(chs[j]))*tens;
                //System.out.println("tempä¸ºï¼š"+temp);
                result+=temp;
                if(-result<(long)Integer.MIN_VALUE)return Integer.MIN_VALUE;

                tens*=10;
            }
            return (int)-result;
        }else if(chs[0]=='+'){
            //å¤„ç†åˆ°1ä¸ºæ­¢
            for(int j=r-1;j>=1;j--){
                // System.out.print("å½“å‰å¤„ç†çš„å­—ç¬¦ä¸ºï¼š");
                // System.out.println(chs[j]);
                //System.out.println("Integer.valueOf(chs[j])ï¼š"+Integer.valueOf(chs[j]));ç›´æ¥ä½¿ç”¨Integer.valueOf('2')ä¼šå¾—åˆ°50ï¼Œè¦å…ˆæŠŠå­—ç¬¦è½¬åŒ–ä¸ºå­—ç¬¦ä¸²å¤„ç†
                long temp=Long.valueOf(String.valueOf(chs[j]))*tens;
                //System.out.println("tempä¸ºï¼š"+temp);
                result+=temp;
                if(result>(long)Integer.MAX_VALUE)return Integer.MAX_VALUE;

                tens*=10;
            }
            return (int)result;

        }else{
            //å¤„ç†åˆ°0ä¸ºæ­¢
            for(int j=r-1;j>=0;j--){
                System.out.print("å½“å‰å¤„ç†çš„å­—ç¬¦ä¸ºï¼š");
                System.out.println(chs[j]);
                //System.out.println("Integer.valueOf(chs[j])ï¼š"+Integer.valueOf(chs[j]));ç›´æ¥ä½¿ç”¨Integer.valueOf('2')ä¼šå¾—åˆ°50ï¼Œè¦å…ˆæŠŠå­—ç¬¦è½¬åŒ–ä¸ºå­—ç¬¦ä¸²å¤„ç†
                long temp=Long.valueOf(String.valueOf(chs[j]))*tens;
                System.out.println("tempä¸ºï¼š"+temp);
                result+=temp;
                if(result>(long)Integer.MAX_VALUE)return Integer.MAX_VALUE;

                tens*=10;
            }
            return (int)result;
        }

    }
    public boolean isInt(char ch){//å¯ä»¥ç”¨switch
        if(ch=='0'||ch=='1'||ch=='2'||ch=='3'||ch=='4'||ch=='5'||ch=='6'||ch=='7'||ch=='8'||ch=='9')return true;

        return false;
    }
    public boolean isSig(char ch){
        if(ch=='+'||ch=='-')return true;

        return false;
    }
}
```

#### å®˜æ–¹-æ•°å­—è¶Šç•Œå¤„ç†

è§£é¢˜æ€è·¯ï¼š

![image-20220416204636792](lcof.assets/image-20220416204636792.png)

![Picture1.png](lcof.assets/0be9098b13047fe3e07f3c4e51c612244ace01a023ed010bce43940408334f2a-Picture1.png)

æ•°å­—è¶Šç•Œå¤„ç†ï¼š

![image-20220416204705051](lcof.assets/image-20220416204705051.png)

![Picture2.png](lcof.assets/d1b06a91801868af63f6e309da31bcfa01c7b6c385529fb974389a61e454cd12-Picture2.png)

å¤æ‚åº¦åˆ†æï¼š

![image-20220416204732055](lcof.assets/image-20220416204732055.png)

ä»£ç ï¼š

```java
class Solution {
    public int strToInt(String str) {
        char[] c = str.trim().toCharArray();
        if(c.length == 0) return 0;
        int res = 0, bndry = Integer.MAX_VALUE / 10;
        int i = 1, sign = 1;
        if(c[0] == '-') sign = -1;
        else if(c[0] != '+') i = 0;
        for(int j = i; j < c.length; j++) {
            if(c[j] < '0' || c[j] > '9') break;
            if(res > bndry || res == bndry && c[j] > '7') return sign == 1 ? Integer.MAX_VALUE : Integer.MIN_VALUE;
            res = res * 10 + (c[j] - '0');
        }
        return sign * res;
    }
}
```

## æ ˆä¸é˜Ÿåˆ—(å›°éš¾)

### [å‰‘æŒ‡ Offer 59 - I. æ»‘åŠ¨çª—å£çš„æœ€å¤§å€¼](https://leetcode-cn.com/problems/hua-dong-chuang-kou-de-zui-da-zhi-lcof/)

codetop 7

#### é¦–æˆ˜å¯„

æ²¡æœ‰å¥½æ€è·¯ï¼Œåªæƒ³åˆ°ï¼šéå†æ—¶æ²¡åˆ°è¾¾ä¸€ä¸ªæ•°ï¼Œå°±éå†çª—å£å†…éƒ¨æ‹¿åˆ°æœ€å¤§å€¼ï¼Œè¿™ä¹ˆå†™æ²¡ä»€ä¹ˆæ„ä¹‰

#### å¤§ä½¬-priorityQueue

ä¼˜å…ˆé˜Ÿåˆ—ç§’äº†æ²¡æœ‰è¶…æ—¶ï¼Œ ä¸èƒ½è¯¥æ˜¯å›°éš¾é¢˜å§

```java
class Solution {
    public int[] maxSlidingWindow(int[] nums, int k) {
        if(nums.length==0) return new int[0];
        PriorityQueue<Integer> queue = new PriorityQueue<Integer>((o1,o2)->{return o2-o1;});
        int[] res = new int[nums.length-k+1];
        for(int i = 0;i<k-1;++i) queue.offer(nums[i]);
        for(int i = 0;i<res.length;++i){
            queue.offer(nums[i+k-1]);
            res[i] = queue.peek();
            queue.remove(nums[i]);
        }
        return res;
    }
}
```

- ç½‘å‹è¯„ä»·ï¼šè™½ç„¶æ—¶é—´å¤æ‚åº¦æ˜¯ nlogk ï¼Œä½†èƒœåœ¨æ€æƒ³å’Œç¼–å†™éƒ½ç®€å•ã€‚

- [PriorityQueueè¯¦è§£](https://blog.csdn.net/hellokitty136/article/details/105831884)

#### å®˜æ–¹-å•è°ƒé˜Ÿåˆ—

è§£é¢˜æ€è·¯ï¼š

![image-20220418193659791](lcof.assets/image-20220418193659791.png)

![Picture1.png](lcof.assets/1600878237-pBiBdf-Picture1.png)

![image-20220418193737505](lcof.assets/image-20220418193737505.png)

- é—®ç­”é—®ï¼šè·å–çª—å£ä¸­æœ€å¤§å€¼çš„æ—¶é—´å¤æ‚åº¦æ˜¯é™åˆ°o1äº†ï¼Œä½†æ˜¯æ¯æ¬¡å…ƒç´ æ·»åŠ è¿›dequeï¼Œéƒ½éœ€è¦éå†åˆ é™¤æ‰€æœ‰å€¼æ¯”æ–°åŠ è¿›æ¥çš„å…ƒç´ å°çš„å…ƒç´ ï¼Œè¿™æˆ‘æ„Ÿè§‰ä¹Ÿæ˜¯okçš„æ—¶é—´å¤æ‚åº¦ï¼Œé‚£ä¹ˆæ€»çš„æ—¶é—´å¤æ‚åº¦æ˜¯ä¸æ˜¯æ²¡å˜ï¼Ÿ
  - è‡ªç­”ï¼šå°±åƒåˆ†ææ—¶é—´å¤æ‚åº¦å¤„è¯´çš„ï¼Œdequeä¸­æ¯ä¸ªå…ƒç´ æœ€å¤šåªä¼šå…¥é˜Ÿä¸€æ¬¡å’Œå‡ºé˜Ÿä¸€æ¬¡ï¼Œå¹¶ä¸”å…ƒç´ å‡ºé˜Ÿæ—¶removelastçš„æ—¶é—´å¤æ‚åº¦æ˜¯o1ï¼›æ‰€ä»¥å°±ç®—æ˜¯æ‰¹é‡ä¸€æ¬¡æ€§åˆ é™¤å¤šä¸ªå…ƒç´ ï¼Œé‚£ä¹ˆåç»­éœ€è¦åˆ é™¤çš„å…ƒç´ å°±å°‘äº†ï¼ˆæ€»æ•°æœ€å¤šä¼šæœ‰nä¸ªå…ƒç´ å…¥é˜Ÿï¼‰ï¼Œæ‰€ä»¥è¿™å—ä¸æ„æˆonä¸­åµŒå¥—okçš„æ—¶é—´å¤æ‚åº¦ï¼Œè€Œæ˜¯on+on==o2n==onçš„æ—¶é—´å¤æ‚åº¦ã€‚

ç®—æ³•æµç¨‹ï¼š

![image-20220418194145067](lcof.assets/image-20220418194145067.png)

å¤æ‚åº¦åˆ†æï¼š

![image-20220418194228120](lcof.assets/image-20220418194228120.png)

ä»£ç ï¼š

```java
class Solution {
    public int[] maxSlidingWindow(int[] nums, int k) {
        //å•è°ƒé˜Ÿåˆ—
        //ä¸‹é¢æ˜¯è¦æ³¨æ„çš„ç‚¹ï¼š
        //é˜Ÿåˆ—æŒ‰ä»å¤§åˆ°å°æ”¾å…¥
        //å¦‚æœé¦–ä½å€¼ï¼ˆå³æœ€å¤§å€¼ï¼‰ä¸åœ¨çª—å£åŒºé—´ï¼Œåˆ é™¤é¦–ä½
        //å¦‚æœæ–°å¢çš„å€¼å°äºé˜Ÿåˆ—å°¾éƒ¨å€¼ï¼ŒåŠ åˆ°é˜Ÿåˆ—å°¾éƒ¨
        //å¦‚æœæ–°å¢å€¼å¤§äºé˜Ÿåˆ—å°¾éƒ¨å€¼ï¼Œåˆ é™¤é˜Ÿåˆ—ä¸­æ¯”æ–°å¢å€¼å°çš„å€¼ï¼Œå¦‚æœåœ¨æŠŠæ–°å¢å€¼åŠ å…¥åˆ°é˜Ÿåˆ—ä¸­
        //å¦‚æœæ–°å¢å€¼å¤§äºé˜Ÿåˆ—ä¸­æ‰€æœ‰å€¼ï¼Œåˆ é™¤æ‰€æœ‰ï¼Œç„¶åæŠŠæ–°å¢å€¼æ”¾åˆ°é˜Ÿåˆ—é¦–ä½ï¼Œä¿è¯é˜Ÿåˆ—ä¸€ç›´æ˜¯ä»å¤§åˆ°å°
        if (nums.length == 0)   return nums;

        Deque<Integer> deque = new LinkedList<>();
        int[] arr = new int[nums.length - k + 1];
        int index = 0;  //arræ•°ç»„çš„ä¸‹æ ‡
        //æœªå½¢æˆçª—å£åŒºé—´
        for (int i = 0; i < k; i++) {
            //é˜Ÿåˆ—ä¸ä¸ºç©ºæ—¶ï¼Œå½“å‰å€¼ä¸é˜Ÿåˆ—å°¾éƒ¨å€¼æ¯”è¾ƒï¼Œå¦‚æœå¤§äºï¼Œåˆ é™¤é˜Ÿåˆ—å°¾éƒ¨å€¼
            //ä¸€ç›´å¾ªç¯åˆ é™¤åˆ°é˜Ÿåˆ—ä¸­çš„å€¼éƒ½å¤§äºå½“å‰å€¼ï¼Œæˆ–è€…åˆ åˆ°é˜Ÿåˆ—ä¸ºç©º
            while (!deque.isEmpty() && nums[i] > deque.peekLast())  deque.removeLast();
            //æ‰§è¡Œå®Œä¸Šé¢çš„å¾ªç¯åï¼Œé˜Ÿåˆ—ä¸­è¦ä¹ˆä¸ºç©ºï¼Œè¦ä¹ˆå€¼éƒ½æ¯”å½“å‰å€¼å¤§ï¼Œç„¶åå°±æŠŠå½“å‰å€¼æ·»åŠ åˆ°é˜Ÿåˆ—ä¸­
            deque.addLast(nums[i]);
        }
        //çª—å£åŒºé—´åˆšå½¢æˆåï¼ŒæŠŠé˜Ÿåˆ—é¦–ä½å€¼æ·»åŠ åˆ°é˜Ÿåˆ—ä¸­
        //å› ä¸ºçª—å£å½¢æˆåï¼Œå°±éœ€è¦æŠŠé˜Ÿåˆ—é¦–ä½æ·»åŠ åˆ°æ•°ç»„ä¸­ï¼Œè€Œä¸‹é¢çš„å¾ªç¯æ˜¯ç›´æ¥è·³è¿‡è¿™ä¸€æ­¥çš„ï¼Œæ‰€ä»¥éœ€è¦æˆ‘ä»¬ç›´æ¥æ·»åŠ 
        arr[index++] = deque.peekFirst();
        //çª—å£åŒºé—´å½¢æˆ
        for (int i = k; i < nums.length; i++) {
            //i-kæ˜¯å·²ç»åœ¨åŒºé—´å¤–äº†ï¼Œå¦‚æœé¦–ä½ç­‰äºnums[i-k]ï¼Œé‚£ä¹ˆè¯´æ˜æ­¤æ—¶é¦–ä½å€¼å·²ç»ä¸å†åŒºé—´å†…äº†ï¼Œéœ€è¦åˆ é™¤
            if (deque.peekFirst() == nums[i - k])   deque.removeFirst();
            //åˆ é™¤é˜Ÿåˆ—ä¸­æ¯”å½“å‰å€¼å°çš„å€¼
            while (!deque.isEmpty() && nums[i] > deque.peekLast())  deque.removeLast();
            //æŠŠå½“å‰å€¼æ·»åŠ åˆ°é˜Ÿåˆ—ä¸­
            deque.addLast(nums[i]);
            //æŠŠé˜Ÿåˆ—çš„é¦–ä½å€¼æ·»åŠ åˆ°arræ•°ç»„ä¸­
            arr[index++] = deque.peekFirst();
        }
        return arr;
    }
}
```

#### å³æ—¶å†æˆ˜æˆåŠŸ

```java
class Solution {
    public int[] maxSlidingWindow(int[] nums, int k) {
        /**
        ä½¿ç”¨å•è°ƒé˜Ÿåˆ—
         */

        //å¤„ç†ç‰¹æ®Šæƒ…å†µ
        if(nums.length==0)return new int[0];

        //æ–°å»ºå•è°ƒé˜Ÿåˆ—å’Œå­˜ç»“æœçš„æ•°ç»„
        Deque<Integer> queue=new LinkedList<>();
        int[] res=new int[nums.length-k+1];

        //å¤„ç†çª—å£æœªå®Œå…¨è¦†ç›–æ•°ç»„å‰çš„æƒ…å†µ,å³æ²¡æœ‰å…ƒç´ ä»çª—å£å·¦è¾¹æ»‘å‡ºçš„æƒ…å†µã€‚iè¡¨ç¤ºçª—å£æœªå®Œå…¨å±•ç°æ—¶çš„å³è¾¹ç¼˜,0~k-1ã€‚åˆ é™¤å’Œå¢åŠ éƒ½æ˜¯ä»laståšï¼Œè¿™æ ·ä¿è¯firstæ€»æ˜¯æœ€å¤§å…ƒç´ ã€‚
        for(int i=0;i<k;i++){
            //æŠŠé˜Ÿåˆ—ä¸­æ¯”å½“å‰å…ƒç´ å°çš„æ•°éƒ½åˆ æ‰ï¼Œç”±äºæ¯ä¸ªå…ƒç´ åªä¼šå…¥æ ˆå‡ºæ ˆä¸€æ¬¡ï¼Œæ‰€ä»¥è¿™ä¸ªwhileä¸ä¼šé€ æˆåµŒå¥—è€Œæˆçš„ä¹˜æ³•æ—¶é—´å¤æ‚åº¦ã€‚
            while(!queue.isEmpty()&&queue.peekLast()<nums[i]){//!!!!whileè¦ç¡®ä¿queueä¸ä¸ºç©ºï¼Œå¦åˆ™ä¼šåšpeeklastä¼šæœ‰ç©ºæŒ‡é’ˆå¼‚å¸¸
                queue.pollLast();
            }
            //æŠŠå½“å‰å…ƒç´ åŠ å…¥å•è°ƒé˜Ÿåˆ—æœ«å°¾ï¼Œæ­¤æ—¶ä¿è¯äº†é˜Ÿåˆ—ä¸­ä¸ä¼šæœ‰æ¯”å®ƒè¿˜å°çš„å…ƒç´ 
            queue.offerLast(nums[i]);
        }

        //æ­¤æ—¶çª—å­çš„å·¦è¾¹ç¼˜æ­£å¥½åœ¨nums[0]ï¼ŒæŠŠæ­¤æ—¶çª—å£ä¸­çš„æœ€å¤§å€¼è®°å½•ä¸‹æ¥
        res[0]=queue.peekFirst();

        //æ­¤æ—¶çª—å­çš„å·¦è¾¹ç¼˜æ­£å¥½åœ¨nums[0]ï¼Œæ¥ä¸‹æ¥çš„æ»‘åŠ¨çª—å£å°±ä¼šæœ‰å…ƒç´ ä»çª—æˆ·å·¦è¾¹æ»‘å‡ºäº†ã€‚è¿™é‡Œçš„iè¿˜æ˜¯ä»¥æ»‘åŠ¨çª—å£çš„å³è¾¹ç¼˜ä¸ºå‡†
        for(int i=k;i<nums.length;i++){
            //å…ˆå¤„ç†å‡ºé˜Ÿï¼Œå†å¤„ç†å…¥é˜Ÿï¼Œè¿™æ ·å¯ä»¥ä¿è¯é˜Ÿåˆ—å•è°ƒé€’å‡
            //å¦‚æœå‡ºé˜Ÿçš„å…ƒç´ æ˜¯queueçš„æœ€å¤§å…ƒç´ ï¼Œå°±æŠŠå®ƒä»queueä¸­ç§»é™¤
            if(nums[i-k]==queue.peekFirst()){
                queue.pollFirst();
            }
            //çª—å£æœ‰è¾¹ç¼˜è¦å¾€queueä¸­è¿›å…ƒç´ æ—¶ï¼Œè€è§„çŸ©ï¼Œå…ˆæŠŠqueueä¸­æ¯”è¦è¿›çš„å…ƒç´ å°çš„å…ƒç´ åˆ é™¤ï¼Œå†è¿›å…ƒç´ 
            while(!queue.isEmpty()&&queue.peekLast()<nums[i]){
                queue.pollLast();
            }
            queue.offerLast(nums[i]);

            //æŠŠqueueçš„å¤´éƒ¨å…ƒç´ æ”¾å…¥resï¼Œå› ä¸ºå®ƒå°±æ˜¯æ­¤æ—¶çª—å£ä¸­æœ€å¤§çš„å…ƒç´ ï¼›ç¬¬ä¸€æ¬¡æ·»åŠ æ—¶çª—å£å·¦ä¾§åœ¨nums[1]
            res[i-k+1]=queue.peekFirst();
        }

        return res;

    }
}
```

### [å‰‘æŒ‡ Offer 59 - II. é˜Ÿåˆ—çš„æœ€å¤§å€¼](https://leetcode-cn.com/problems/dui-lie-de-zui-da-zhi-lcof/)

codetop 5

#### é¦–æˆ˜åŠå¯„

ä»£ç éƒ½å†™å‡ºæ¥äº†ï¼Œä½†æ˜¯èŠ±äº†å¾ˆå¤šæ—¶é—´debugé˜¿é‡Œæ‰‹å†Œæè¿‡çš„integerç”¨equalsæ¯”è¾ƒçš„é—®é¢˜ï¼Œæ‰€ä»¥ç®—â€åŠå¯„â€œ

```java
class MaxQueue {
    /**
    pushbackå’Œpopfrontç”¨é˜Ÿåˆ—å®ç°ï¼Œéƒ½å¤©ç„¶æ˜¯o1çš„æ—¶é—´å¤æ‚åº¦
    maxvalueå°±å¾—ç”¨ä¸€ä¸ªé¢å¤–çš„å•è°ƒé˜Ÿåˆ—ï¼Œæ¥è®°è½½æ­¤æ—¶å­˜å‚¨é˜Ÿåˆ—ä¸­çš„æœ€å¤§å€¼
     */
    //å•è°ƒé˜Ÿåˆ—ï¼Œç”¨äºä¿å­˜å½“å‰dequeçš„ï¼ˆæ½œåœ¨ï¼‰æœ€å¤§å€¼
    Deque<Integer> monotonousQueue=null;
    //å½“å‰dequeï¼Œç”¨äºå­˜å‚¨æ•°æ®
    Deque<Integer> queue=null;

    //æ„é€ å‡½æ•°ä¸ºæœ¬å¯¹è±¡åˆ†é…å†…å­˜
    public MaxQueue() {
        monotonousQueue=new LinkedList<>();
        queue=new LinkedList<>();
    }
    
    //monotonousQueueçš„å¤´éƒ¨æ€»æ˜¯å½“å‰é˜Ÿåˆ—çš„æœ€å¤§å€¼ï¼›å¦‚æœé˜Ÿåˆ—ä¸ºç©ºåˆ™è¿”å›-1ï¼›
    public int max_value() {
        //printQueues();
        if(monotonousQueue.isEmpty()){
            return -1;
        }else{
            return monotonousQueue.peekFirst();
        }
    }
    
    public void push_back(int value) {
        //æ•°æ®ç›´æ¥å¾€queueä¸­æ”¾ï¼›
        queue.offerLast(value);

        //æŠŠmonotonousQueueä¸­æ¯”valueå°çš„èŠ‚ç‚¹åˆ æ‰åï¼ŒæŠŠvalueæ”¾å…¥monotonousQueueçš„å°¾éƒ¨ï¼Œä¿è¯monotonousQueueå•è°ƒé€’å‡
        while(!monotonousQueue.isEmpty()&&monotonousQueue.peekLast()<value) monotonousQueue.pollLast();
        monotonousQueue.offerLast(value);
    }
    
    public int pop_front() {
        //å¦‚æœé˜Ÿåˆ—ä¸ºç©ºï¼Œä¸éœ€è¦å®é™…popï¼Œç›´æ¥è¿”å›-1
        if(queue.isEmpty())return -1;

        //é˜Ÿåˆ—ä¸ä¸ºç©ºï¼ŒæŸ¥çœ‹è¦popçš„æ˜¯ä¸æ˜¯monotonousQueueçš„å¤´èŠ‚ç‚¹ï¼Œå³queueä¸­çš„æœ€å¤§èŠ‚ç‚¹ï¼›å¦‚æœæ˜¯çš„è¯ï¼Œåˆ™åˆ æ‰monotonousQueueä¸­çš„å¤´ç»“ç‚¹ã€‚æ³¨æ„queue.peekFirst().equals(monotonousQueue.peekFirst())ä¸èƒ½å†™æˆç”¨==æ¯”è¾ƒï¼Œå› ä¸ºè¿”å›çš„æ˜¯Integerå¯¹è±¡ä¼šå‡ºç°æ— æ³•åˆ¤ç­‰äºçš„æƒ…å†µï¼ŒåŸå› è§ï¼ˆhttps://blog.csdn.net/qq_39677544/article/details/78849988ï¼‰ï¼Œè¿™æ˜¯é˜¿é‡Œæ‰‹å†Œæè¿‡çš„å¤§å‘ï¼ï¼
        if(queue.peekFirst().equals(monotonousQueue.peekFirst()))monotonousQueue.pollFirst();
        //å¤„ç†å®ŒmonotonousQueueåï¼Œç›´æ¥æŠŠqueueçš„å¤´èŠ‚ç‚¹å³è¦å‡ºé˜Ÿçš„èŠ‚ç‚¹è¿”å›
        return queue.pollFirst();
    }

    //debugæµ‹è¯•æ—¶ç”¨çš„ï¼Œæäº¤æ—¶å¯ä»¥æ³¨é‡Šæ‰
    public void printQueues(){
        System.out.println("====================å½“å‰queueä¸ºï¼š");
        Iterator<Integer> iterator1 = queue.iterator();
        while(iterator1.hasNext()){
            System.out.print(iterator1.next()+" ");
        }
        System.out.println("====================å½“å‰queueç»“æŸ");

        System.out.println("=====================å½“å‰monotonousQueueä¸ºï¼š");
        Iterator<Integer> iterator2 = monotonousQueue.iterator();
        while(iterator2.hasNext()){
            System.out.print(iterator2.next()+" ");
        }
        System.out.println("=====================å½“å‰monotonousQueueç»“æŸ");

    }
}

/**
 * Your MaxQueue object will be instantiated and called as such:
 * MaxQueue obj = new MaxQueue();
 * int param_1 = obj.max_value();
 * obj.push_back(value);
 * int param_3 = obj.pop_front();
 */
```

- æ³¨æ„ï¼š å¤§å‘ï¼ŒIntegerå’ŒStringåœ¨æ¯”è¾ƒå†…å®¹å€¼å¤§å°æ—¶ï¼Œè¦ä½¿ç”¨equalsï¼Œè€Œä¸æ˜¯ä½¿ç”¨æ¯”è¾ƒåœ°å€çš„`==`ã€‚[åŸå› ](https://blog.csdn.net/qq_39677544/article/details/78849988)

#### å®˜æ–¹-å•è°ƒåŒå‘é˜Ÿåˆ—

è§£é¢˜æ€è·¯ï¼š

![image-20220419161423045](lcof.assets/image-20220419161423045.png)



![Picture1.png](lcof.assets/1609261470-WanZuG-Picture1.png)

![image-20220419161504057](lcof.assets/image-20220419161504057.png)

![Picture2.png](lcof.assets/1609261470-gMTEAf-Picture2.png)

![image-20220419161545885](lcof.assets/image-20220419161545885.png)

å‡½æ•°è®¾è®¡ï¼š

![image-20220419161614034](lcof.assets/image-20220419161614034.png)

å¤æ‚åº¦åˆ†æï¼š

![image-20220419161638177](lcof.assets/image-20220419161638177.png)

ä»£ç ï¼š

```java
class MaxQueue {
    Queue<Integer> queue;
    Deque<Integer> deque;
    public MaxQueue() {
        queue = new LinkedList<>();
        deque = new LinkedList<>();
    }
    public int max_value() {
        return deque.isEmpty() ? -1 : deque.peekFirst();
    }
    public void push_back(int value) {
        queue.offer(value);
        while(!deque.isEmpty() && deque.peekLast() < value)
            deque.pollLast();
        deque.offerLast(value);
    }
    public int pop_front() {
        if(queue.isEmpty()) return -1;
        if(queue.peek().equals(deque.peekFirst()))
            deque.pollFirst();
        return queue.poll();
    }
}

```

- ç½‘å‹é—®ï¼ˆå’Œæˆ‘æ ½è¿›ä¸€ä¸ªå‘äº†ï¼‰ï¼š`queue.peek().equals(deque.peekFirst())`ï¼Œè¯¢é—®ä¸ªé—®é¢˜ï¼Œä¸ºä½•==çš„æ—¶å€™å°±ä¼šä¸å¯¹ï¼Œèƒ½è®²ä¸‹åŒºåˆ«å—ï¼Ÿ
  - ç½‘å‹ç­”ï¼šqueue é‡Œé¢ä¿å­˜çš„æ˜¯ Integer è€Œé int ï¼Œpeek() è¿”å›çš„æ˜¯ Integer ç±»å‹ï¼Œæ²¡æœ‰è‡ªåŠ¨æ‹†ç®±ï¼Œå› æ­¤éœ€è¦ç”¨ equals() æ¥æ¯”~
  - ç½‘å‹ç­”ï¼šæ¯”å¦‚Integer i1 = new Integer(1); Integer i2 = new Integer(1) è¿™æ ·å­æ¯”è¾ƒi1 == i2æ˜¯è¿”å›falseçš„ï¼Œå› ä¸ºæ¯”è¾ƒçš„æ˜¯å¯¹è±¡ï¼Œ åŒç† Integer i1 = 1; Integer i2 = new Integer(1);è¿™æ ·i1==i2ä¹Ÿæ˜¯è¿”å›falseçš„ï¼Œå› ä¸ºi1è‡ªåŠ¨è£…ç®±äº†ã€‚ ä½†æ˜¯Integer i1 = 1; Integer i2 =1;è¿™æ ·i1==i2ï¼Œè¿”å›æ˜¯trueï¼Œ å› ä¸ºè‡ªåŠ¨è£…ç®±ç¼“å­˜æœºåˆ¶ï¼Œè¿”å›çš„åŒä¸€ä¸ªå¯¹è±¡ç»™i1å’Œi2ã€‚åœ¨-128~127ï¼ˆæ¯”è¾ƒå¸¸ç”¨ï¼Ÿï¼‰çš„æ•´æ•°èŒƒå›´å†…éƒ½ä¼šå­˜åœ¨è‡ªåŠ¨æ‹†è£…ç®±çš„ç¼“å­˜ï¼Œæ‰€ä»¥126 å’Œ 900 çš„åŒºåˆ«å°±åœ¨è¿™é‡Œï¼ˆ126ä¸¤ä¸ªéƒ½æ˜¯è¿”å›çš„åŒä¸€ä¸ªå¯¹è±¡ï¼Œ900è¶…è¿‡èŒƒå›´äº†è¿”å›çš„ä¸æ˜¯åŒä¸€ä¸ªå¯¹è±¡ï¼‰ã€‚ ä½ ä¹Ÿå¯ä»¥è‡ªå·±è®¾å®šç¼“å­˜çš„æ•´æ•°èŒƒå›´ã€‚ ä¸¤ä¸ªéƒ½æ˜¯åŒ…è£…ç±»æœ€å¥½ç”¨.equals()æ–¹æ³•æ¯”è¾ƒï¼Œè¿™æ ·æ¯”è¾ƒçš„æ˜¯å€¼ã€‚ å¦‚æœä¸€ä¸ªæ˜¯intç±»å‹ï¼Œä¸€ä¸ªæ˜¯åŒ…è£…ç±»ï¼Œé‚£ä¹ˆå¯ä»¥ç›´æ¥ç”¨==ï¼Œå› ä¸ºåŒ…è£…ç±»è‡ªåŠ¨æ‹†ç®±ä¸ºintç±»å‹äº†ï¼Œæ‰€ä»¥è¿™æ—¶å€™æ¯”è¾ƒçš„ä¹Ÿæ˜¯å€¼ï¼Œè€Œä¸ä¼šå­˜åœ¨ä¸€ä¸ªæ˜¯åŸºæœ¬ç±»å‹ï¼Œä¸€ä¸ªæ˜¯å¼•ç”¨ç±»å‹ä¸èƒ½æ¯”è¾ƒï¼Œè¿™å°±æ˜¯è‡ªåŠ¨æ‹†è£…ç®±ã€‚

- ä¼˜å…ˆé˜Ÿåˆ—vså•è°ƒé˜Ÿåˆ—ï¼š

  - æˆ‘æ€è€ƒï¼š

    - ä¹‹å‰æœ‰ç‚¹è¿·ç³Šï¼Œå•è°ƒé˜Ÿåˆ—å’Œä¼˜å…ˆé˜Ÿåˆ—éƒ½èƒ½ä¿éšœé˜Ÿåˆ—å¤´ä¸ºå½“å‰è¾“å…¥(çª—å£)çš„æœ€å¤§å€¼ï¼Œä¼˜å…ˆé˜Ÿåˆ—çš„æ—¶é—´å¤æ‚åº¦è¿˜æ›´é«˜ï¼Œé‚£ä¸ºä»€ä¹ˆä¸æ€»æ˜¯ä½¿ç”¨å•è°ƒé˜Ÿåˆ—?

    - åé¢æˆ‘æƒ³äº†ä¸‹ï¼Œä¼˜å…ˆé˜Ÿåˆ—èƒ½ä¿è¯å­˜å‚¨æ‰€æœ‰å…ƒç´ ï¼Œä½†æ˜¯å•è°ƒé˜Ÿåˆ—ä¸ºäº†ä¿è¯å•è°ƒä¼šåˆ æ‰ä¼—å¤šå…ƒç´ ï¼Œæ‰€ä»¥æœ‰å­˜å‚¨æ‰€æœ‰èŠ‚ç‚¹çš„åœºæ™¯éœ€è¦çš„è¯ï¼Œåªç”¨å•è°ƒé˜Ÿåˆ—æ˜¯ä¸è¡Œçš„ã€‚

  - ç½‘å‹ï¼šè¿™ä¿©ä½¿ç”¨åœºæ™¯åŒºåˆ«è¿˜æŒºå¤§çš„å§ï¼Œå•è°ƒé˜Ÿåˆ—ç»å…¸é¢˜æ¥é›¨æ°´ï¼Œç”¨ä¼˜å…ˆé˜Ÿåˆ—ä¸è¡Œå§

  - ç½‘å‹ï¼šä½ åªè€ƒè™‘æœ€å¤§ä¸ºä»€ä¹ˆè¦ä¼˜å…ˆé˜Ÿåˆ—å’Œå•è°ƒé˜Ÿåˆ—ï¼Œç›´æ¥maxxéå†å–maxå°±å¥½äº†
    ç”¨åˆ°è¿™ä¿©ä¹Ÿæ˜¯ç»“æŸéå†çš„æ—¶å€™ä¸¤ä¸ªé˜Ÿåˆ—å­˜çš„ä¸œè¥¿ä¸ä¸€æ ·
    å¤§å®¶ä¸è¦å¸¦åäº†å•Šï¼Œä½ åªå…³ç³»å½“å‰æœ€å¤§ç”¨å˜é‡å­˜maxå°±å¥½äº†


## æœç´¢ä¸å›æº¯ç®—æ³•(å›°éš¾)

### [å‰‘æŒ‡ Offer 37. åºåˆ—åŒ–äºŒå‰æ ‘](https://leetcode-cn.com/problems/xu-lie-hua-er-cha-shu-lcof/)

codetop 0

#### é¦–æˆ˜å¯„

æ²¡æœ‰æ€è·¯

#### å®˜æ–¹-bfs

è§£é¢˜æ€è·¯ï¼š

![image-20220420160538622](lcof.assets/image-20220420160538622.png)

![Picture1.png](lcof.assets/1603117385-ehAGsP-Picture1.png)

ä¸Šå›¾è§„å¾‹å¯æ€»ç»“ä¸ºä¸‹è¡¨ï¼š

![image-20220420160632130](lcof.assets/image-20220420160632130.png)

![image-20220420160648368](lcof.assets/image-20220420160648368.png)

åºåˆ—åŒ– ç®—æ³•æµç¨‹ï¼š

![image-20220420160711028](lcof.assets/image-20220420160711028.png)

å¤æ‚åº¦åˆ†æï¼š

![image-20220420160726530](lcof.assets/image-20220420160726530.png)

ååºåˆ—åŒ– Deserialize ï¼š

![image-20220420160818756](lcof.assets/image-20220420160818756.png)

ç®—æ³•æµç¨‹ï¼š

![image-20220420160843615](lcof.assets/image-20220420160843615.png)

å¤æ‚åº¦åˆ†æï¼š

![image-20220420160859162](lcof.assets/image-20220420160859162.png)

ä»£ç ï¼š

```java
public class Codec {
    public String serialize(TreeNode root) {
        if(root == null) return "[]";
        StringBuilder res = new StringBuilder("[");
        Queue<TreeNode> queue = new LinkedList<>() {{ add(root); }};
        while(!queue.isEmpty()) {
            TreeNode node = queue.poll();
            if(node != null) {
                res.append(node.val + ",");
                queue.add(node.left);
                queue.add(node.right);
            }
            else res.append("null,");
        }
        //æˆ‘ï¼šè¿™ä¸ªåº”è¯¥æ˜¯ä¸ºäº†åˆ é™¤nullæœ€åçš„é€—å·
        res.deleteCharAt(res.length() - 1);
        res.append("]");
        return res.toString();
    }

    public TreeNode deserialize(String data) {
        if(data.equals("[]")) return null;
        String[] vals = data.substring(1, data.length() - 1).split(",");
        TreeNode root = new TreeNode(Integer.parseInt(vals[0]));
        Queue<TreeNode> queue = new LinkedList<>() {{ add(root); }};
        int i = 1;
        while(!queue.isEmpty()) {
            TreeNode node = queue.poll();
            //å¦‚æœå­æ ‘ä¸ºnullï¼Œå°±ä¸èµ‹å€¼äº†ï¼Œä¹Ÿä¸éœ€è¦å†å¤„ç†ä»–çš„å­èŠ‚ç‚¹
            if(!vals[i].equals("null")) {
                node.left = new TreeNode(Integer.parseInt(vals[i]));
                queue.add(node.left);
            }
            i++;
            if(!vals[i].equals("null")) {
                node.right = new TreeNode(Integer.parseInt(vals[i]));
                queue.add(node.right);
            }
            i++;
        }
        return root;
    }
}
```

- æ³¨æ„ï¼š
  - linkedListå®ç°çš„æ¥å£Queueï¼Œå…è®¸é˜Ÿåˆ—å­˜å…¥nullï¼Œè¿™æ˜¯æœ¬é¢˜åºåˆ—åŒ–çš„å…³é”®ï¼›[å‚è€ƒ](https://www.jianshu.com/p/7a86c56c632b)
  - æœ¬é¢˜æ¶‰åŠä¼—å¤šå…³äºstringçš„å¤„ç†ï¼š
    - deleteCharAt,SetCharAtæ˜¯æ¯”è¾ƒå¥½ç”¨ï¼Œ
  - æˆ‘ç†è§£ï¼šä¸€èˆ¬bfsä¸éœ€è¦è®°å½•nullï¼Œå¯¼è‡´æ— æ³•ååºåˆ—åŒ–ï¼›è¿™é‡ŒæŠŠnullè®°å½•ä¸‹ï¼Œç›¸å½“äºæ ‡è®°äº†å¶å­èŠ‚ç‚¹ï¼Œä¹Ÿå°±èƒ½ååºåˆ—åŒ–äº†ã€‚

- å»ºè®®ï¼š
  - ç»™ä¸ªæ„è§ï¼Œres.append(node.val + ","); è¿™ä¸ªç‚¹å¯ä»¥ä¼˜åŒ–æˆ res.append(node.val).append(",");ã€‚å› ä¸ºæ‹¼æ¥å­—ç¬¦ä¸²å¯èƒ½å¢å¤§æ¶ˆè€—ã€‚

- é—®é¢˜ï¼š
  - ç½‘å‹é—®ï¼šçœ‹æ‡‚kç¥çš„æ€è·¯äº†ï¼Œä½†æ˜¯è¿™é‡Œå¥½åƒå¹¶æ²¡æœ‰ç”¨åˆ°å¼€å§‹è®²åˆ°çš„ç›¸å…³åœ°æ¨å…¬å¼ã€Œnode.leftçš„ç´¢å¼•2(nâˆ’m)+1ã€node.rightçš„ç´¢å¼•2(nâˆ’m)+2ã€
    - ç½‘å‹ç­”ï¼šè§£ç­”ä¸­å®šä¹‰çš„iï¼Œå°±æ˜¯åˆ—è¡¨ç´¢å¼•2(nâˆ’m)+1å’Œ2(nâˆ’m)+2 ä»»æ„èŠ‚ç‚¹éç©ºï¼Œé‚£å®ƒçš„ä¸¤ä¸ªå„¿å­ï¼ˆä¸ç®¡æ˜¯ä¸æ˜¯nullï¼‰è‚¯å®šè¦åˆ—è¡¨ä¸­å ä½ï¼Œåšä¸¤æ¬¡i+=1ã€‚

#### å³æ—¶å†æˆ˜

å› ä¸ºæœ¬é¢˜æ²¡ä¸Šcodetopï¼Œç†è§£æ€è·¯å³å¯ï¼Œæš‚æ—¶ä¸å†æˆ˜

### [å‰‘æŒ‡ Offer 38. å­—ç¬¦ä¸²çš„æ’åˆ—](https://leetcode-cn.com/problems/zi-fu-chuan-de-pai-lie-lcof/)

codetop 8+7=15

#### é¦–æˆ˜å‘Šæ·

```java
class Solution {
    //ä¸èƒ½ç”¨Listï¼ï¼ï¼æœ¬æ¥æƒ³ç”¨å…¨å±€stringåˆ—è¡¨ä¿å­˜ç»“æœï¼Œåˆ—è¡¨æœ€åä¼šè¢«ls.toArray(new String[length])è½¬åŒ–ä¸ºæ•°ç»„
    //List<String> resultList=new ArrayList<>();
    //æ³¨æ„å› ä¸ºå¯èƒ½è¾“å…¥"aab"è¿™ç§å­—ç¬¦ä¸²ï¼Œæ‰€ä»¥è¦ç”¨setå»é‡ï¼ˆä½†å…¶å®åœ¨æ„å»ºé‡å¤Stringçš„æ—¶å€™åšäº†å¾ˆå¤šæ— ç”¨è®¡ç®—ï¼Œä¸è¿‡ç›®å‰æ²¡æœ‰å¥½æ–¹æ³•ä¼˜åŒ–ï¼‰ï¼Œè€Œä¸èƒ½ç”¨list
    Set<String> resultSet=new HashSet<>();
    public String[] permutation(String s) {
        /**
        é€’å½’çš„æ€æƒ³ï¼Œå½“å‰å±‚ç”¨ä¸€ä¸ªå­—ç¬¦ï¼Œä¼ åˆ°ä¸‹ä¸€å±‚é€’å½’çš„æ—¶å€™å°±ä¸èƒ½å†æœ¬å­—ç¬¦
        æ‰€æœ‰å¯ç”¨å­—ç¬¦åœ¨æœ¬å±‚é€’å½’ä¾æ¬¡ä½¿ç”¨
         */
        //æŠŠå­—ç¬¦ä¸²è½¬åŒ–æˆsbï¼Œå¥½å¯¹å­—ç¬¦åšå¤„ç†ã€‚æ¯”å¦‚ä½¿ç”¨è¿‡çš„å­—ç¬¦å°±ä»æœ¬å±‚ä¸“å±sbä¸­åˆ æ‰deletecharatå†ä¼ ç»™ä¸‹å±‚,é€’å½’å®Œæ¯•åç”¨addCharAtæŠŠsbè¿˜åŸ
        StringBuilder sb=new StringBuilder();
        for(int i=0;i<s.length();i++){
            sb.append(s.charAt(i));
        }

        //å¯¹æ¯ä¸ªå­—ç¬¦ï¼Œè½®æµç§°ä¸ºæœ¬å±‚çš„ä¸»è§’
        recur(sb,new StringBuilder());

        //return resultList.toArray(new String[resultList.size()]);ä¸èƒ½ç”¨listï¼Œæˆ‘å°±åªèƒ½ç”¨iteratoræ„å»ºæ•°ç»„è¿”å›äº†
        //!!!æ³¨æ„iteratorçš„ä½¿ç”¨
        Iterator<String> iterator=resultSet.iterator();
        String[] result=new String[resultSet.size()];
        int i=0;
        while(iterator.hasNext()){
            result[i]=iterator.next();
            i++;
        }
        return result;

    }
    //ä»»ä½•å±‚çš„recurä¸­ï¼ŒavailableCharså‡å°‘1ï¼ŒstringUnderBuildingå°±ä¼šå¢åŠ 1
    public void recur(StringBuilder availableChars, StringBuilder stringUnderBuilding){
        //availableCharsä¸ºç©ºçš„è¯å°±ä¸ä¼šæ‰§è¡Œforï¼Œè€Œåœ¨ä¿å­˜å®Œå½“å‰stringUnderBuildingçš„ç»“æœåé€€æ ˆ
        if(availableChars.length()==0){
            resultSet.add(stringUnderBuilding.toString());
        }

        //sbå¯ä»¥ç”¨length()å¾—åˆ°é•¿åº¦,ç”¨charAtå¾—åˆ°æŸä½ç½®å­—ç¬¦ï¼Œå’ŒStringä¸­çš„ç”¨æ³•åŸºæœ¬ä¸€è‡´!!!
        for(int i=0;i<availableChars.length();i++){
            //ä¿å­˜æœ¬forå¾ªç¯å±‚å¤„ç†çš„char
            char temp=availableChars.charAt(i);
            
            //é€’å½’è°ƒç”¨ã€‚åœ¨é€’å½’å®Œåï¼Œè¦æ¢å¤æœ¬å±‚çš„availabelCharså’ŒstringUnderBuildingï¼Œä»¥ä¾¿è¿›è¡Œä¸‹ä¸€è½®forå¾ªç¯ï¼Œforå¾ªç¯ä¸­åˆä¼šæœ‰é€’å½’
            stringUnderBuilding.append(availableChars.charAt(i));
            availableChars.deleteCharAt(i);
            recur(availableChars,stringUnderBuilding);
            availableChars.insert(i,temp);
            stringUnderBuilding.deleteCharAt(stringUnderBuilding.length()-1);

        }

    }
}
```

- åæ€ï¼š
  - æœ€å¼€å§‹æ²¡æœ‰è€ƒè™‘åˆ°å­—ç¬¦ä¸²ä¸­æœ‰é‡å¤å­—ç¬¦å¦‚"abb"ï¼Œä½¿ç”¨listæ¥å­˜å‚¨ç»“æœï¼Œå¯¼è‡´è¿”å›ç»“æœæŠŠä¸¤ä¸ªç›¸åŒçš„aå½“åša1å’Œa2å¤„ç†äº†ï¼Œå’Œé¢„æœŸä¸ä¸€è‡´ã€‚åé¢æ”¹ä¸ºç”¨setè¿›è¡Œç»“æœå»é‡ï¼Œä¸è¿‡ç¨‹åºå¤„ç†æ—¶è¿˜æ˜¯ä¼šæŠŠaå½“åša1å’Œa2å¤„ç†é€ æˆæ— æ•ˆè®¡ç®—æœ€ååˆåˆ©ç”¨setå”¯ä¸€æ€§èˆå¼ƒã€‚
    - å¯ä»¥æ•ˆä»¿å®˜æ–¹çš„æ–¹æ³•ï¼Œåœ¨foré‚£ä½¿ç”¨setåšå‰ªæï¼ˆåˆ¤æ–­`availableChars.charAt(i);`æ˜¯å¦å‡ºç°è¿‡ï¼‰ï¼Œè¿™æ ·å°±ä¸ä¼šæœ‰æ— æ•ˆè®¡ç®—äº†ã€‚
  - iteratorï¼Œiterator(),hasNext(),next()è¿™å¥—ä½¿ç”¨ä¸ç†Ÿç»ƒ
  - StringBuilderä½¿ç”¨ä¸ç†Ÿç»ƒã€‚å®é™…ä¸ŠStringæœ‰çš„æ–¹æ³•åŸºæœ¬ä¸ŠStringBuilderéƒ½æœ‰ï¼Œä½†æ˜¯StringBuilderè¿˜æœ‰è·Ÿå¤šçš„æ–¹æ³•å¦‚appendï¼ŒdeleteCharAtï¼Œinsertç­‰ï¼›è¦ç†Ÿç»ƒæŒæ¡StringBuilderçš„æ–¹æ³•ã€‚

- èµï¼š
  - é€’å½’æ€æƒ³å¤„ç†çš„ä¸é”™ï¼Œå°¤å…¶æ˜¯ä¼ é€’åœ°å€çš„å˜é‡åœ¨é€’å½’åè¦ä¿®æ”¹å›æ¥è¿™ç‚¹åšçš„ä¸é”™ã€‚
  - æƒ³åˆ°äº†ç”¨Setæ¥å»é‡

#### å®˜æ–¹-å›æº¯æ³•

è§£é¢˜æ€è·¯ï¼š

![image-20220420202407877](lcof.assets/image-20220420202407877.png)

æ’åˆ—æ–¹æ¡ˆçš„ç”Ÿæˆï¼š

![image-20220420202432627](lcof.assets/image-20220420202432627.png)

![Picture1.png](lcof.assets/1599403497-KXKQcp-Picture1.png)

é‡å¤æ’åˆ—æ–¹æ¡ˆä¸å‰ªæï¼š

å½“å­—ç¬¦ä¸²å­˜åœ¨é‡å¤å­—ç¬¦æ—¶ï¼Œæ’åˆ—æ–¹æ¡ˆä¸­ä¹Ÿå­˜åœ¨é‡å¤çš„æ’åˆ—æ–¹æ¡ˆã€‚ä¸ºæ’é™¤é‡å¤æ–¹æ¡ˆï¼Œéœ€åœ¨å›ºå®šæŸä½å­—ç¬¦æ—¶ï¼Œä¿è¯ â€œæ¯ç§å­—ç¬¦åªåœ¨æ­¤ä½å›ºå®šä¸€æ¬¡â€ ï¼Œå³é‡åˆ°é‡å¤å­—ç¬¦æ—¶ä¸äº¤æ¢ï¼Œç›´æ¥è·³è¿‡ã€‚ä» DFS è§’åº¦çœ‹ï¼Œæ­¤æ“ä½œç§°ä¸º â€œå‰ªæâ€ ã€‚

![Picture2.png](lcof.assets/1599403497-GATdFr-Picture2.png)

é€’å½’è§£æï¼š

![image-20220420202538716](lcof.assets/image-20220420202538716.png)

è§†é¢‘ï¼šå¯ä»¥[çœ‹çœ‹](https://leetcode-cn.com/problems/zi-fu-chuan-de-pai-lie-lcof/solution/mian-shi-ti-38-zi-fu-chuan-de-pai-lie-hui-su-fa-by/)

å¤æ‚åº¦åˆ†æï¼š

![image-20220420202654493](lcof.assets/image-20220420202654493.png)

ä»£ç ï¼š

```java
class Solution {
    //ä¸ºäº†è®©é€’å½’å‡½æ•°æ·»åŠ ç»“æœæ–¹ä¾¿ï¼Œå®šä¹‰åˆ°å‡½æ•°ä¹‹å¤–ï¼Œè¿™æ ·æ— éœ€å¸¦åˆ°é€’å½’å‡½æ•°çš„å‚æ•°åˆ—è¡¨ä¸­
    List<String> list = new ArrayList<>();
    //åŒï¼›ä½†æ˜¯å…¶èµ‹å€¼ä¾èµ–cï¼Œå®šä¹‰å£°æ˜åˆ†å¼€
    char[] c;
    public String[] permutation(String s) {
        c = s.toCharArray();
        //ä»ç¬¬ä¸€å±‚å¼€å§‹é€’å½’
        dfs(0);
        //å°†å­—ç¬¦ä¸²æ•°ç»„ArrayListè½¬åŒ–ä¸ºStringç±»å‹æ•°ç»„
        return list.toArray(new String[list.size()]);
    }

    private void dfs(int x) {
        //å½“é€’å½’å‡½æ•°åˆ°è¾¾ç¬¬ä¸‰å±‚ï¼Œå°±è¿”å›ï¼Œå› ä¸ºæ­¤æ—¶ç¬¬äºŒç¬¬ä¸‰ä¸ªä½ç½®å·²ç»å‘ç”Ÿäº†äº¤æ¢
        if (x == c.length - 1) {
            //å°†å­—ç¬¦æ•°ç»„è½¬æ¢ä¸ºå­—ç¬¦ä¸²
            list.add(String.valueOf(c));
            return;
        }
        //ä¸ºäº†é˜²æ­¢åŒä¸€å±‚é€’å½’å‡ºç°é‡å¤å…ƒç´ 
        HashSet<Character> set = new HashSet<>();
        //è¿™é‡Œå°±å¾ˆå·§å¦™äº†,ç¬¬ä¸€å±‚å¯ä»¥æ˜¯a,b,cé‚£ä¹ˆå°±æœ‰ä¸‰ç§æƒ…å†µï¼Œè¿™é‡Œi = x,æ­£å·§dfs(0)ï¼Œæ­£å¥½i = 0å¼€å§‹
        // å½“ç¬¬äºŒå±‚åªæœ‰ä¸¤ç§æƒ…å†µï¼Œdfs(1ï¼‰i = 1å¼€å§‹
        for (int i = x; i < c.length; i++){
            //å‘ç”Ÿå‰ªæï¼Œå½“åŒ…å«è¿™ä¸ªå…ƒç´ çš„æ—¶å€™ï¼Œç›´æ¥è·³è¿‡
            if (set.contains(c[i])){
                continue;
            }
            set.add(c[i]);
            //äº¤æ¢å…ƒç´ ï¼Œè¿™é‡Œå¾ˆæ˜¯å·§å¦™ï¼Œå½“åœ¨ç¬¬äºŒå±‚dfs(1),x = 1,é‚£ä¹ˆi = 1æˆ–è€… 2ï¼Œ ä¸æ˜¯äº¤æ¢1å’Œ1ï¼Œè¦å°±æ˜¯äº¤æ¢1å’Œ2
            swap(i,x);
            //è¿›å…¥ä¸‹ä¸€å±‚é€’å½’
            dfs(x + 1);
            //è¿”å›æ—¶äº¤æ¢å›æ¥ï¼Œè¿™æ ·ä¿è¯åˆ°è¾¾ç¬¬1å±‚çš„æ—¶å€™ï¼Œä¸€ç›´éƒ½æ˜¯abcã€‚è¿™é‡Œæ‹é¡ºä¸€ä¸‹ï¼Œå¼€å§‹ä¸€ç›´éƒ½æ˜¯abcï¼Œé‚£ä¹ˆç¬¬ä¸€ä½ç½®æ€»å…±å°±3ä¸ªäº¤æ¢
            //åˆ†åˆ«æ˜¯aä¸aäº¤æ¢ï¼Œè¿™ä¸ªå°±ç›¸å½“äº x = 0, i = 0;
            //     aä¸bäº¤æ¢            x = 0, i = 1;
            //     aä¸cäº¤æ¢            x = 0, i = 2;
            //å°±ç›¸å½“äºä¸Šå›¾ä¸­å¼€å§‹çš„ä¸‰æ¡è·¯å¾„
            //ç¬¬ä¸€ä¸ªå…ƒç´ å›ºå®šåï¼Œæ¯ä¸ªå¼•å‡ºä¸¤æ¡è·¯å¾„,
            //     bä¸bäº¤æ¢            x = 1, i = 1;
            //     bä¸cäº¤æ¢            x = 1, i = 2;
            //æ‰€ä»¥ï¼Œç»“åˆä¸Šå›¾ï¼Œåœ¨æ¯æ¡è·¯å¾„ä¸Šæ ‡æ³¨ä¸Šiçš„å€¼ï¼Œå°±ä¼šéå¸¸å®¹æ˜“å¥½ç†è§£äº†
            swap(i,x);
        }
    }

    private void swap(int i, int x) {
        char temp = c[i];
        c[i] = c[x];
        c[x] = temp;
    }
}
```

- ç½‘å‹ç‚¹è¯„ï¼šé€šè¿‡äº¤æ¢æ¥å›ºå®šæŸä¸ªä½ç½®çš„å…ƒç´ è¿™ä¸ªæ€è·¯çœŸçš„å¤ªæ£’äº†ï¼Œå°± abc è¿™ä¸ªå­—ç¬¦ä¸²æ¥è¯´ï¼Œç¬¬ä¸€ä¸ªä½ç½®å¯ä»¥æ”¾ a æˆ–è€… b æˆ–è€… cï¼Œä½†æ˜¯å¦‚æœç¡®å®šè¦æ”¾æŸä¸ªå­—ç¬¦ï¼Œæ¯”å¦‚ç¬¬ä¸€ä¸ªä½ç½®æ”¾ aï¼Œé‚£ä¹ˆç¬¬äºŒä¸ªä½ç½®å°±åªèƒ½æ”¾ b æˆ–è€… cï¼›å¦‚æœç¬¬ä¸€ä¸ªä½ç½®æ”¾ bï¼Œé‚£ä¹ˆç¬¬äºŒä¸ªä½ç½®å°±åªèƒ½æ”¾ a æˆ–è€… cï¼›å¦‚æœç¬¬ä¸€ä¸ªä½ç½®æ”¾ cï¼Œé‚£ä¹ˆç¬¬äºŒä¸ªä½ç½®å°±åªèƒ½æ”¾ a æˆ–è€… bï¼›å½“æŠŠæŸä¸ªå­—ç¬¦ç§»åŠ¨åˆ°ç¬¬ä¸€ä½ä»¥åï¼Œæš‚æ—¶ç¬¬ä¸€ä½çš„å­—ç¬¦å°±å›ºå®šä½äº†ï¼Œè¿™æ—¶å†å»ç¡®å®šç¬¬äºŒä¸ªä½ç½®çš„å…ƒç´ ï¼Œå¹¶ä¸”æ­¤æ—¶ç¬¬ä¸€ä¸ªä½ç½®çš„å…ƒç´ ä¸ä¼šå†å‡ºç°åœ¨åé¢çš„ä½ç½®ä¸Šï¼Œä¾æ¬¡ç±»æ¨ç›´åˆ°ç¡®å®šæ‰€æœ‰ä½ç½®çš„å…ƒç´ ï¼Œå†å¾€å‰å›æº¯ç¡®å®šæ¯ä¸ªä½ç½®ä¸Šå…¶ä»–å¯èƒ½å‡ºç°çš„å…ƒç´ ã€‚

- ç½‘å‹è§£é‡Šé€’å½’ä¸­å¿…é¡»æ¢å¤å­—ç¬¦ä¸²çš„åŸå› ï¼š

  ```
  å¥½åƒæœ‰å‡ ä¸ªåŒå­¦å¯¹æ¢å¤äº¤æ¢æœ‰ç–‘æƒ‘ æˆ‘æ¥ä¸¾ä¸ªè°ƒç”¨ä¾‹å­å¸®å¤§å®¶è§£è§£æƒ‘
  
  æ¯”å¦‚ abc æ³¨æ„abcæ˜¯åŸºå‡†å­—ç¬¦ä¸²
  
  ä¸€å¼€å§‹ç¬¬ä¸€å±‚ ç¬¬ä¸€æ¬¡å¾ªç¯ æœ‰ a å’Œè‡ªå·±äº¤æ¢ å¾—åˆ°abc è¿›å…¥ç¬¬äºŒå±‚ bå’Œè‡ªå·±äº¤æ¢ å¾—åˆ°abc è¿›å…¥æœ€åä¸€å±‚ ç»“æŸ å¾—åˆ°æ’åˆ— abc
  
  è¿”å›ä¸Šä¸€å±‚ ä¹Ÿå°±æ˜¯ç¬¬äºŒå±‚ bå’Œcäº¤æ¢ è¿›å…¥ç¬¬ä¸‰å±‚ ç»“æŸ å¾—åˆ°æ’åˆ—acb è¿”å›åˆ°ç¬¬äºŒå±‚ ç¬¬äºŒå±‚ä¸¤é‡å¾ªç¯ä¹Ÿå·²ç»ç»“æŸ è¿”å›åˆ°ç¬¬ä¸€å±‚
  
  æ³¨æ„ å› ä¸ºæ²¡æœ‰æ¢å¤äº¤æ¢ åŸºå‡†å­—ç¬¦ä¸²å˜æˆäº†acb æ¥ä¸‹æ¥å°†å¯¹acbè¿›è¡Œäº¤æ¢æ“ä½œ
  
  ç°åœ¨æ˜¯ç¬¬ä¸€å±‚ ç¬¬äºŒæ¬¡å¾ªç¯ aå’Œc äº¤æ¢ cæ²¡æœ‰ä½¿ç”¨è¿‡ å¾—åˆ°cab åŒå‰ä¸€æ · åˆ†åˆ«å¯å¾—åˆ° cab å’Œ cba ç„¶åè¿”å›ç¬¬ä¸€å±‚
  
  æ³¨æ„ åŒæ ·å› ä¸ºæ²¡æœ‰æ¢å¤äº¤æ¢ æ­¤æ—¶åŸºå‡†å­—ç¬¦ä¸²å˜æˆäº†cba æ¥ä¸‹æ¥å¯¹cbaè¿›è¡Œäº¤æ¢æ“ä½œ
  
  ç°åœ¨åˆæ˜¯ç¬¬ä¸€å±‚ ç¬¬ä¸‰æ¬¡å¾ªç¯ è¿›è¡Œcå’Œaäº¤æ¢ ä½†æ˜¯ifå‘ç° è¿™ä¸ªaæˆ‘ä»¬æœ€å¼€å§‹å·²ç»ä½¿ç”¨è¿‡ æ‰€ä»¥è¿™ä¸ªåˆ†æå°±overäº† ç¬¬ä¸‰æ¬¡å¾ªç¯ç»“æŸ
  
  åˆ°æ­¤æ•´ä¸ªè°ƒç”¨ç»“æŸ ä¸¢å¤±äº†ä¸¤ä¸ªæ’åˆ—
  
  ç©¶å…¶åŸå› å°±æ˜¯å› ä¸ºæ²¡æœ‰æ¢å¤å­—ç¬¦ä¸² å¯¼è‡´åŸºå‡†å­—ç¬¦ä¸²å‘ç”Ÿäº†ä¸¤æ¬¡æ”¹å˜ å› æ­¤æ¯ä¸€å±‚è°ƒç”¨çš„åŸºå‡†å­—ç¬¦ä¸²éƒ½å¿…é¡»æ¢å¤åŸå½¢æ‰èƒ½ä¿è¯å®Œæ•´æ€§ ä¸èƒ½ä¸­é€”æ›´æ¢åŸºå‡†å­—ç¬¦ä¸²
  ```

## åŠ¨æ€è§„åˆ’(å›°éš¾)

### [å‰‘æŒ‡ Offer 19. æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…](https://leetcode-cn.com/problems/zheng-ze-biao-da-shi-pi-pei-lcof/)

5+18=23

#### é¦–æˆ˜å¯„

æ²¡æœ‰æ€è·¯

#### å®˜æ–¹-dp

è§£é¢˜æ€è·¯ï¼š

![image-20220421202317959](lcof.assets/image-20220421202317959.png)

è½¬ç§»æ–¹ç¨‹ï¼š

![image-20220421202334746](lcof.assets/image-20220421202334746.png)

åˆå§‹æ¡ä»¶ï¼š

![image-20220421202354680](lcof.assets/image-20220421202354680.png)

ç»“æœï¼š

![image-20220421202408135](lcof.assets/image-20220421202408135.png)

ä»£ç ï¼š

```java
class Solution {
    public boolean isMatch(String A, String B) {
        int n = A.length();
        int m = B.length();
        boolean[][] f = new boolean[n + 1][m + 1];

        for (int i = 0; i <= n; i++) {
            for (int j = 0; j <= m; j++) {
                //åˆ†æˆç©ºæ­£åˆ™å’Œéç©ºæ­£åˆ™ä¸¤ç§
                if (j == 0) {
                    f[i][j] = i == 0;
                } else {
                    //éç©ºæ­£åˆ™åˆ†ä¸ºä¸¤ç§æƒ…å†µ * å’Œ é*
                    if (B.charAt(j - 1) != '*') {
                        if (i > 0 && (A.charAt(i - 1) == B.charAt(j - 1) || B.charAt(j - 1) == '.')) {
                            f[i][j] = f[i - 1][j - 1];
                        }
                    } else {
                        //ç¢°åˆ° * äº†ï¼Œåˆ†ä¸ºçœ‹å’Œä¸çœ‹ä¸¤ç§æƒ…å†µ
                        //ä¸çœ‹
                        if (j >= 2) {
                            f[i][j] |= f[i][j - 2];
                        }
                        //çœ‹
                        if (i >= 1 && j >= 2 && (A.charAt(i - 1) == B.charAt(j - 2) || B.charAt(j - 2) == '.')) {
                            f[i][j] |= f[i - 1][j];
                        }
                    }
                }
            }
        }
        return f[n][m];
    }
}
```

#### å®˜æ–¹2-é€’å½’

åˆ†æå’Œdpæ³•ç›¸åŒï¼Œä½†é€’å½’å†™æ³•æ›´å¥½ç†è§£ï¼š

```java
class Solution {
    public boolean isMatch(String A, String B) {
        // å¦‚æœå­—ç¬¦ä¸²é•¿åº¦ä¸º0ï¼Œéœ€è¦æ£€æµ‹ä¸‹æ­£åˆ™ä¸²
        if (A.length() == 0) {
            // å¦‚æœæ­£åˆ™ä¸²é•¿åº¦ä¸ºå¥‡æ•°ï¼Œå¿…å®šä¸åŒ¹é…ï¼Œæ¯”å¦‚ "."ã€"ab*",å¿…é¡»æ˜¯ a*b*è¿™ç§å½¢å¼ï¼Œ*åœ¨å¥‡æ•°ä½ä¸Š
            if (B.length() % 2 != 0) return false;
            int i = 1;
            while (i < B.length()) {
                if (B.charAt(i) != '*') return false;
                i += 2;
            }
            return true;
        }
        // å¦‚æœå­—ç¬¦ä¸²é•¿åº¦ä¸ä¸º0ï¼Œä½†æ˜¯æ­£åˆ™ä¸²æ²¡äº†ï¼Œreturn false
        if (B.length() == 0) return false;
        // c1 å’Œ c2 åˆ†åˆ«æ˜¯ä¸¤ä¸ªä¸²çš„å½“å‰ä½ï¼Œc3æ˜¯æ­£åˆ™ä¸²å½“å‰ä½çš„åä¸€ä½ï¼Œå¦‚æœå­˜åœ¨çš„è¯ï¼Œå°±æ›´æ–°ä¸€ä¸‹
        char c1 = A.charAt(0), c2 = B.charAt(0), c3 = 'a';
        if (B.length() > 1) {
            c3 = B.charAt(1);
        }
        // å’Œdpä¸€æ ·ï¼Œåä¸€ä½åˆ†ä¸ºæ˜¯ '*' å’Œä¸æ˜¯ '*' ä¸¤ç§æƒ…å†µ
        if (c3 != '*') {
            // å¦‚æœè¯¥ä½å­—ç¬¦ä¸€æ ·ï¼Œæˆ–æ˜¯æ­£åˆ™ä¸²è¯¥ä½æ˜¯ '.',ä¹Ÿå°±æ˜¯èƒ½åŒ¹é…ä»»æ„å­—ç¬¦ï¼Œå°±å¯ä»¥å¾€åèµ°
            if (c1 == c2 || c2 == '.') {
                return isMatch(A.substring(1), B.substring(1));
            } else {
                // å¦åˆ™ä¸åŒ¹é…
                return false;
            }
        } else {
            // å¦‚æœè¯¥ä½å­—ç¬¦ä¸€æ ·ï¼Œæˆ–æ˜¯æ­£åˆ™ä¸²è¯¥ä½æ˜¯ '.'ï¼Œå’Œdpä¸€æ ·ï¼Œæœ‰çœ‹å’Œä¸çœ‹ä¸¤ç§æƒ…å†µ
            if (c1 == c2 || c2 == '.') {
                return isMatch(A.substring(1), B) || isMatch(A, B.substring(2));
            } else {
                // ä¸ä¸€æ ·ï¼Œé‚£ä¹ˆæ­£åˆ™ä¸²è¿™ä¸¤ä½å°±åºŸäº†ï¼Œç›´æ¥å¾€åèµ°
                return isMatch(A, B.substring(2));
            }
        }
    }
}
```

#### å³æ—¶å†æˆ˜

æœ¬é¢˜æ˜¯hardï¼Œå…ˆçœ‹æ‡‚æ€è·¯ï¼Œå†æˆ˜å…ˆç¼“ç¼“

### [å‰‘æŒ‡ Offer 49. ä¸‘æ•°](https://leetcode-cn.com/problems/chou-shu-lcof/)

codetop 2+1=3

#### é¦–æˆ˜å¯„

æ²¡æœ‰å¾ˆå¥½çš„æ€è·¯

#### å®˜æ–¹-dp

> å®˜æ–¹çš„è®²çš„ä¸å¥½ï¼Œé™„ä¸Šé«˜èµç½‘å‹çš„è¯„ä»·è®²è§£å§ã€‚

æˆ‘çš„ä¸€ç‚¹ç†è§£ï¼š åœ¨å·²æœ‰çš„ä¸‘æ•°åºåˆ—ä¸Šæ¯ä¸€ä¸ªæ•°éƒ½å¿…é¡»ä¹˜2ï¼Œ ä¹˜3ï¼Œ ä¹˜5ï¼Œ è¿™æ ·æ‰ä¸ä¼šæ¼æ‰æŸäº›ä¸‘æ•°ã€‚å‡è®¾å·²æœ‰çš„ä¸‘æ•°åºåˆ—ä¸º[1, 2, 3, ..., n1, n2], å¦‚æœå•çº¯çš„è®©æ¯ä¸ªä¸‘æ•°ä¹˜2ï¼Œ ä¹˜3ï¼Œ ä¹˜5é¡ºåºæ’åˆ—çš„è¯è‚¯å®šä¼šæœ‰é—®é¢˜ï¼Œ

æ¯”å¦‚å¦‚æœæŒ‰ç…§è¿™æ ·çš„é¡ºåºæ’åˆ—ä¸‹å»è‚¯å®šæœ‰é—®é¢˜[1*2, 1*3, 1*5, 2*2, 2*3, 2*5, 3*2, 3*3, 3*5, ... , n1 *2, n1 * 3, n1 * 5, n2 * 2, n3* 3, n2 * 5]ï¼Œå› ä¸ºåé¢ä¹˜2çš„æ•°æ®å¯èƒ½ä¼šæ¯”å‰é¢ä¹˜3ä¹˜5çš„æ•°æ®è¦å°ï¼Œé‚£è¿™ä¸ªä¹˜2çš„æ•°åº”è¯¥æ’åœ¨ä»–ä»¬çš„å‰é¢ï¼Œ åé¢ä¹˜3çš„æ•°æ®ä¹Ÿå¯èƒ½æ¯”å‰é¢ä¹˜5çš„æ•°æ®è¦å°ï¼Œé‚£è¿™ä¸ªä¹˜3çš„æ•°åº”è¯¥æ’åœ¨ä»–ä»¬çš„å‰é¢ã€‚

é‚£æ€ä¹ˆåŠå‘¢ï¼Œæ¯ä¸ªæ•°éƒ½å¿…é¡»ä¹˜2ï¼Œ ä¹˜3ï¼Œ ä¹˜5è¿™æ ·æ‰èƒ½ä¿è¯æ±‚å‡ºæ‰€æœ‰çš„ä¸‘æ•°ï¼Œè€Œä¸”è¿˜è¦ä¿è¯ä¸‘æ•°çš„é¡ºåºï¼Œè¿™ä¸ªæ”¹å¦‚ä½•åŒæ—¶å®ç°å‘¢ï¼Ÿ

é€šè¿‡è§‚å¯Ÿç½‘ä¸Šçš„å„ä¸ªé¢˜è§£ï¼Œç»ˆäºæ‰¾åˆ°äº†åŠæ³•ï¼Œé‚£å°±æ˜¯è®°å½•æ¯ä¸ªä¸‘æ•°æ˜¯å¦å·²ç»è¢«ä¹˜2ï¼Œ ä¹˜3ï¼Œ ä¹˜5äº†ï¼Œ å…·ä½“çš„åšæ³•æ˜¯

è®¾ç½®3ä¸ªç´¢å¼•a, b, cï¼Œåˆ†åˆ«è®°å½•å‰å‡ ä¸ªæ•°å·²ç»è¢«ä¹˜2ï¼Œ ä¹˜3ï¼Œ ä¹˜5äº†ï¼Œæ¯”å¦‚aè¡¨ç¤ºå‰(a-1)ä¸ªæ•°éƒ½å·²ç»ä¹˜è¿‡ä¸€æ¬¡2äº†ï¼Œä¸‹æ¬¡åº”è¯¥ä¹˜2çš„æ˜¯ç¬¬aä¸ªæ•°ï¼›bè¡¨ç¤ºå‰(b-1)ä¸ªæ•°éƒ½å·²ç»ä¹˜è¿‡ä¸€æ¬¡3äº†ï¼Œä¸‹æ¬¡åº”è¯¥ä¹˜3çš„æ˜¯ç¬¬bä¸ªæ•°ï¼›cè¡¨ç¤ºå‰(c-1)ä¸ªæ•°éƒ½å·²ç»ä¹˜è¿‡ä¸€æ¬¡5äº†ï¼Œä¸‹æ¬¡åº”è¯¥ä¹˜5çš„æ˜¯ç¬¬cä¸ªæ•°ï¼›

å¯¹äºæŸä¸ªçŠ¶æ€ä¸‹çš„ä¸‘æ•°åºåˆ—ï¼Œæˆ‘ä»¬çŸ¥é“æ­¤æ—¶ç¬¬aä¸ªæ•°è¿˜æ²¡æœ‰ä¹˜2(æœ‰æ²¡æœ‰ä¹˜3æˆ–è€…ä¹˜5ä¸çŸ¥é“ï¼‰ï¼Œ ç¬¬bä¸ªæ•°è¿˜æ²¡æœ‰ä¹˜3(æœ‰æ²¡æœ‰ä¹˜2æˆ–è€…ä¹˜5ä¸çŸ¥é“ï¼‰ï¼Œç¬¬cä¸ªæ•°è¿˜æ²¡æœ‰ä¹˜5(æœ‰æ²¡æœ‰ä¹˜2æˆ–è€…ä¹˜3ä¸çŸ¥é“), ä¸‹ä¸€ä¸ªä¸‘æ•°ä¸€å®šæ˜¯ä»ç¬¬aä¸‘æ•°ä¹˜2ï¼Œ ç¬¬bä¸ªæ•°ä¹˜3ï¼Œ ç¬¬cä¸ªæ•°ä¹˜5ä¸­è·å¾—ï¼Œä»–ä»¬ä¸‰è€…æœ€å°çš„é‚£ä¸ªå°±æ˜¯ä¸‹ä¸ªä¸‘æ•°ã€‚

æ±‚å¾—ä¸‹ä¸ªä¸‘æ•°åå°±å¾—åˆ¤æ–­è¿™ä¸ªä¸‘æ•°æ˜¯è°ï¼Œæ˜¯æŸä¸ªæ•°é€šè¿‡ä¹˜2å¾—åˆ°çš„ï¼Œè¿˜æ˜¯æŸä¸ªæ•°ä¹˜3å¾—åˆ°çš„ï¼Œåˆæˆ–æ˜¯è¯´æŸä¸ªæ•°é€šè¿‡ä¹˜5å¾—åˆ°çš„ã€‚æˆ‘ä»¬å¯ä»¥æ¯”è¾ƒä¸€ä¸‹è¿™ä¸ªæ–°çš„ä¸‘æ•°ç­‰äºç©¶ç«Ÿæ˜¯ç­‰äºç¬¬aä¸ªä¸‘æ•°ä¹˜2, è¿˜æ˜¯ç¬¬bä¸ªæ•°ä¹˜3ï¼Œ è¿˜æ˜¯ç¬¬cä¸ªæ•°ä¹˜5ï¼Œ é€šè¿‡æ¯”è¾ƒæˆ‘ä»¬è‚¯å®šå¯ä»¥çŸ¥é“è¿™ä¸ªæ–°çš„ä¸‘æ•°åˆ°åº•æ˜¯å“ªä¸ªæ•°é€šè¿‡ä¹˜å“ªä¸ªæ•°å¾—åˆ°çš„ã€‚å‡è®¾è¿™ä¸ªæ–°çš„ä¸‘æ•°æ˜¯é€šè¿‡ç¬¬aä¸ªæ•°ä¹˜2å¾—åˆ°çš„ï¼Œè¯´æ˜æ­¤æ—¶ç¬¬aä¸ªæ•°å·²ç»é€šè¿‡ä¹˜2å¾—åˆ°äº†ä¸€ä¸ªæ–°çš„ä¸‘æ•°ï¼Œé‚£ä¸‹ä¸ªé€šè¿‡ä¹˜2å¾—åˆ°ä¸€ä¸ªæ–°çš„ä¸‘æ•°çš„æ•°åº”è¯¥æ˜¯ç¬¬(a+1)ä¸ªæ•°ï¼Œæ­¤æ—¶æˆ‘ä»¬å¯ä»¥è¯´å‰ a ä¸ªæ•°éƒ½å·²ç»ä¹˜è¿‡ä¸€æ¬¡2äº†ï¼Œä¸‹æ¬¡åº”è¯¥ä¹˜2çš„æ˜¯ç¬¬ ï¼ˆa+1ï¼‰ ä¸ªæ•°, æ‰€ä»¥a++ï¼›å¦‚æœæ–°çš„ä¸‘æ•°æ˜¯é€šè¿‡ç¬¬bä¸ªæ•°ä¹˜3å¾—åˆ°çš„, è¯´æ˜æ­¤æ—¶ç¬¬ bä¸ªæ•°å·²ç»é€šè¿‡ä¹˜3å¾—åˆ°äº†ä¸€ä¸ªæ–°çš„ä¸‘æ•°ï¼Œé‚£ä¸‹ä¸ªéœ€è¦é€šè¿‡ä¹˜3å¾—åˆ°ä¸€ä¸ªæ–°çš„ä¸‘æ•°çš„æ•°åº”è¯¥æ˜¯ç¬¬(b+1)ä¸ªæ•°ï¼Œæ­¤æ—¶æˆ‘ä»¬å¯ä»¥è¯´å‰ b ä¸ªæ•°éƒ½å·²ç»ä¹˜è¿‡ä¸€æ¬¡3äº†ï¼Œä¸‹æ¬¡åº”è¯¥ä¹˜3çš„æ˜¯ç¬¬ ï¼ˆb+1ï¼‰ ä¸ªæ•°, æ‰€ä»¥ b++ï¼›åŒç†ï¼Œå¦‚æœè¿™ä¸ªè¿™ä¸ªæ–°çš„ä¸‘æ•°æ˜¯é€šè¿‡ç¬¬cä¸ªæ•°ä¹˜5å¾—åˆ°çš„, é‚£ä¹ˆc++;

ä½†æ˜¯æ³¨æ„ï¼Œå¦‚æœç¬¬aä¸ªæ•°ä¹˜2åç­‰äºç¬¬bä¸ªæ•°ä¹˜3ï¼Œæˆ–è€…ç­‰äºç¬¬cä¸ªæ•°ä¹˜5ï¼Œ è¯´æ˜è¿™ä¸ªæ–°çš„ä¸‘æ•°æ˜¯æœ‰ä¸¤ç§æˆ–è€…ä¸‰ç§æ–¹å¼å¯ä»¥å¾—åˆ°ï¼Œè¿™æ—¶åº”è¯¥ç»™å¾—åˆ°è¿™ä¸ªæ–°ä¸‘æ•°çš„ç»„åˆå¯¹åº”çš„ç´¢å¼•éƒ½åŠ ä¸€ï¼Œæ¯”å¦‚æ–°ä¸‘æ•°æ˜¯ç¬¬aä¸ªæ•°ä¹˜2åå’Œç¬¬bä¸ªæ•°ä¹˜3å¾—åˆ°çš„ï¼Œé‚£ä¹ˆ a å’Œ béƒ½åº”è¯¥åŠ ä¸€ï¼Œ å› ä¸ºæ­¤æ—¶ç¬¬aä¸ªæ•°å·²ç»é€šè¿‡ä¹˜2å¾—åˆ°äº†ä¸€ä¸ªæ–°çš„ä¸‘æ•°ï¼Œç¬¬bä¸ªæ•°å·²ç»é€šè¿‡ä¹˜3å¾—åˆ°äº†ä¸€ä¸ªæ–°çš„ä¸‘æ•°, åªä¸è¿‡è¿™ä¸¤ä¸ªæ•°ç›¸ç­‰è€Œå·²ã€‚æ‰€ä»¥æˆ‘ä»¬ç»™è®¡æ•°å™¨åŠ ä¸€çš„æ—¶å€™ä¸èƒ½ä½¿ç”¨ if else else ifï¼Œ è€Œåº”è¯¥ä½¿ç”¨if, if, if, è¿™æ ·æ‰ä¸ä¼šæŠŠåº”è¯¥åŠ ä¸€çš„è®¡æ•°å™¨æ¼æ‰

ç»è¿‡næ¬¡å¾ªç¯ï¼Œå°±èƒ½å¾—åˆ°ç¬¬n ä¸ªä¸‘æ•°äº†ã€‚

ä»£ç ï¼š

```java
class Solution {
    public int nthUglyNumber(int n) {
        int[] dp = new int[n];  // ä½¿ç”¨dpæ•°ç»„æ¥å­˜å‚¨ä¸‘æ•°åºåˆ—
        dp[0] = 1;  // dp[0]å·²çŸ¥ä¸º1
        int a = 0, b = 0, c = 0;    // ä¸‹ä¸ªåº”è¯¥é€šè¿‡ä¹˜2æ¥è·å¾—æ–°ä¸‘æ•°çš„æ•°æ®æ˜¯ç¬¬aä¸ªï¼Œ åŒç†b, c

        for(int i = 1; i < n; i++){
            // ç¬¬aä¸‘æ•°ä¸ªæ•°éœ€è¦é€šè¿‡ä¹˜2æ¥å¾—åˆ°ä¸‹ä¸ªä¸‘æ•°ï¼Œç¬¬bä¸‘æ•°ä¸ªæ•°éœ€è¦é€šè¿‡ä¹˜2æ¥å¾—åˆ°ä¸‹ä¸ªä¸‘æ•°ï¼ŒåŒç†ç¬¬cä¸ªæ•°
            int n2 = dp[a] * 2, n3 = dp[b] * 3, n5 = dp[c] * 5;
            dp[i] = Math.min(Math.min(n2, n3), n5);
            if(dp[i] == n2){
                a++; // ç¬¬aä¸ªæ•°å·²ç»é€šè¿‡ä¹˜2å¾—åˆ°äº†ä¸€ä¸ªæ–°çš„ä¸‘æ•°ï¼Œé‚£ä¸‹ä¸ªéœ€è¦é€šè¿‡ä¹˜2å¾—åˆ°ä¸€ä¸ªæ–°çš„ä¸‘æ•°çš„æ•°åº”è¯¥æ˜¯ç¬¬(a+1)ä¸ªæ•°
            }
            if(dp[i] == n3){
                b++; // ç¬¬ bä¸ªæ•°å·²ç»é€šè¿‡ä¹˜3å¾—åˆ°äº†ä¸€ä¸ªæ–°çš„ä¸‘æ•°ï¼Œé‚£ä¸‹ä¸ªéœ€è¦é€šè¿‡ä¹˜3å¾—åˆ°ä¸€ä¸ªæ–°çš„ä¸‘æ•°çš„æ•°åº”è¯¥æ˜¯ç¬¬(b+1)ä¸ªæ•°
            }
            if(dp[i] == n5){
                c++; // ç¬¬ cä¸ªæ•°å·²ç»é€šè¿‡ä¹˜5å¾—åˆ°äº†ä¸€ä¸ªæ–°çš„ä¸‘æ•°ï¼Œé‚£ä¸‹ä¸ªéœ€è¦é€šè¿‡ä¹˜5å¾—åˆ°ä¸€ä¸ªæ–°çš„ä¸‘æ•°çš„æ•°åº”è¯¥æ˜¯ç¬¬(c+1)ä¸ªæ•°
            }
        }
        return dp[n-1];
    }
}
```

#### å³æ—¶å†æˆ˜æˆåŠŸ

```java
class Solution {
    public int nthUglyNumber(int n) {
        /**
        åŠ¨æ€è§„å®šæ€æƒ³ï¼šæ¯ä¸ªä¸‘æ•°éƒ½æ˜¯ç”±ä¸€ä¸ªæ›´å°ä¸‘æ•°*ä¸‰ä¸ªåŸºæœ¬ä¸‘æ•°ï¼ˆ2 3 5ï¼‰å¾—åˆ°çš„
        è¾ƒå°ä¸‘æ•°å¯ä»¥ä¹˜åŸºæœ¬ä¸‘æ•°å¾—åˆ°æ–°ä¸‘æ•°ï¼Œå¦‚æœæƒ³è¦å¾—åˆ°æœ‰åºçš„ä¸‘æ•°ç”Ÿæˆåºåˆ—ï¼Œå°±å¾—æ—¶åˆ»æ¯”è¾ƒä¹˜2æˆ–3æˆ–5å¾—åˆ°çš„ä¸‘æ•°çš„æ•°çš„å¤§å°ï¼ŒæŠŠè¾ƒå°çš„æ”¾åœ¨å½“å‰ä½ç½®
         */
        //å¤„ç†ç‰¹æ®Šæƒ…å†µ
        if(n==1)return 1;

        //ä¸‰ä¸ªæŒ‡é’ˆéƒ½ä»dpæ•°ç»„çš„index=0å‡ºå‘ï¼Œåˆ†åˆ«ä¹˜2 3 5ï¼Œå¾—åˆ°æ–°ä¸‘æ•°ï¼Œå¹¶æ”¾å…¥è®°å¿†æ•°ç»„ï¼ˆå®ç°åŠ¨æ€è§„åˆ’ï¼‰
        int a=0,b=0,c=0;
        //nä¸è¶…è¿‡1690ï¼Œåº”è¯¥æ˜¯å¯¹åº”äº†æ•´æ•°è¾¹ç•Œï¼Œä¸ç„¶æœ¬å‡½æ•°æ— æ³•è¿”å›
        int []res=new int[n];
        res[0]=1;
        //ä»ç¬¬äºŒä¸ªä¸‘æ•°å¼€å§‹å¤„ç†
        for(int i=1;i<n;i++){
            int atemp=res[a]*2;
            int btemp=res[b]*3;
            int ctemp=res[c]*5;
            //abcä¸‰ä¸ªæŒ‡é’ˆæ±‚å¾—çš„æ–°ä¸‘æ•°ä¸­ï¼Œæœ€å°çš„é‚£ä¸ªä½œä¸ºæ–°ä¸‘æ•°ï¼ŒåŒæ—¶æŠŠè¯¥æŒ‡é’ˆå³ç§»ä¸€ä½ï¼Œå‡†å¤‡ç»™ä¸‹ä¸€ä¸ªæ•´æ•°åš*2æˆ–3æˆ–5çš„æ“ä½œã€‚å¦‚æœä¸¤ä¸ªæŒ‡é’ˆæ±‚åˆ°çš„æ–°ä¸‘æ•°ç›¸åŒï¼Œè¯´æ˜ä¸¤ä¸ªæŒ‡é’ˆéƒ½å¾—++ï¼Œæ‰€ä»¥ä¸èƒ½ç”¨ifelseè€Œå¾—ç”¨ä¸‰ä¸ªif
            if(atemp<=btemp&&atemp<=ctemp){
                res[i]=atemp;
                a++;
            }
            if(btemp<=atemp&&btemp<=ctemp){
                res[i]=btemp;
                b++;
            }
            if(ctemp<=atemp&&ctemp<=btemp){
                res[i]=ctemp;
                c++;
            }
        }

        return res[n-1];

    }
}
```

- åæ€ï¼šæˆ‘çš„å†æˆ˜å¯ä»¥å‚è€ƒå®˜æ–¹å“ªä¸ªä¸¤ä¸ªMath.minåµŒå¥—åˆ¤æ–­è°æœ€å°ï¼Œè¿™æ ·é¿å…å¯¹dp[i]çš„åŒä¸€ä½ç½®å¤šæ¬¡èµ‹å€¼åŒä¸€å€¼ã€‚

### [å‰‘æŒ‡ Offer 60. nä¸ªéª°å­çš„ç‚¹æ•°](https://leetcode-cn.com/problems/nge-tou-zi-de-dian-shu-lcof/)

codetop=3

#### é¦–æˆ˜å¯„

æ¦‚ç‡è®ºå…¨å¿˜äº†ï¼Œå“

#### å®˜æ–¹-æš´åŠ›

![image-20220422160224067](lcof.assets/image-20220422160224067.png)

![Picture1.png](lcof.assets/1615223242-EMOnIR-Picture1.png)

![image-20220422161242489](lcof.assets/image-20220422161242489.png)



#### å®˜æ–¹-dp

![image-20220422162715568](lcof.assets/image-20220422162715568.png)

![Picture2.png](lcof.assets/1614960989-tpJNRQ-Picture2.png)

- æˆ‘ï¼šf(n)ä¸­ç¬¬ä¸€ä¸ªå…ƒç´ æ˜¯f(2,2)çš„æ¦‚ç‡ï¼Œå³ä¸¤ä¸ªéª°å­çš„ç‚¹æ•°å’Œä¸º2çš„æƒ…å†µï¼›ä¸å­˜åœ¨ä¸¤ä¸ªéª°å­çš„ç‚¹æ•°å’Œä¸º1çš„æƒ…å†µï¼Œæ‰€ä»¥æ•°ç»„ç¬¬ä¸€ä½ä¸ºç‚¹æ•°å’Œä¸º2çš„æ¦‚ç‡ï¼›åŠ ç²—çš„6/36ä¹Ÿå°±æ˜¯f(2,7)äº†ã€‚
- æˆ‘ï¼š(1/6)\*(1/6)+(1/6)\*(1/6)+...å…­ä¸ªç§¯ç›¸åŠ ...+(1/6)*(1/6)=6/36
  - (1/6)\*(1/6)ä¸­ï¼Œå·¦è¾¹çš„1/6æ˜¯f(1,7-i)çš„æ¦‚ç‡ï¼Œå³ä¸€ä¸ªéª°å­å„ä¸ªé¢æœä¸Šçš„æ¦‚ç‡ï¼›å³è¾¹çš„(1/6)æ˜¯ç¬¬äºŒé¢—éª°å­æŠ•ç›¸åº”äº’ä¸ç‚¹æ•°çš„æ¦‚ç‡ï¼ˆæ¯”å¦‚è¦ä¸¤ä¸ªéª°å­çš„å’Œä¸º7ï¼Œé‚£ä¹ˆç¬¬ä¸€ä¸ªéª°å­æŠ•äº†1ï¼Œç¬¬äºŒä¸ªéª°å­å°±å¾—ä¸º6ï¼‰ã€‚

![image-20220422163035641](lcof.assets/image-20220422163035641.png)

![Picture3.png](lcof.assets/1614960989-mMonMs-Picture3.png)

- æˆ‘ï¼šæ­£å‘é€’æ¨ä¸­ï¼Œf(n-1)çš„åŠ ç²—çš„1/6ï¼Œå¯ä»¥ç†è§£ä¸ºæŠ•ä¸€ä¸ªç­›å­å¾—åˆ°2çš„æ¦‚ç‡ï¼›f(n)çš„åŠ ç²—çš„2/36ï¼Œå¯ä»¥ç†è§£ä¸ºæŠ•ä¸¤ä¸ªç­›å­å¾—åˆ°3çš„æ¦‚ç‡ï¼›
- æˆ‘ï¼šæ­£å‘é€’æ¨ä¸­ï¼Œf(n-1)çš„åŠ ç²—çš„1/6æ— æ³•è´¡çŒ®ç»™f(n)çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œå› ä¸ºï¼ŒæŠ•ä¸¤ä¸ªç­›å­çš„ç‚¹æ•°å’Œæœ€å°‘ä¸º2ï¼Œç¬¬ä¸€ä¸ªéª°å­ç‚¹æ•°ä¸º2çš„è¯æ˜¯æ— æ³•è´¡çŒ®ç»™ä¸¤ä¸ªéª°å­å’Œä¸º2çš„æƒ…å†µçš„ã€‚

![image-20220422165153903](lcof.assets/image-20220422165153903.png)

å¤æ‚åº¦åˆ†æï¼š

![image-20220422165235524](lcof.assets/image-20220422165235524.png)

ä»£ç ï¼š

![image-20220422165334994](lcof.assets/image-20220422165334994.png)

```java
public double[] dicesProbability(int n) {
        //å› ä¸ºæœ€åçš„ç»“æœåªä¸å‰ä¸€ä¸ªåŠ¨æ€è½¬ç§»æ•°ç»„æœ‰å…³ï¼Œæ‰€ä»¥è¿™é‡Œåªéœ€è¦è®¾ç½®ä¸€ä¸ªä¸€ç»´çš„åŠ¨æ€è½¬ç§»æ•°ç»„
        //åŸæœ¬dp[i][j]è¡¨ç¤ºçš„æ˜¯å‰iä¸ªéª°å­çš„ç‚¹æ•°ä¹‹å’Œä¸ºjçš„æ¦‚ç‡ï¼Œç°åœ¨åªéœ€è¦æœ€åçš„çŠ¶æ€çš„æ•°ç»„ï¼Œæ‰€ä»¥å°±åªç”¨ä¸€ä¸ªä¸€ç»´æ•°ç»„dp[j]è¡¨ç¤ºnä¸ªéª°å­ä¸‹æ¯ä¸ªç»“æœçš„æ¦‚ç‡ã€‚
        //åˆå§‹æ˜¯1ä¸ªéª°å­æƒ…å†µä¸‹çš„ç‚¹æ•°ä¹‹å’Œæƒ…å†µï¼Œå°±åªæœ‰6ä¸ªç»“æœï¼Œæ‰€ä»¥ç”¨dpçš„åˆå§‹åŒ–çš„sizeæ˜¯6ä¸ª
        double[] dp = new double[6];
        //åªæœ‰ä¸€ä¸ªæ•°ç»„
        Arrays.fill(dp,1.0/6.0);
        //ä»ç¬¬2ä¸ªéª°å­å¼€å§‹ï¼Œè¿™é‡Œnè¡¨ç¤ºnä¸ªéª°å­ï¼Œå…ˆä»ç¬¬äºŒä¸ªçš„æƒ…å†µç®—èµ·ï¼Œç„¶åå†é€æ­¥æ±‚3ä¸ªã€4ä¸ªÂ·Â·Â·nä¸ªçš„æƒ…å†µ
        //iè¡¨ç¤ºå½“æ€»å…±iä¸ªéª°å­æ—¶çš„ç»“æœ
        for(int i=2;i<=n;i++){
        //æ¯æ¬¡çš„ç‚¹æ•°ä¹‹å’ŒèŒƒå›´ä¼šæœ‰ç‚¹å˜åŒ–ï¼Œç‚¹æ•°ä¹‹å’Œçš„å€¼æœ€å¤§æ˜¯i*6ï¼Œæœ€å°æ˜¯i*1ï¼Œiä¹‹å‰çš„ç»“æœå€¼æ˜¯ä¸ä¼šå‡ºç°çš„ï¼›
        //æ¯”å¦‚i=3ä¸ªéª°å­æ—¶ï¼Œæœ€å°å°±æ˜¯3äº†ï¼Œä¸å¯èƒ½æ˜¯2å’Œ1ï¼Œæ‰€ä»¥ç‚¹æ•°ä¹‹å’Œçš„å€¼çš„ä¸ªæ•°æ˜¯6*i-(i-1)ï¼ŒåŒ–ç®€ï¼š5*i+1
            //å½“æœ‰iä¸ªéª°å­æ—¶çš„ç‚¹æ•°ä¹‹å’Œçš„å€¼æ•°ç»„å…ˆå‡å®šæ˜¯temp
            double[] temp = new double[5*i+1];
            //ä»i-1ä¸ªéª°å­çš„ç‚¹æ•°ä¹‹å’Œçš„å€¼æ•°ç»„å…¥æ‰‹ï¼Œè®¡ç®—iä¸ªéª°å­çš„ç‚¹æ•°ä¹‹å’Œæ•°ç»„çš„å€¼
            //å…ˆæ‹¿i-1ä¸ªéª°å­çš„ç‚¹æ•°ä¹‹å’Œæ•°ç»„çš„ç¬¬jä¸ªå€¼ï¼Œå®ƒæ‰€å½±å“çš„æ˜¯iä¸ªéª°å­æ—¶çš„temp[j+k]çš„å€¼
            for(int j=0;j<dp.length;j++){
            //æ¯”å¦‚åªæœ‰1ä¸ªéª°å­æ—¶ï¼Œdp[1]æ˜¯ä»£è¡¨å½“éª°å­ç‚¹æ•°ä¹‹å’Œä¸º2æ—¶çš„æ¦‚ç‡ï¼Œå®ƒä¼šå¯¹å½“æœ‰2ä¸ªéª°å­æ—¶çš„ç‚¹æ•°ä¹‹å’Œä¸º3ã€4ã€5ã€6ã€7ã€8äº§ç”Ÿå½±å“ï¼Œå› ä¸ºå½“æœ‰ä¸€ä¸ªéª°å­çš„å€¼ä¸º2æ—¶ï¼Œå¦ä¸€ä¸ªéª°å­çš„å€¼å¯ä»¥ä¸º1~6ï¼Œäº§ç”Ÿçš„ç‚¹æ•°ä¹‹å’Œç›¸åº”çš„å°±æ˜¯3~8ï¼›æ¯”å¦‚dp[2]ä»£è¡¨ç‚¹æ•°ä¹‹å’Œä¸º3ï¼Œå®ƒä¼šå¯¹æœ‰2ä¸ªéª°å­æ—¶çš„ç‚¹æ•°ä¹‹å’Œä¸º4ã€5ã€6ã€7ã€8ã€9äº§ç”Ÿå½±å“ï¼›æ‰€ä»¥kåœ¨è¿™é‡Œå°±æ˜¯å¯¹åº”ç€ç¬¬iä¸ªéª°å­å‡ºç°æ—¶å¯èƒ½å‡ºç°å…­ç§æƒ…å†µï¼Œè¿™é‡Œå¯èƒ½ç”»ä¸€ä¸ªKç¥é‚£æ ·çš„åŠ¨æ€è§„åˆ’é€†æ¨çš„å›¾å°±å¥½ç†è§£å¾ˆå¤š
                for(int k=0;k<6;k++){
                    //è¿™é‡Œè®°å¾—æ˜¯åŠ ä¸Šdpæ•°ç»„å€¼ä¸1/6çš„ä¹˜ç§¯ï¼Œ1/6æ˜¯ç¬¬iä¸ªéª°å­æŠ•å‡ºæŸä¸ªå€¼çš„æ¦‚ç‡
                    temp[j+k]+=dp[j]*(1.0/6.0);
                }
            }
            //iä¸ªéª°å­çš„ç‚¹æ•°ä¹‹å’Œå…¨éƒ½ç®—å‡ºæ¥åï¼Œè¦å°†tempæ•°ç»„ç§»äº¤ç»™dpæ•°ç»„ï¼Œdpæ•°ç»„å°±ä¼šä»£è¡¨iä¸ªéª°å­æ—¶çš„å¯èƒ½å‡ºç°çš„ç‚¹æ•°ä¹‹å’Œçš„æ¦‚ç‡ï¼›ç”¨äºè®¡ç®—i+1ä¸ªéª°å­æ—¶çš„ç‚¹æ•°ä¹‹å’Œçš„æ¦‚ç‡
            dp = temp;
        }
        return dp;
    }   
```

#### å³æ—¶å†æˆ˜æˆåŠŸ

ç†è§£çš„ä¸æ˜¯100%æ¸…æ™°ï¼Œä¸è¿‡èƒ½æœ‰æ€è·¯å¹¶åšå‡ºæ¥ï¼›æœ¬é¢˜å†™å‡ºæ¥æœ‰ä¸€å®šèƒŒé¢˜çš„å› ç´ ã€‚

```java
class Solution {
    public double[] dicesProbability(int n) {
        /**
        è®¾dp[]ä¸ºnä¸ªéª°å­æ—¶ï¼Œâ€œç‚¹æ•°å’Œâ€å¯¹åº”çš„æ¦‚ç‡æ•°ç»„ï¼Œé‚£ä¹ˆn-1ä¸ªéª°å­çš„å¯¹åº”æ•°ç»„ä¸ºdppre[]
        dppre[i]åœ¨æ–°å¢éª°å­çš„å€¼åˆ†åˆ«ä¸º1 2 3 4 5 6 æ—¶ï¼Œåˆ†åˆ«æ ¹æ®è‡ªå·±çš„â€œç‚¹æ•°å’Œâ€æ›´æ–°dp[]
         */

        //åˆå§‹åŒ–dpæ•°ç»„ï¼Œå¯¹åº”çš„æ˜¯ä¸€ä¸ªéª°å­æ—¶ï¼Œå„ä¸ªâ€œç‚¹æ•°å’Œâ€å¯¹åº”çš„æ¦‚ç‡ï¼šæŠ•å‡º1çš„æ¦‚ç‡æ˜¯1/6ï¼Œï¼Œï¼ŒæŠ•å‡º6çš„æ¦‚ç‡æ˜¯1/6
        double[]dp=new double[]{1.0/6.0,1.0/6.0,1.0/6.0,1.0/6.0,1.0/6.0,1.0/6.0};

        //åŠ¨æ€è§„åˆ’ï¼Œä¸æ–­æ¥è¿‘ç›®æ ‡çš„nä¸ªéª°å­çš„æƒ…å†µ
        for(int i=2;i<=n;i++){
            //æ–°å»ºtempæ•°ç»„ï¼Œè¿™ä¸ªæ•°ç»„æ˜¯åŠ ä¸€é¢—éª°å­åå¯¹åº”çš„å„ä¸ªâ€œç‚¹æ•°å’Œâ€çš„æ¦‚ç‡ã€‚æ•°ç»„çš„å¤§å°==å¯èƒ½çš„ç‚¹æ•°å’Œçš„ä¸ªæ•°==6*i-1*i+1
            double[] temp=new double[5*i+1];

            //æŠŠdp[]çš„æ¯ä¸ªå…ƒç´ ï¼Œé’ˆå¯¹æ–°å¢éª°å­æŠ•å‡ºä¸º1 2 3 4 5 6 çš„æƒ…å†µï¼ŒæŠŠè‡ªå·±çš„çš„æ¦‚ç‡è´¡çŒ®æ·»åŠ åˆ°tempä¸­
            for(int j=0;j<dp.length;j++){
                //é’ˆå¯¹æ–°å¢éª°å­æŠ•å‡ºä¸º1 2 3 4 5 6 çš„æƒ…å†µï¼ŒæŠŠè‡ªå·±çš„çš„æ¦‚ç‡è´¡çŒ®æ·»åŠ åˆ°tempä¸­
                for(int k=0;k<6;k++){
                    temp[j+k]+=dp[j]*1.0/6.0;
                }
                
            }

            //iä¸ªéª°å­çš„dpè®¡ç®—å®Œæ¯•åï¼Œç”¨tempæ›´æ–°dpï¼Œå‡†å¤‡æ±‚i+1ä¸ªéª°å­çš„æƒ…å†µ
            dp=temp;
        }

        return dp;
    }
}
```

## åˆ†æ²»ç®—æ³•(å›°éš¾)

### [å‰‘æŒ‡ Offer 17. æ‰“å°ä»1åˆ°æœ€å¤§çš„nä½æ•°](https://leetcode-cn.com/problems/da-yin-cong-1dao-zui-da-de-nwei-shu-lcof/)

codetop==4

#### é¦–æˆ˜å‘Šæ·

```java
class Solution {
    public int[] printNumbers(int n) {
        //æ±‚å‡ºæ•°å­—ä¸Šç•Œ
        int limit=1;
        while(n>0){
            limit*=10;
            n--;
        }

        int[] result=new int[limit-1];
        for(int i=0;i<limit-1;i++){
            result[i]=i+1;
        }

        return result;

    }
}
```

- ç›´æ¥å‚»ç“œæ³•ï¼Œæ²¡æœ‰ç”¨åˆ†ç±»æ¨èçš„åˆ†æ²»æ³•
- æˆ‘ï¼šæˆ‘è¿™å…¶å®åœ¨å¾—åˆ°10çš„æ•´æ•°æ¬¡å¹‚çš„limitåï¼Œå¯¹limit--å°±çœçš„åé¢éƒ½ä»¥limit-1ä¸ºæ ‡å‡†äº†ã€‚

#### å®˜æ–¹-åˆ†æ²»(å¤§æ•°æƒ…å†µä¸‹)

![image-20220422194503309](lcof.assets/image-20220422194503309.png)

![Picture1.png](lcof.assets/83f4b5930ddc1d42b05c724ea2950ee7f00427b11150c86b45bd88405f8c7c87-Picture1.png)

æ ¹æ®ä»¥ä¸Šæ–¹æ³•ï¼Œå¯åˆæ­¥ç¼–å†™å…¨æ’åˆ—ä»£ç ï¼š

```java
class Solution {
    StringBuilder res;
    int count = 0, n;
    char[] num, loop = {'0', '1', '2', '3', '4', '5', '6', '7', '8', '9'};
    public String printNumbers(int n) {
        this.n = n;
        res = new StringBuilder(); // æ•°å­—å­—ç¬¦ä¸²é›†
        num = new char[n]; // å®šä¹‰é•¿åº¦ä¸º n çš„å­—ç¬¦åˆ—è¡¨
        dfs(0); // å¼€å¯å…¨æ’åˆ—é€’å½’
        res.deleteCharAt(res.length() - 1); // åˆ é™¤æœ€åå¤šä½™çš„é€—å·
        return res.toString(); // è½¬åŒ–ä¸ºå­—ç¬¦ä¸²å¹¶è¿”å›
    }
    void dfs(int x) {
        if(x == n) { // ç»ˆæ­¢æ¡ä»¶ï¼šå·²å›ºå®šå®Œæ‰€æœ‰ä½
            res.append(String.valueOf(num) + ","); // æ‹¼æ¥ num å¹¶æ·»åŠ è‡³ res å°¾éƒ¨ï¼Œä½¿ç”¨é€—å·éš”å¼€
            return;
        }
        for(char i : loop) { // éå† â€˜0â€˜ - â€™9â€˜
            num[x] = i; // å›ºå®šç¬¬ x ä½ä¸º i
            dfs(x + 1); // å¼€å¯å›ºå®šç¬¬ x + 1 ä½
        }
    }
}
```

åœ¨æ­¤æ–¹æ³•ä¸‹ï¼Œå„æ•°å­—å­—ç¬¦ä¸²è¢«é€—å·éš”å¼€ï¼Œå…±åŒç»„æˆé•¿å­—ç¬¦ä¸²ã€‚è¿”å›çš„æ•°å­—é›†å­—ç¬¦ä¸²å¦‚ä¸‹æ‰€ç¤ºï¼š

```
è¾“å…¥ï¼šn = 1
è¾“å‡ºï¼š"0,1,2,3,4,5,6,7,8,9"

è¾“å…¥ï¼šn = 2
è¾“å‡ºï¼š"00,01,02,...,10,11,12,...,97,98,99"

è¾“å…¥ï¼šn = 3
è¾“å‡ºï¼š"000,001,002,...,100,101,102,...,997,998,999"
```

![image-20220422194602103](lcof.assets/image-20220422194602103.png)

å¤æ‚åº¦åˆ†æï¼š

![image-20220422194627235](lcof.assets/image-20220422194627235.png)

ä»£ç ï¼š

ä¸º **æ­£ç¡®è¡¨ç¤ºå¤§æ•°** ï¼Œä»¥ä¸‹ä»£ç çš„è¿”å›å€¼ä¸ºæ•°å­—å­—ç¬¦ä¸²é›†æ‹¼æ¥è€Œæˆçš„é•¿å­—ç¬¦ä¸²ã€‚

```java
class Solution {
    StringBuilder res;
    int nine = 0, count = 0, start, n;
    char[] num, loop = {'0', '1', '2', '3', '4', '5', '6', '7', '8', '9'};
    public String printNumbers(int n) {
        this.n = n;
        res = new StringBuilder();
        num = new char[n];
        start = n - 1;
        dfs(0);
        res.deleteCharAt(res.length() - 1);
        return res.toString();
    }
    void dfs(int x) {
        if(x == n) {
            String s = String.valueOf(num).substring(start);
            if(!s.equals("0")) res.append(s + ",");
            if(n - start == nine) start--;
            return;
        }
        for(char i : loop) {
            if(i == '9') nine++;
            num[x] = i;
            dfs(x + 1);
        }
        nine--;
    }
}
```

æœ¬é¢˜è¦æ±‚è¾“å‡º int ç±»å‹æ•°ç»„ã€‚ä¸º **è¿è¡Œé€šè¿‡** ï¼Œå¯åœ¨æ·»åŠ æ•°å­—å­—ç¬¦ä¸² s*s* å‰ï¼Œå°†å…¶è½¬åŒ–ä¸º int ç±»å‹ã€‚ä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š

```java
class Solution {
    int[] res;
    int nine = 0, count = 0, start, n;
    char[] num, loop = {'0', '1', '2', '3', '4', '5', '6', '7', '8', '9'};
    public int[] printNumbers(int n) {
        this.n = n;
        res = new int[(int)Math.pow(10, n) - 1];
        num = new char[n];
        start = n - 1;
        dfs(0);
        return res;
    }
    void dfs(int x) {
        if(x == n) {
            String s = String.valueOf(num).substring(start);
            if(!s.equals("0")) res[count++] = Integer.parseInt(s);
            if(n - start == nine) start--;
            return;
        }
        for(char i : loop) {
            if(i == '9') nine++;
            num[x] = i;
            dfs(x + 1);
        }
        nine--;
    }
}
```

ç½‘å‹ï¼šåŸºæœ¬ä¸Šçœ‹æ‡‚äº†ï¼Œå¾ˆå·§å¦™çš„åŠæ³•ï¼Œæ”¶è—äº†ï¼Œé¡ºä¾¿åŠ ç‚¹æ³¨é‡Šå¸®åŠ©å¤§ä¼™ç†è§£ï¼š

```java
class Solution {
    int[] res;
    //startè¡¨ç¤ºè¯¥æ•°å­—å½“å‰å·¦è¾¹ç•Œï¼Œè¿™ä¸ªå·¦è¾¹ç•Œæ„æ€æ˜¯æŒ‡å½“å‰æ•°å­—æœ€é«˜ä½å¯¹åº”çš„charæ•°ç»„ä¸‹æ ‡ã€‚å¦‚n=2æ—¶ï¼Œ1~9å·¦è¾¹ç•Œä¸º1ï¼Œ10~99å·¦è¾¹ç•Œä¸º0
    //nineè¡¨ç¤ºå½“å‰æ•°å­—ä¸­å‡ºç°äº†å¤šå°‘ä¸ª9ï¼Œå¦‚æœå‡ºç°1ä¸ª9ï¼Œå·¦è¾¹ç•Œå°±è¦å‘å·¦ç§»1ä½ã€‚ä¾‹å¦‚ç¬¬1æ¬¡å‡ºç°â€œ9â€æ˜¯åœ¨9è¿™ä¸ªæ•°å­—å‡ºç°çš„æ—¶å€™ï¼Œæ­¤æ—¶nine++å˜ä¸º1ï¼Œ
    //è¿›å…¥ä¸‹æ¬¡é€’å½’nä¸º2ï¼Œnineä¸º1ï¼Œstartä¸º1ï¼Œæ­¤æ—¶startå°±è¦-1ï¼Œä»¥ä¾¿ç»Ÿè®¡äºŒä½æ•°å­—
    int nine = 0, count = 0, start, n;   
    char[] num, loop = {'0', '1', '2', '3', '4', '5', '6', '7', '8', '9'};
    public int[] printNumbers(int n) {
        this.n = n;
        //ç”¨æ¥ä¿å­˜æœ€ç»ˆæ•°å­—ç»“æœçš„
        res = new int[(int)Math.pow(10, n) - 1];   
        //numæ•°ç»„ç”¨æ¥è¡¨ç¤ºå­—ç¬¦ä¸²ï¼Œæ¯”å¦‚nç­‰äº2ï¼Œåˆ™numæ•°ç»„ä¸º['0''0']ã€['0''1']ã€['0''2']...åè¾¹æ˜¯å°†å®ƒè½¬ä¸ºå­—ç¬¦ä¸²å¹¶æŒ‰ç…§å·¦è¾¹ç•Œçš„ä½ç½®è¿›è¡Œæˆªå–çš„
        num = new char[n];  
        start = n - 1;  //æœ€å¼€å§‹çš„å·¦è¾¹ç•Œæ˜¯ä»n-1ï¼Œå¼€å§‹çš„ï¼Œå› ä¸ºcharæ•°ç»„çš„ä¸‹æ ‡æ˜¯ä»0å¼€å§‹ï¼Œæœ€æœ«ä¸€ä½ä¸ºn-1
        dfs(0);   //ä»charæ•°ç»„çš„ç¬¬0ä½å¼€å§‹
        return res;
    }
    void dfs(int x) {
        //ç»“æŸæ¡ä»¶ï¼šå½“å‰xçš„ä¸‹æ ‡è¶Šè¿‡charæ•°ç»„çš„æœ€åä¸€ä½ä¸‹æ ‡n-1ï¼Œæ­¤æ—¶è®°å½•ç»“æœ
        if(x == n) {
            String s = String.valueOf(num).substring(start);   //ä»startå¼€å§‹æˆªå–å­—ç¬¦ä¸²ï¼Œå¦‚"01"æˆªå–åå°±æ˜¯"1"
            if(!s.equals("0")) res[count++] = Integer.parseInt(s);   //é˜²æ­¢å°†"0"ã€"00"ã€"000"åŠ è¿›æ¥
            if(n - start == nine) start--;   //nå‡å»startç­‰äºnineï¼Œè¡¨ç¤ºè¦è¿›ä½äº†ï¼Œè¿›ä½å°±æ˜¯å°†å·¦è¾¹ç•Œstartå·¦ç§»ä¸€ä½ï¼Œå³-1
            return;
        }
        //ç»™charæ•°ç»„ç¬¬xä½æ·»åŠ æ•°å­—ï¼Œæ·»åŠ å®Œåè¿›å…¥ä¸‹ä¸€ä½
        for(char i : loop) {
            if(i == '9') nine++;
            num[x] = i;
            dfs(x + 1);
        }
        nine--;   //å›æº¯
    }
}
```

#### å³æ—¶å†æˆ˜

åˆ†æ²»æ³•æ¯”è¾ƒéš¾ï¼Œå…ˆä¸é‡å†™åˆ†æ²»æ³•äº†ã€‚

### [å‰‘æŒ‡ Offer 51. æ•°ç»„ä¸­çš„é€†åºå¯¹](https://leetcode-cn.com/problems/shu-zu-zhong-de-ni-xu-dui-lcof/)

codetop=30

#### é¦–æˆ˜å¯„

æ²¡æœ‰æ€è·¯

#### å®˜æ–¹-å½’å¹¶æ’åº

è§£é¢˜æ€è·¯ï¼š

![image-20220423201841437](lcof.assets/image-20220423201841437.png)

![Picture1.png](lcof.assets/1614274007-nBQbZZ-Picture1.png)

åˆå¹¶é˜¶æ®µ æœ¬è´¨ä¸Šæ˜¯ åˆå¹¶ä¸¤ä¸ªæ’åºæ•°ç»„ çš„è¿‡ç¨‹ï¼Œè€Œæ¯å½“é‡åˆ° å·¦å­æ•°ç»„å½“å‰å…ƒç´  > å³å­æ•°ç»„å½“å‰å…ƒç´  æ—¶ï¼Œæ„å‘³ç€ ã€Œå·¦å­æ•°ç»„å½“å‰å…ƒç´  è‡³ æœ«å°¾å…ƒç´ ã€ ä¸ ã€Œå³å­æ•°ç»„å½“å‰å…ƒç´ ã€ æ„æˆäº†è‹¥å¹² ã€Œé€†åºå¯¹ã€ ã€‚å› æ­¤ï¼Œè€ƒè™‘åœ¨å½’å¹¶æ’åºçš„åˆå¹¶é˜¶æ®µç»Ÿè®¡ã€Œé€†åºå¯¹ã€æ•°é‡ï¼Œå®Œæˆå½’å¹¶æ’åºæ—¶ï¼Œä¹Ÿéšä¹‹å®Œæˆæ‰€æœ‰é€†åºå¯¹çš„ç»Ÿè®¡ã€‚

ç®—æ³•æµç¨‹ï¼š

![image-20220423201943425](lcof.assets/image-20220423201943425.png)

![Picture2.png](lcof.assets/1614274007-rtFHbG-Picture2.png)

å¤æ‚åº¦åˆ†æï¼š

![image-20220423202030314](lcof.assets/image-20220423202030314.png)

ä»£ç ï¼š

```java
class Solution {
    int count;
    public int reversePairs(int[] nums) {
        this.count = 0;
        merge(nums, 0, nums.length - 1);
        return count;
    }

    public void merge(int[] nums, int left, int right) {
        int mid = left + ((right - left) >> 1);
        if (left < right) {
            merge(nums, left, mid);
            merge(nums, mid + 1, right);
            mergeSort(nums, left, mid, right);
        }
    }

    public void mergeSort(int[] nums, int left, int mid, int right) {
        int[] temparr = new int[right - left + 1];
        int index = 0;
        int temp1 = left, temp2 = mid + 1;

        while (temp1 <= mid && temp2 <= right) {
            if (nums[temp1] <= nums[temp2]) {
                temparr[index++] = nums[temp1++];
            } else {
                //ç”¨æ¥ç»Ÿè®¡é€†åºå¯¹çš„ä¸ªæ•°
                count += (mid - temp1 + 1);
                temparr[index++] = nums[temp2++];
            }
        }
        //æŠŠå·¦è¾¹å‰©ä½™çš„æ•°ç§»å…¥æ•°ç»„
        while (temp1 <= mid) {
            temparr[index++] = nums[temp1++];
        }
        //æŠŠå³è¾¹å‰©ä½™çš„æ•°ç§»å…¥æ•°ç»„
        while (temp2 <= right) {
            temparr[index++] = nums[temp2++];
        }
        //æŠŠæ–°æ•°ç»„ä¸­çš„æ•°è¦†ç›–numsæ•°ç»„
        for (int k = 0; k < temparr.length; k++) {
            nums[k + left] = temparr[k];
        }
    }
}
```

#### å³æ—¶å†æˆ˜

æœ¬é¢˜hardï¼Œè™½ç„¶é¢‘åº¦é«˜ï¼Œä½†æ˜¯å…ˆæ”¾æ”¾ä¸å†æˆ˜ã€‚

## æ•°å­¦(å›°éš¾)

### [å‰‘æŒ‡ Offer 14- II. å‰ªç»³å­ II](https://leetcode-cn.com/problems/jian-sheng-zi-ii-lcof/)

codetop=1

#### é¦–æˆ˜å¯„

æ²¡æ€è·¯

#### å¤§ä½¬-è´ªå¿ƒ

æ­¤é¢˜ä¸ é¢è¯•é¢˜14- I. å‰ªç»³å­ ä¸»ä½“ç­‰ä»·ï¼Œå”¯ä¸€ä¸åŒåœ¨äºæœ¬é¢˜ç›®æ¶‰åŠ â€œå¤§æ•°è¶Šç•Œæƒ…å†µä¸‹çš„æ±‚ä½™é—®é¢˜â€ ã€‚
å»ºè®®å…ˆåšä¸Šä¸€é“é¢˜ï¼Œåœ¨æ­¤åŸºç¡€ä¸Šå†ç ”ç©¶æ­¤é¢˜ç›®çš„å¤§æ•°æ±‚ä½™æ–¹æ³•ã€‚

ä»£ç ï¼š

```java
class Solution {
    public int cuttingRope(int n) {
        if(n <= 3) return n - 1;
        long res=1L;
        int p=(int)1e9+7;
        //è´ªå¿ƒç®—æ³•ï¼Œä¼˜å…ˆåˆ‡ä¸‰ï¼Œå…¶æ¬¡åˆ‡äºŒ
        while(n>4){
            res=res*3%p;
            n-=3;
        }
        //å‡ºæ¥å¾ªç¯åªæœ‰ä¸‰ç§æƒ…å†µï¼Œåˆ†åˆ«æ˜¯n=2ã€3ã€4
        return (int)(res*n%p);
    }
}
```

#### å³æ—¶å†æˆ˜

æœ¬é¢˜é¢‘ç‡ä½ï¼Œä¸”æ™®é€‚æ€§ä¸€èˆ¬ï¼Œæš‚æ”¾

### [å‰‘æŒ‡ Offer 43. 1ï½n æ•´æ•°ä¸­ 1 å‡ºç°çš„æ¬¡æ•°](https://leetcode-cn.com/problems/1nzheng-shu-zhong-1chu-xian-de-ci-shu-lcof/)

codetop==7

#### é¦–æˆ˜å¯„

æ²¡æœ‰æ€è·¯

#### å¤§ä½¬-æ‰¾è§„å¾‹åšæƒ…å†µåˆ†ç±»

æ€è·¯æ¥æºï¼šhttps://zhuanlan.zhihu.com/p/76031311

æ€è·¯ï¼š

è®¾N = abcde,å…¶ä¸­abcdeåˆ†åˆ«ä¸ºåè¿›åˆ¶ä¸­å„ä½ä¸Šçš„æ•°å­—ã€‚
å¦‚æœè¦è®¡ç®—ç™¾ä½ä¸Š1å‡ºç°çš„æ¬¡æ•°ï¼Œå®ƒè¦å—åˆ°3æ–¹é¢çš„å½±å“ï¼šç™¾ä½ä¸Šçš„æ•°å­—ï¼Œç™¾ä½ä»¥ä¸‹ï¼ˆä½ä½ï¼‰çš„æ•°å­—ï¼Œç™¾ä½ä»¥ä¸Šï¼ˆé«˜ä½ï¼‰çš„æ•°å­—ã€‚
**â‘ å¦‚æœç™¾ä½ä¸Šæ•°å­—ä¸º0ï¼Œç™¾ä½ä¸Šå¯èƒ½å‡ºç°1çš„æ¬¡æ•°ç”±æ›´é«˜ä½å†³å®š**ã€‚æ¯”å¦‚ï¼š12013ï¼Œåˆ™å¯ä»¥çŸ¥é“ç™¾ä½å‡ºç°1çš„æƒ…å†µå¯èƒ½æ˜¯ï¼š100 ~ 199ï¼Œ1100 ~ 1199,2100 ~ 2199ï¼Œï¼Œâ€¦ï¼Œ11100 ~ 11199ï¼Œä¸€å…±1200ä¸ªã€‚å¯ä»¥çœ‹å‡ºæ˜¯ç”±æ›´é«˜ä½æ•°å­—ï¼ˆ12ï¼‰å†³å®šï¼Œå¹¶ä¸”ç­‰äºæ›´é«˜ä½æ•°å­—ï¼ˆ12ï¼‰ä¹˜ä»¥ å½“å‰ä½æ•°ï¼ˆ100ï¼‰ã€‚
**â‘¡ å¦‚æœç™¾ä½ä¸Šæ•°å­—ä¸º1ï¼Œç™¾ä½ä¸Šå¯èƒ½å‡ºç°1çš„æ¬¡æ•°ä¸ä»…å—æ›´é«˜ä½å½±å“è¿˜å—ä½ä½å½±å“**ã€‚æ¯”å¦‚ï¼š12113ï¼Œåˆ™å¯ä»¥çŸ¥é“ç™¾ä½å—é«˜ä½å½±å“å‡ºç°çš„æƒ…å†µæ˜¯ï¼š100 ~ 199ï¼Œ1100 ~ 1199,2100 ~ 2199ï¼Œï¼Œâ€¦.ï¼Œ11100 ~ 11199ï¼Œä¸€å…±1200ä¸ªã€‚å’Œä¸Šé¢æƒ…å†µä¸€æ ·ï¼Œå¹¶ä¸”ç­‰äºæ›´é«˜ä½æ•°å­—ï¼ˆ12ï¼‰ä¹˜ä»¥å½“å‰ä½æ•°ï¼ˆ100ï¼‰ã€‚ä½†åŒæ—¶å®ƒè¿˜å—ä½ä½å½±å“ï¼Œç™¾ä½å‡ºç°1çš„æƒ…å†µæ˜¯ï¼š12100~12113,ä¸€å…±114ä¸ªï¼Œç­‰äºä½ä½æ•°å­—ï¼ˆ113ï¼‰+1ã€‚
**â‘¢ å¦‚æœç™¾ä½ä¸Šæ•°å­—å¤§äº1ï¼ˆ2 ~ 9ï¼‰ï¼Œåˆ™ç™¾ä½ä¸Šå‡ºç°1çš„æƒ…å†µä»…ç”±æ›´é«˜ä½å†³å®š**ï¼Œæ¯”å¦‚12213ï¼Œåˆ™ç™¾ä½å‡ºç°1çš„æƒ…å†µæ˜¯ï¼š100 ~ 199,1100 ~ 1199ï¼Œ2100 ~ 2199ï¼Œâ€¦ï¼Œ11100 ~ 11199,12100 ~ 12199,ä¸€å…±æœ‰1300ä¸ªï¼Œå¹¶ä¸”ç­‰äºæ›´é«˜ä½æ•°å­—+1ï¼ˆ12+1ï¼‰ä¹˜ä»¥å½“å‰ä½æ•°ï¼ˆ100ï¼‰ã€‚

- æ€è·¯[å‚è€ƒ](https://www.nowcoder.com/profile/3371548/codeBookDetail?submissionId=16319486)

ä»£ç ï¼š

```java
å¤§ä½¬çš„ä»£ç æ²¡é€šè¿‡æ‰€æœ‰æµ‹è¯•æ¡ˆä¾‹ã€‚ã€‚ä¸è¿‡ä¹Ÿä¸ç»†ç©¶äº†ï¼Œhardæš‚ç¼“
class Solution {
    public int countDigitOne(int n) {
        
    //1çš„ä¸ªæ•°
    int count = 0;

    //å½“å‰ä½
    int i = 1;

    int current, after, before;

    while((n/i)!= 0){

        //å½“å‰ä½æ•°å­—
        current = (n/i)%10;
        //é«˜ä½æ•°å­—
        before = n/(i*10);
        //ä½ä½æ•°å­—
        after = n-(n/i)*i;

        //å¦‚æœä¸º0,å‡ºç°1çš„æ¬¡æ•°ç”±é«˜ä½å†³å®š,æ•°é‡ç­‰äºé«˜ä½æ•°å­— * å½“å‰ä½æ•°
        if (current == 0) {
            count += before * i;
        } else if(current == 1) {
            //å¦‚æœä¸º1,å‡ºç°1çš„æ¬¡æ•°ç”±é«˜ä½å’Œä½ä½å†³å®š,é«˜ä½*å½“å‰ä½+ä½ä½+1
            count += before * i + after + 1;
        } else{
            //å¦‚æœå¤§äº1,å‡ºç°1çš„æ¬¡æ•°ç”±é«˜ä½å†³å®š,ï¼ˆé«˜ä½æ•°å­—+1ï¼‰* å½“å‰ä½æ•°
            count += (before + 1) * i;
        }
        //å‰ç§»ä¸€ä½
        i = i*10;
    }
    return count;

    }
}
```

### [å‰‘æŒ‡ Offer 44. æ•°å­—åºåˆ—ä¸­æŸä¸€ä½çš„æ•°å­—](https://leetcode-cn.com/problems/shu-zi-xu-lie-zhong-mou-yi-wei-de-shu-zi-lcof/)

#### é¦–æˆ˜å¯„

æ•°å­¦çœŸé¡¶ï¼Œï¼Œ

#### å®˜æ–¹

æš‚ç•¥

