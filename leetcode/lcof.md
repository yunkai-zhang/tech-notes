## åŸºç¡€çŸ¥è¯†

#### ç±»å‹è½¬æ¢

1ï¼ŒåŒ…è£…ç±» åŸºæœ¬æ•°æ®ç±»å‹ String çš„è½¬æ¢ï¼š

- [1](https://blog.csdn.net/HY845638534/article/details/84669490)

## æ ˆé˜Ÿåˆ—

### [å‰‘æŒ‡ Offer 09. ç”¨ä¸¤ä¸ªæ ˆå®ç°é˜Ÿåˆ—](https://leetcode-cn.com/problems/yong-liang-ge-zhan-shi-xian-dui-lie-lcof/)

æ–¹æ³•ä¸€ï¼šåŒæ ˆ

#### å®˜æ–¹-æ€è·¯å’Œç®—æ³•

ç»´æŠ¤ä¸¤ä¸ªæ ˆï¼Œç¬¬ä¸€ä¸ªæ ˆæ”¯æŒæ’å…¥æ“ä½œï¼Œç¬¬äºŒä¸ªæ ˆæ”¯æŒåˆ é™¤æ“ä½œã€‚

æ ¹æ®æ ˆå…ˆè¿›åå‡ºçš„ç‰¹æ€§ï¼Œæˆ‘ä»¬æ¯æ¬¡å¾€ç¬¬ä¸€ä¸ªæ ˆé‡Œæ’å…¥å…ƒç´ åï¼Œç¬¬ä¸€ä¸ªæ ˆçš„åº•éƒ¨å…ƒç´ æ˜¯æœ€åæ’å…¥çš„å…ƒç´ ï¼Œç¬¬ä¸€ä¸ªæ ˆçš„é¡¶éƒ¨å…ƒç´ æ˜¯ä¸‹ä¸€ä¸ªå¾…åˆ é™¤çš„å…ƒç´ ã€‚ä¸ºäº†ç»´æŠ¤é˜Ÿåˆ—å…ˆè¿›å…ˆå‡ºçš„ç‰¹æ€§ï¼Œæˆ‘ä»¬å¼•å…¥ç¬¬äºŒä¸ªæ ˆï¼Œç”¨ç¬¬äºŒä¸ªæ ˆç»´æŠ¤å¾…åˆ é™¤çš„å…ƒç´ ï¼Œåœ¨æ‰§è¡Œåˆ é™¤æ“ä½œçš„æ—¶å€™æˆ‘ä»¬é¦–å…ˆçœ‹ä¸‹ç¬¬äºŒä¸ªæ ˆæ˜¯å¦ä¸ºç©ºã€‚å¦‚æœä¸ºç©ºï¼Œæˆ‘ä»¬å°†ç¬¬ä¸€ä¸ªæ ˆé‡Œçš„å…ƒç´ ä¸€ä¸ªä¸ªå¼¹å‡ºæ’å…¥åˆ°ç¬¬äºŒä¸ªæ ˆé‡Œï¼Œè¿™æ ·ç¬¬äºŒä¸ªæ ˆé‡Œå…ƒç´ çš„é¡ºåºå°±æ˜¯å¾…åˆ é™¤çš„å…ƒç´ çš„é¡ºåºï¼Œè¦æ‰§è¡Œåˆ é™¤æ“ä½œçš„æ—¶å€™æˆ‘ä»¬ç›´æ¥å¼¹å‡ºç¬¬äºŒä¸ªæ ˆçš„å…ƒç´ è¿”å›å³å¯ã€‚

- æˆå‘˜å˜é‡
  - ç»´æŠ¤ä¸¤ä¸ªæ ˆ stack1 å’Œ stack2ï¼Œå…¶ä¸­ stack1 æ”¯æŒæ’å…¥æ“ä½œï¼Œstack2 æ”¯æŒåˆ é™¤æ“ä½œ

- æ„é€ æ–¹æ³•
  - åˆå§‹åŒ– stack1 å’Œ stack2 ä¸ºç©º

- æ’å…¥å…ƒç´ 

  æ’å…¥å…ƒç´ å¯¹åº”æ–¹æ³• appendTail

  - stack1 ç›´æ¥æ’å…¥å…ƒç´ 

- åˆ é™¤å…ƒç´ 

  åˆ é™¤å…ƒç´ å¯¹åº”æ–¹æ³• deleteHead

  - å¦‚æœ stack2 ä¸ºç©ºï¼Œåˆ™å°† stack1 é‡Œçš„æ‰€æœ‰å…ƒç´ å¼¹å‡ºæ’å…¥åˆ° stack2 é‡Œ

  - å¦‚æœ stack2 ä»ä¸ºç©ºï¼Œåˆ™è¿”å› -1ï¼Œå¦åˆ™ä» stack2 å¼¹å‡ºä¸€ä¸ªå…ƒç´ å¹¶è¿”å›

#### ä»£ç 

```java
class CQueue {
    //ä¸¤ä¸ªæ ˆï¼Œä¸€ä¸ªå‡ºæ ˆï¼Œä¸€ä¸ªå…¥æ ˆ
    private Stack<Integer> stack1;
    private Stack<Integer> stack2;
    
    public CQueue() {
        stack1 = new Stack<>();
        stack2 = new Stack<>();
    }
    
    public void appendTail(int value) {
        stack1.push(value);
    }
    
    public int deleteHead() {
        if(!stack2.isEmpty()){
            return stack2.pop();
        }else{
            while(!stack1.isEmpty()){
                stack2.push(stack1.pop());
            }
            return stack2.isEmpty() ? -1 : stack2.pop();
        }
    }
}
```

- ç½‘å‹é—®ï¼šâ€œè¿™ä¸ªæ–¹å¼ä¸ºä½•åªæ‰“è´¥50%çš„æäº¤ï¼Ÿâ€ã€‚ç½‘å‹ç­”ï¼šâ€œå› ä¸ºStackçš„å®ç°æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œæ€§èƒ½æ¯”LinkedListä½â€ã€‚

#### å¤æ‚åº¦åˆ†æ

- æ—¶é—´å¤æ‚åº¦ï¼šå¯¹äºæ’å…¥å’Œåˆ é™¤æ“ä½œï¼Œæ—¶é—´å¤æ‚åº¦å‡ä¸º O(1)O(1)ã€‚æ’å…¥ä¸å¤šè¯´ï¼Œå¯¹äºåˆ é™¤æ“ä½œï¼Œè™½ç„¶çœ‹èµ·æ¥æ˜¯ O(n)O(n) çš„æ—¶é—´å¤æ‚åº¦ï¼Œä½†æ˜¯ä»”ç»†è€ƒè™‘ä¸‹æ¯ä¸ªå…ƒç´ åªä¼šã€Œè‡³å¤šè¢«æ’å…¥å’Œå¼¹å‡º stack2 ä¸€æ¬¡ã€ï¼Œå› æ­¤å‡æ‘Šä¸‹æ¥æ¯ä¸ªå…ƒç´ è¢«åˆ é™¤çš„æ—¶é—´å¤æ‚åº¦ä»ä¸º O(1)O(1)ã€‚

- ç©ºé—´å¤æ‚åº¦ï¼šO(n)O(n)ã€‚éœ€è¦ä½¿ç”¨ä¸¤ä¸ªæ ˆå­˜å‚¨å·²æœ‰çš„å…ƒç´ ã€‚

#### æ€è€ƒ

- 20220302ï¼š
  - ä¸è®°å¾—javaä¸­stackæ€ä¹ˆå®ç°
  - çŸ¥é“ç”¨ä¸¤ä¸ªæ ˆå®ç°é˜Ÿåˆ—ã€‚ä½†æ˜¯é’ˆå¯¹åˆ é™¤ï¼Œæƒ³çš„æ˜¯â€œæ’å…¥é˜Ÿåˆ—ç§»åŠ¨åˆ°åˆ é™¤é˜Ÿåˆ—ï¼Œåˆ é™¤å…ƒç´ åï¼Œè¦æŠŠåˆ é™¤é˜Ÿåˆ—çš„æ‰€æœ‰å…ƒç´ ç§»åŠ¨å›æ’å…¥é˜Ÿåˆ—â€ï¼Œä½†æ˜¯å®é™…ä¸Šä¸éœ€è¦æŠŠåˆ é™¤é˜Ÿåˆ—çš„å…ƒç´ ç§»åŠ¨å›å»ï¼›
    - æ­£ç¡®æ€è·¯å°±æ˜¯å¦‚é¢˜è§£ï¼šåˆ é™¤é˜Ÿåˆ—è´Ÿè´£åˆ é™¤ï¼Œæ’å…¥é˜Ÿåˆ—è´Ÿè´£æ’å…¥ï¼Œåˆ é™¤é˜Ÿåˆ—ç©ºäº†æ‰èƒ½æŠŠå…ƒç´ ä»æ’å…¥é˜Ÿåˆ—ç§»å…¥åˆ é™¤é˜Ÿåˆ—ï¼Œå¦‚æœåˆ é™¤é˜Ÿåˆ—å’Œæ’å…¥é˜Ÿåˆ—åŒæ—¶ä¸ºç©ºåˆ™è¿”å›-1.

#### å†æˆ˜

1,20220323ï¼Œè°ƒè¯•å¤šæ¬¡åæˆåŠŸï¼š

```java
class CQueue {

    Stack stackIn=null;
    Stack stackOut=null;


    public CQueue() {
        stackIn=new Stack<>();
        stackOut=new Stack<>();
    }
    
        public void appendTail(int value) {
        //å¦‚æœæ˜¯ä¼ å…¥integerç±»å‹ï¼Œè€Œéintçš„è¯ï¼Œè²Œä¼¼ä¼šç»™integerå†åŒ…è£¹ä¸€å±‚ï¼Œå¯¼è‡´å¼‚å¸¸
        stackIn.push(value);
    }

    public int deleteHead() {
        //å¦‚æœå‡ºæ ˆä¸ä¸ºç©ºï¼Œç›´æ¥popä¸€ä¸ªå°±è¡Œã€‚ï¼ï¼ï¼åŒ…è£…ç±»å’ŒåŸºæœ¬æ•°æ®ç±»å‹çš„ç›¸äº’è½¬æ¢
        if(!stackOut.empty()){
            return (int) stackOut.pop();
        }
        //å¦‚æœå‡ºæ ˆä¸ºç©ºï¼Œæ­¤æ—¶è¦åˆ é™¤èŠ‚ç‚¹,å…ˆå°±å¾—æŠŠå…¥æ ˆçš„æ‰€æœ‰èŠ‚ç‚¹ç§»åŠ¨è¿‡æ¥
        else{
            if(stackIn.empty()){
                //å…¥æ ˆä¹Ÿä¸ºç©ºï¼Œè¯´æ˜æ•´ä¸ªé€»è¾‘é˜Ÿåˆ—ä¸ºç©ºï¼Œç›´æ¥è¿”å›-1
                return -1;
            }else{
                //å…¥æ ˆä¸ä¸ºç©ºï¼ŒæŠŠæ‰€æœ‰å…¥æ ˆå…ƒç´ è½¬ç§»åˆ°å‡ºæ ˆï¼›å¹¶å¼¹å‡ºå‡ºæ ˆçš„é¡¶éƒ¨ã€‚
                while(!stackIn.empty()){
                    stackOut.push(stackIn.pop());
                }
                return (int)stackOut.pop();
            }

        }

    }
}

/**
 * Your CQueue object will be instantiated and called as such:
 * CQueue obj = new CQueue();
 * obj.appendTail(value);
 * int param_2 = obj.deleteHead();
 */
```

2,20220323ï¼Œæ”¹è¿›ä»£ç ï¼š

```java
class CQueue {

    Stack <Integer> stackIn=null;
    Stack <Integer> stackOut=null;


    public CQueue() {
        stackIn=new Stack<>();
        stackOut=new Stack<>();
    }
    
        public void appendTail(int value) {
        //ç›´æ¥æŠŠintè½¬åŒ–ä¸ºIntegerå­˜å…¥
        stackIn.push(Integer.valueOf(value));
    }

    public int deleteHead() {
        //å¦‚æœå‡ºæ ˆä¸ä¸ºç©ºï¼Œç›´æ¥popä¸€ä¸ªå°±è¡Œã€‚ï¼ï¼ï¼åŒ…è£…ç±»å’ŒåŸºæœ¬æ•°æ®ç±»å‹çš„ç›¸äº’è½¬æ¢
        if(!stackOut.empty()){
            return stackOut.pop().intValue();
        }
        //å¦‚æœå‡ºæ ˆä¸ºç©ºï¼Œæ­¤æ—¶è¦åˆ é™¤èŠ‚ç‚¹,å…ˆå°±å¾—æŠŠå…¥æ ˆçš„æ‰€æœ‰èŠ‚ç‚¹ç§»åŠ¨è¿‡æ¥
        else{
            if(stackIn.empty()){
                //å…¥æ ˆä¹Ÿä¸ºç©ºï¼Œè¯´æ˜æ•´ä¸ªé€»è¾‘é˜Ÿåˆ—ä¸ºç©ºï¼Œç›´æ¥è¿”å›-1
                return -1;
            }else{
                //å…¥æ ˆä¸ä¸ºç©ºï¼ŒæŠŠæ‰€æœ‰å…¥æ ˆå…ƒç´ è½¬ç§»åˆ°å‡ºæ ˆï¼›å¹¶å¼¹å‡ºå‡ºæ ˆçš„é¡¶éƒ¨ã€‚
                while(!stackIn.empty()){
                    stackOut.push(stackIn.pop());
                }
                //ç”±äºå­˜çš„Integerå¯¹è±¡ï¼Œè¿”å›çš„æ—¶å€™è¦è½¬åŒ–ä¸ºintç±»å‹ã€‚
                return stackOut.pop().intValue();
            }

        }

    }
}

/**
 * Your CQueue object will be instantiated and called as such:
 * CQueue obj = new CQueue();
 * obj.appendTail(value);
 * int param_2 = obj.deleteHead();
 */
```

- æœ¬ä»£ç å› ä¸ºä¸»åŠ¨åŒ…è£…intä¸ºIntegerï¼Œæ€§èƒ½æ›´å·®äº†ï¼Œä½†æ˜¯æ›´ç¬¦åˆæŠŠå¯¹è±¡å­˜å…¥æ ˆçš„æ€æƒ³ã€‚
- `Stack <Integer> stackIn=new Stack<>();`ï¼Œæ³¨æ„æ˜¯åœ¨å‰é¢é™å®šæ³›å‹çš„ç±»å‹ï¼Œåé¢çš„å°–æ‹¬å·å¯ç•™ç©ºç”±ç¼–è¯‘å™¨è‡ªå·±æ¨æµ‹ï¼›ä¸æ­£ç¡®æŒ‡å®šæ³›å‹ç±»å‹çš„è¯ï¼Œä¼šå‡ºç°ä¸€äº›å¥‡æ€ªçš„åŒ…è£…é”™è¯¯ï¼Œæ¯”å¦‚è¯´æœŸå¾…åŒ…è£…æˆintegerå´åŒ…è£…ä¸ºobjectã€‚



### [å‰‘æŒ‡ Offer 30. åŒ…å«minå‡½æ•°çš„æ ˆ](https://leetcode-cn.com/problems/bao-han-minhan-shu-de-zhan-lcof/)

#### é¦–æˆ˜å‘Šæ·

```java
class MinStack {

    /** initialize your data structure here. */
    Stack<Integer> myStack=null;
    Stack<Integer> historicalMin=null;
    int min;
    public MinStack() {
        myStack=new Stack<>();
        historicalMin=new Stack<>();
        //ä¸è¦å¿˜è®°ç”¨å¼•å·ç»“å°¾
        min=Integer.MAX_VALUE;
    }
    
    public void push(int x) {
        myStack.push(x);
        
        if(x<=min){
            min=x;
            historicalMin.push(min);
        }
    }
    
    public void pop() {
        int temp=myStack.pop();

        //ä¸è¦è¯¯ç”¨=åˆ¤æ–­ç›¸ç­‰
        if(temp==min){
            historicalMin.pop();
            //å¦‚æœä¸¤ä¸ªæ ˆéƒ½ä¸ºç©ºäº†ï¼Œæ­¤æ—¶å†ç›´æ¥peekä¼šæŠ›å‡ºå¼‚å¸¸ï¼›è¦åˆ¤æ–­hostoricalMinæ˜¯å¦ä¸ºç©º
            if(!historicalMin.empty()){
                min=historicalMin.peek();
            }else{
                min=Integer.MAX_VALUE;
            }
            
        }

    }
    
    public int top() {
        return myStack.peek();
    }
    
    public int min() {
        return min;

    }
}

/**
 * Your MinStack object will be instantiated and called as such:
 * MinStack obj = new MinStack();
 * obj.push(x);
 * obj.pop();
 * int param_3 = obj.top();
 * int param_4 = obj.min();
 */
```

- æ‰§è¡Œåï¼Œæ®æç¤ºå¤„ç†äº†å‡ ä¸ªè¯­æ³•é”™è¯¯ï¼›æäº¤ä¸€æ¬¡åï¼Œå¤„ç†äº†ä¸€ä¸ªé€»è¾‘æ¼æ´ï¼›ç¬¬äºŒæ¬¡æäº¤å®Œæˆã€‚
- å¾…æ”¹è¿›ï¼š
  - è¯»äº†é¢˜è§£åï¼Œæˆ‘å‘ç°ä¸è¯¥åœ¨hostoricalMinä¸ºç©ºæ—¶ï¼ŒæŠŠintgermaxå½“åšminï¼›è€Œåº”è¯¥åœ¨pushæ—¶ï¼Œå‘ç°historicalMinä¸ºç©ºå°±ç›´æ¥å‹å…¥å½“å‰è¢«pushçš„å…ƒç´ ï¼Œè¿™æ ·å°±ä¸å­˜åœ¨æå‰ä¸€æ­¥è®¾ç½®minçš„é—®é¢˜ã€‚
  - åŸºæœ¬æ•°æ®ç±»å‹minå¯ä»¥ä¸è®¾ç½®ï¼Œç›´æ¥ç”¨stack.peek()å°±è¡Œã€‚

---

#### å®˜æ–¹-è§£é¢˜æ€è·¯
æ™®é€šæ ˆçš„ push() å’Œ pop() å‡½æ•°çš„å¤æ‚åº¦ä¸º O(1)O(1) ï¼›è€Œè·å–æ ˆæœ€å°å€¼ min() å‡½æ•°éœ€è¦éå†æ•´ä¸ªæ ˆï¼Œå¤æ‚åº¦ä¸º O(N)O(N) ã€‚

æœ¬é¢˜éš¾ç‚¹ï¼š å°† min() å‡½æ•°å¤æ‚åº¦é™ä¸º O(1)O(1) ï¼Œå¯é€šè¿‡å»ºç«‹è¾…åŠ©æ ˆå®ç°ï¼›

- æ•°æ®æ ˆ AA ï¼š æ ˆ AA ç”¨äºå­˜å‚¨æ‰€æœ‰å…ƒç´ ï¼Œä¿è¯å…¥æ ˆ push() å‡½æ•°ã€å‡ºæ ˆ pop() å‡½æ•°ã€è·å–æ ˆé¡¶ top() å‡½æ•°çš„æ­£å¸¸é€»è¾‘ã€‚
- è¾…åŠ©æ ˆ BB ï¼š æ ˆ BB ä¸­å­˜å‚¨æ ˆ AA ä¸­æ‰€æœ‰ éä¸¥æ ¼é™åº çš„å…ƒç´ ï¼Œåˆ™æ ˆ AA ä¸­çš„æœ€å°å…ƒç´ å§‹ç»ˆå¯¹åº”æ ˆ BB çš„æ ˆé¡¶å…ƒç´ ï¼Œå³ min() å‡½æ•°åªéœ€è¿”å›æ ˆ BB çš„æ ˆé¡¶å…ƒç´ å³å¯ã€‚

å› æ­¤ï¼Œåªéœ€è®¾æ³•ç»´æŠ¤å¥½ æ ˆ BB çš„å…ƒç´ ï¼Œä½¿å…¶ä¿æŒéä¸¥æ ¼é™åºï¼Œå³å¯å®ç° min() å‡½æ•°çš„ O(1)O(1) å¤æ‚åº¦ã€‚

#### å‡½æ•°è®¾è®¡

- push(x) å‡½æ•°ï¼š é‡ç‚¹ä¸ºä¿æŒæ ˆ BB çš„å…ƒç´ æ˜¯ éä¸¥æ ¼é™åº çš„ã€‚

  - å°† xx å‹å…¥æ ˆ AA ï¼ˆå³ A.add(x) ï¼‰ï¼›

  - è‹¥ â‘  æ ˆ BB ä¸ºç©º æˆ– â‘¡ xx å°äºç­‰äº æ ˆ BB çš„æ ˆé¡¶å…ƒç´ ï¼Œåˆ™å°† xx å‹å…¥æ ˆ BB ï¼ˆå³ B.add(x) ï¼‰ã€‚

- pop() å‡½æ•°ï¼š é‡ç‚¹ä¸ºä¿æŒæ ˆ A, BA,B çš„ å…ƒç´ ä¸€è‡´æ€§ ã€‚

  - æ‰§è¡Œæ ˆ AA å‡ºæ ˆï¼ˆå³ A.pop() ï¼‰ï¼Œå°†å‡ºæ ˆå…ƒç´ è®°ä¸º yy ï¼›

  - è‹¥ yy ç­‰äºæ ˆ BB çš„æ ˆé¡¶å…ƒç´ ï¼Œåˆ™æ‰§è¡Œæ ˆ B å‡ºæ ˆï¼ˆå³ B.pop() ï¼‰ã€‚

- top() å‡½æ•°ï¼š ç›´æ¥è¿”å›æ ˆ AA çš„æ ˆé¡¶å…ƒç´ å³å¯ï¼Œå³è¿”å› A.peek() ã€‚

- min() å‡½æ•°ï¼š ç›´æ¥è¿”å›æ ˆ BB çš„æ ˆé¡¶å…ƒç´ å³å¯ï¼Œå³è¿”å› B.peek() ã€‚

#### å¤æ‚åº¦åˆ†æ

- æ—¶é—´å¤æ‚åº¦ O(1) ï¼š push(), pop(), top(), min() å››ä¸ªå‡½æ•°çš„æ—¶é—´å¤æ‚åº¦å‡ä¸ºå¸¸æ•°çº§åˆ«ã€‚
- ç©ºé—´å¤æ‚åº¦ O(N)ï¼š å½“å…±æœ‰ N ä¸ªå¾…å…¥æ ˆå…ƒç´ æ—¶ï¼Œè¾…åŠ©æ ˆ BB æœ€å·®æƒ…å†µä¸‹å­˜å‚¨ N ä¸ªå…ƒç´ ï¼Œä½¿ç”¨ O(N) é¢å¤–ç©ºé—´ã€‚

#### ä»£ç 
Java ä»£ç ä¸­ï¼Œç”±äº Stack ä¸­å­˜å‚¨çš„æ˜¯ int çš„åŒ…è£…ç±» Integer ï¼Œå› æ­¤éœ€è¦ä½¿ç”¨ equals() ä»£æ›¿ == æ¥æ¯”è¾ƒå€¼æ˜¯å¦ç›¸ç­‰ã€‚

```java
class MinStack {
    Stack<Integer> A, B;
    public MinStack() {
        A = new Stack<>();
        B = new Stack<>();
    }
    public void push(int x) {
        A.add(x);
        if(B.empty() || B.peek() >= x)
            B.add(x);
    }
    public void pop() {
        if(A.pop().equals(B.peek()))
            B.pop();
    }
    public int top() {
        return A.peek();
    }
    public int min() {
        return B.peek();
    }
}

```



## é“¾è¡¨

### [å‰‘æŒ‡ Offer 06. ä»å°¾åˆ°å¤´æ‰“å°é“¾è¡¨](https://leetcode-cn.com/problems/cong-wei-dao-tou-da-yin-lian-biao-lcof/)

#### é¦–æˆ˜å‘Šæ·

```java
/**
 * Definition for singly-linked list.
 * public class ListNode {
 *     int val;
 *     ListNode next;
 *     ListNode(int x) { val = x; }
 * }
 */
class Solution {
    //è®°å½•æœ€å¤§é€’å½’æ·±åº¦ï¼Œä»¥ä¾¿å„å±‚å®ç°é€†åºå­˜å…¥æ•°ç»„
    int deepMax;
    int[] array;//arrayåœ¨é€’å½’æœ€åº•å±‚è¢«å»ºç«‹
    public int[] reversePrint(ListNode head) {
        /*
        æ³¨æ„æ•°ç»„åœ¨javaä¸­æ˜¯å¼•ç”¨ä¼ é€’çš„ï¼šhttps://blog.csdn.net/qq_43555323/article/details/84783750;æ‰€ä»¥æ‰€æœ‰é€’å½’å±‚å…±äº«æ•°ç»„ï¼Œä½†æ˜¯é€’å½’æ·±åº¦å‚æ•°ä¸åŒã€‚
        æ‰€ä»¥å¯ä»¥è€ƒè™‘é€’å½’+å¼•ç”¨ä¼ é€’è§£å†³
        */
        return digui(head,0+1);
    }
    //å½¢å‚deepä¸ºæœ¬å±‚çš„æ·±åº¦ï¼Œä¹Ÿå³ä»¥æœ¬å±‚ä¸ºæœ€åèŠ‚ç‚¹çš„è¯ï¼Œæ•°ç»„çš„é•¿åº¦-1ã€‚
    public int[] digui(ListNode head,int deep){
        //å¦‚æœä¼ å…¥çš„å¤´èŠ‚ç‚¹ä¸ä¸ºç©ºï¼Œè¯´æ˜å¯ä»¥ç»§ç»­å¾€ä¸‹é€’å½’ï¼›å°å¿ƒä¸èƒ½ç”¨head.nextåˆ¤æ–­é“¾è¡¨å°¾éƒ¨,å› ä¸ºä¸çŸ¥é“ç»™çš„headæ˜¯å¦ä¸ºç©ºã€‚
        if(head!=null){
            //å…ˆé€’å½’è°ƒç”¨è·å¾—æ•°ç»„
            array = digui(head.next,deep+1);
            //å†æŠŠå½“å‰å…ƒç´ åŠ å…¥æ•°ç»„å¯¹åº”çš„ä½ç½®ï¼›
            array[deepMax-deep]=head.val;

            //åˆ«å¿˜äº†ifå’Œelseéƒ½å¾—æœ‰returnï¼Œå¦åˆ™èµ°ifçš„é€’å½’æ— æ³•è¿”å›
            return array;

        }
        //å¦‚æœèŠ‚ç‚¹ä¸ºç©ºï¼Œåˆ™æœ¬å±‚æ— èŠ‚ç‚¹ï¼›ä¸”åˆ¶é€ æ•°ç»„ï¼Œæ•°ç»„å¤§å°ä¸ºæœ¬å±‚æ·±åº¦-1
        else{
            deepMax=deep-1;
            return new int[deep-1];
        }

    }
}
```

- æˆ‘å’Œä¸€äº›ç½‘å‹ç†è§£ï¼šé€’å½’æœ¬è´¨å°±æ˜¯æ ˆçš„ä½¿ç”¨ï¼Œéšå¼ä½¿ç”¨äº†JVMæ ˆ
- æˆ‘è¿™æ–¹æ³•æ¯”å®˜æ–¹è¿˜å¥½ï¼Œæ²¡æœ‰å ç”¨é¢å¤–ç©ºé—´ï¼›æ—¶é—´å¤æ‚åº¦ä¸€è‡´ï¼›æœ€é«˜èµéå®˜æ–¹è§£ç”¨çš„ä¹Ÿæ˜¯é€’å½’ã€‚

---

#### å®˜æ–¹-ä½¿ç”¨æ ˆ

æ ˆçš„ç‰¹ç‚¹æ˜¯åè¿›å…ˆå‡ºï¼Œå³æœ€åå‹å…¥æ ˆçš„å…ƒç´ æœ€å…ˆå¼¹å‡ºã€‚è€ƒè™‘åˆ°æ ˆçš„è¿™ä¸€ç‰¹ç‚¹ï¼Œä½¿ç”¨æ ˆå°†é“¾è¡¨å…ƒç´ é¡ºåºå€’ç½®ã€‚ä»é“¾è¡¨çš„å¤´èŠ‚ç‚¹å¼€å§‹ï¼Œä¾æ¬¡å°†æ¯ä¸ªèŠ‚ç‚¹å‹å…¥æ ˆå†…ï¼Œç„¶åä¾æ¬¡å¼¹å‡ºæ ˆå†…çš„å…ƒç´ å¹¶å­˜å‚¨åˆ°æ•°ç»„ä¸­ã€‚

- åˆ›å»ºä¸€ä¸ªæ ˆï¼Œç”¨äºå­˜å‚¨é“¾è¡¨çš„èŠ‚ç‚¹
- åˆ›å»ºä¸€ä¸ªæŒ‡é’ˆï¼Œåˆå§‹æ—¶æŒ‡å‘é“¾è¡¨çš„å¤´èŠ‚ç‚¹
- å½“æŒ‡é’ˆæŒ‡å‘çš„å…ƒç´ éç©ºæ—¶ï¼Œé‡å¤ä¸‹åˆ—æ“ä½œï¼š
  - å°†æŒ‡é’ˆæŒ‡å‘çš„èŠ‚ç‚¹å‹å…¥æ ˆå†…
  - å°†æŒ‡é’ˆç§»åˆ°å½“å‰èŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹
- è·å¾—æ ˆçš„å¤§å° sizeï¼Œåˆ›å»ºä¸€ä¸ªæ•°ç»„ printï¼Œå…¶å¤§å°ä¸º size
- åˆ›å»ºä¸‹æ ‡å¹¶åˆå§‹åŒ– index = 0
- é‡å¤ size æ¬¡ä¸‹åˆ—æ“ä½œï¼š
  - ä»æ ˆå†…å¼¹å‡ºä¸€ä¸ªèŠ‚ç‚¹ï¼Œå°†è¯¥èŠ‚ç‚¹çš„å€¼å­˜åˆ° print[index]
  - å°† index çš„å€¼åŠ  1
- è¿”å› print

#### ä»£ç 

```java

/**
 * Definition for singly-linked list.
 * public class ListNode {
 *     int val;
 *     ListNode next;
 *     ListNode(int x) { val = x; }
 * }
 */
class Solution {
    public int[] reversePrint(ListNode head) {
        Stack<ListNode> stack = new Stack<ListNode>();
        ListNode temp = head;
        while (temp != null) {
            stack.push(temp);
            temp = temp.next;
        }
        int size = stack.size();
        int[] print = new int[size];
        for (int i = 0; i < size; i++) {
            print[i] = stack.pop().val;
        }
        return print;
    }
}

```

- è¿™ç§å€’ç€å¤„ç†çš„ï¼Œå°±å¯ä»¥æƒ³åˆ°æ ˆ æˆ–é€’å½’ï¼

#### å¤æ‚æ€§åˆ†æ

æ—¶é—´å¤æ‚åº¦ï¼šO(n)ã€‚æ­£å‘éå†ä¸€éé“¾è¡¨ï¼Œç„¶åä»æ ˆå¼¹å‡ºå…¨éƒ¨èŠ‚ç‚¹ï¼Œç­‰äºåˆåå‘éå†ä¸€éé“¾è¡¨ã€‚

ç©ºé—´å¤æ‚åº¦ï¼šO(n)ã€‚é¢å¤–ä½¿ç”¨ä¸€ä¸ªæ ˆå­˜å‚¨é“¾è¡¨ä¸­çš„æ¯ä¸ªèŠ‚ç‚¹ã€‚



### [å‰‘æŒ‡ Offer 24. åè½¬é“¾è¡¨](https://leetcode-cn.com/problems/fan-zhuan-lian-biao-lcof/)

#### é¦–æˆ˜å¯„

```java
/**
 * Definition for singly-linked list.
 * public class ListNode {
 *     int val;
 *     ListNode next;
 *     ListNode(int x) { val = x; }
 * }
 */
class Solution {
    /*
    åè½¬ï¼Œä¸€å¼€å§‹æƒ³åˆ°è¦ç”¨æ ˆç»“æ„ï¼Œå¦‚ç”¨é€’å½’è§£å†³ï¼›ä½†æ˜¯é€’å½’è¿”å›çš„å¤´ç»“ç‚¹æ˜¯åŸèŠ‚ç‚¹çš„æœ«å°¾æ²¡é”™ï¼Œå¯æ˜¯æƒ³æŠŠå½“å‰èŠ‚ç‚¹æ”¾åˆ°é€†é“¾è¡¨çš„å°¾éƒ¨çš„è¯
    å´ä¸èƒ½ç›´æ¥é€šè¿‡å¤´èŠ‚ç‚¹ç›´æ¥æ”¾ç½®ï¼Œå› ä¸ºå¤´èŠ‚ç‚¹çš„åç»­æ°¸è¿œéƒ½æ˜¯å€’æ•°ç¬¬äºŒä¸ªèŠ‚ç‚¹ï¼Œè¦å¤šæ¬¡nextæ‰èƒ½æ”¾åˆ°å°¾éƒ¨ï¼Œå¾ˆéº»çƒ¦ã€‚

    æ¢ç§æ€è·¯ï¼Œåœ¨æ¯å±‚é€’å½’æ—¶ï¼Œäº¤æ¢èŠ‚ç‚¹æŒ‡å‘ï¼›å¹¶è®°å½•é€†é“¾è¡¨çš„å¤´ç»“ç‚¹å³å¯ã€‚
     */
    ListNode resultHead,resultTail,temp; 
    public ListNode reverseList(ListNode head) {
        //resultTailä¿å­˜å°¾èŠ‚ç‚¹ï¼Œæœ€åæ‰èƒ½è®©å°¾èŠ‚ç‚¹æŒ‡å‘null
        resultTail=head;
        //ç¿»è½¬é“¾è¡¨
        recur(head);
        //æ‰èƒ½è®©ç¿»è½¬é“¾è¡¨çš„å°¾èŠ‚ç‚¹æŒ‡å‘null
        resultTail.next=null;

        return resultHead;
    }
    //å› ä¸ºé€†é“¾è¡¨æœ«å°¾éœ€è¦ä¸ºnullï¼Œè€Œä¸æ˜¯ä¸¤ä¸ªèŠ‚ç‚¹ç»„æˆå°ç¯ï¼Œå¿…é¡»æŠŠé€’å½’æå‡ºæ¥
    public void recur(ListNode head){
        //å¦‚æœä¼ å…¥èŠ‚ç‚¹ä¸ºç©ºï¼Œè¯´æ˜æ˜¯ç©ºé“¾è¡¨ï¼Œç›´æ¥é€€å‡ºå‡½æ•°ï¼Œè®©reverseListè¿”å›ç©ºçš„resultHeadèŠ‚ç‚¹
        if(head==null){
            //æ³¨æ„voidä¸èƒ½æœ‰è¿”å›å€¼ï¼Œå¯ä»¥ç”¨returnæ˜¯æœ¬å±‚é€’å½’é€€æ ˆ
            return;
        }
        //å¦‚æœå½“å‰ä¼ å…¥èŠ‚ç‚¹ä¸ä¸ºç©ºï¼Œè¯´æ˜è‡³å°‘æœ‰ä¸€ä¸ªèŠ‚ç‚¹
        else{
            //å¦‚æœä¸‹ä¸€èŠ‚ç‚¹ä¸ºç©ºï¼Œè¯´æ˜å½“å‰èŠ‚ç‚¹æ˜¯é€†é“¾è¡¨çš„å¤´ï¼Œç”¨resultHeadå¼•ç”¨å®ƒï¼Œä¿å­˜å¥½é€†é“¾è¡¨çš„å¤´ï¼›å› ä¸ºå¯¹è±¡ç»™æ–¹æ³•æ—¶ç»™çš„æ˜¯åœ°å€ï¼Œæ‰€ä»¥ä¸åŒå±‚çš„é€’å½’ä¿®æ”¹æ˜¯äº’ç›¸å½±å“çš„ã€‚æ­¤æ—¶ä¸éœ€è¦äº¤æ¢æœ¬èŠ‚ç‚¹ä¸ä¸‹ä¸€èŠ‚ç‚¹ï¼ˆæ¯•ç«Ÿä¸‹ä¸€èŠ‚ç‚¹ä¸ºç©ºï¼‰çš„æŒ‡å‘ã€‚
            if(head.next==null){
                resultHead=head;
            }
            //å¦‚æœä¸‹ä¸€èŠ‚ç‚¹ä¸ä¸ºç©ºï¼Œäº¤æ¢å½“å‰èŠ‚ç‚¹å’Œä¸‹ä¸€èŠ‚ç‚¹çš„æŒ‡å‘
            else{
                //äº¤æ¢æŒ‡å‘ï¼›ä¸€å®šè¦ç”¨tempï¼Œå¦åˆ™é“¾è¡¨ä¼šåœ¨head.nextåæ–­å¼€
                temp.next=head
                ???è¦å¤šä¸ªæŒ‡é’ˆ
                temp=head.next.next;
                head.next.next=head;
                //ä¿è¯é€†é“¾è¡¨çš„å°¾ç»“ç‚¹ä¸ºnull
                //head.next=null;
            }

        }
    }
}
```

- æƒ³æƒ³ç”¨é€’å½’å•æŒ‡é’ˆï¼Œä½†æ˜¯é€»è¾‘ä¸Šæ²¡ç†æ¸…ï¼›å°è¯•é€’å½’+åŒæŒ‡é’ˆæ—¶å°±æ”¾å¼ƒäº†

- ç½‘å‹ï¼šé“¾è¡¨é¢˜å¿…é¡»ç”»å›¾

#### å®˜æ–¹-æ–¹æ³•ä¸€ï¼šè¿­ä»£

![image-20220325152101750](lcof.assets/image-20220325152101750.png)

åœ¨éå†é“¾è¡¨æ—¶ï¼Œå°†å½“å‰èŠ‚ç‚¹çš„ \textit{next}next æŒ‡é’ˆæ”¹ä¸ºæŒ‡å‘å‰ä¸€ä¸ªèŠ‚ç‚¹ã€‚ç”±äºèŠ‚ç‚¹æ²¡æœ‰å¼•ç”¨å…¶å‰ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå› æ­¤å¿…é¡»äº‹å…ˆå­˜å‚¨å…¶å‰ä¸€ä¸ªèŠ‚ç‚¹ã€‚åœ¨æ›´æ”¹å¼•ç”¨ä¹‹å‰ï¼Œè¿˜éœ€è¦å­˜å‚¨åä¸€ä¸ªèŠ‚ç‚¹ã€‚æœ€åè¿”å›æ–°çš„å¤´å¼•ç”¨ã€‚

```java
class Solution {
    public ListNode reverseList(ListNode head) {
        ListNode prev = null;
        ListNode curr = head;
        while (curr != null) {
            ListNode next = curr.next;
            curr.next = prev;
            prev = curr;
            curr = next;
        }
        return prev;
    }
}
```

å¤æ‚åº¦åˆ†æ

- æ—¶é—´å¤æ‚åº¦ï¼šO(n)ï¼Œå…¶ä¸­ n æ˜¯é“¾è¡¨çš„é•¿åº¦ã€‚éœ€è¦éå†é“¾è¡¨ä¸€æ¬¡ã€‚
- ç©ºé—´å¤æ‚åº¦ï¼šO(1)ã€‚

#### å®˜æ–¹-æ–¹æ³•äºŒï¼šé€’å½’

é€’å½’ç‰ˆæœ¬ç¨å¾®å¤æ‚ä¸€äº›ï¼Œå…¶å…³é”®åœ¨äºåå‘å·¥ä½œã€‚å‡è®¾é“¾è¡¨çš„å…¶ä½™éƒ¨åˆ†å·²ç»è¢«åè½¬ï¼Œç°åœ¨åº”è¯¥å¦‚ä½•åè½¬å®ƒå‰é¢çš„éƒ¨åˆ†ï¼Ÿ

å‡è®¾é“¾è¡¨ä¸ºï¼š

![image-20220325152508307](lcof.assets/image-20220325152508307.png)

```java
class Solution {
    public ListNode reverseList(ListNode head) {
        if (head == null || head.next == null) {
            return head;
        }
        ListNode newHead = reverseList(head.next);
        head.next.next = head;
        head.next = null;
        return newHead;
    }
}

```

å¤æ‚åº¦åˆ†æ:

- æ—¶é—´å¤æ‚åº¦ï¼šO(n)ï¼Œå…¶ä¸­ n æ˜¯é“¾è¡¨çš„é•¿åº¦ã€‚éœ€è¦å¯¹é“¾è¡¨çš„æ¯ä¸ªèŠ‚ç‚¹è¿›è¡Œåè½¬æ“ä½œã€‚

- ç©ºé—´å¤æ‚åº¦ï¼šO(n)ï¼Œå…¶ä¸­ n æ˜¯é“¾è¡¨çš„é•¿åº¦ã€‚ç©ºé—´å¤æ‚åº¦ä¸»è¦å–å†³äºé€’å½’è°ƒç”¨çš„æ ˆç©ºé—´ï¼Œæœ€å¤šä¸º n å±‚ã€‚

#### å³æ—¶å†æˆ˜-æˆåŠŸ

```java
/**
 * Definition for singly-linked list.
 * public class ListNode {
 *     int val;
 *     ListNode next;
 *     ListNode(int x) { val = x; }
 * }
 */
class Solution {
    ListNode newHead;
    public ListNode reverseList(ListNode head) {
        //è®¾ç½®é€’å½’è¿”å›æ¡ä»¶
        if(head==null||head.next==null){
            return head;
        }else{//åªæœ‰ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ä¸ä¸ºç©ºï¼Œå°±è®©ä¸‹ä¸€ä¸ªèŠ‚ç‚¹æŒ‡å‘æœ¬èŠ‚ç‚¹ï¼Œæœ¬èŠ‚ç‚¹æŒ‡å‘ç©ºï¼ˆä¿è¯å°¾èŠ‚ç‚¹æŒ‡å‘äº†nullï¼‰
            newHead=reverseList(head.next);
            //å¿…é¡»æŠŠåè½¬é“¾è¡¨æ”¾åœ¨é€’å½’åé¢ï¼Œæ‰èƒ½åˆ©ç”¨é€€æ ˆæ—¶çš„é€†åº
            head.next.next=head;
            head.next=null;
            return newHead;

        }

    }
}
```

- è¿˜æ˜¯ç”¨çš„é€’å½’æ³•



### [å‰‘æŒ‡ Offer 35. å¤æ‚é“¾è¡¨çš„å¤åˆ¶](https://leetcode-cn.com/problems/fu-za-lian-biao-de-fu-zhi-lcof/)

#### é¦–æˆ˜å¯„

ä¸çŸ¥é“æ€ä¹ˆå†™

----

#### å®˜æ–¹-è§£é¢˜æ€è·¯

æ™®é€šé“¾è¡¨çš„èŠ‚ç‚¹å®šä¹‰å¦‚ä¸‹ï¼š

```java
// Definition for a Node.
class Node {
    int val;
    Node next;
    public Node(int val) {
        this.val = val;
        this.next = null;
    }
}

```

æœ¬é¢˜é“¾è¡¨çš„èŠ‚ç‚¹å®šä¹‰å¦‚ä¸‹ï¼š

```java
// Definition for a Node.
class Node {
    int val;
    Node next, random;
    public Node(int val) {
        this.val = val;
        this.next = null;
        this.random = null;
    }
}

```

ç»™å®šé“¾è¡¨çš„å¤´èŠ‚ç‚¹ head ï¼Œå¤åˆ¶æ™®é€šé“¾è¡¨å¾ˆç®€å•ï¼Œåªéœ€éå†é“¾è¡¨ï¼Œæ¯è½®å»ºç«‹æ–°èŠ‚ç‚¹ + æ„å»ºå‰é©±èŠ‚ç‚¹ pre å’Œå½“å‰èŠ‚ç‚¹ node çš„å¼•ç”¨æŒ‡å‘å³å¯ã€‚

æœ¬é¢˜é“¾è¡¨çš„èŠ‚ç‚¹æ–°å¢äº† random æŒ‡é’ˆï¼ŒæŒ‡å‘é“¾è¡¨ä¸­çš„ ä»»æ„èŠ‚ç‚¹ æˆ–è€… null ã€‚è¿™ä¸ª random æŒ‡é’ˆæ„å‘³ç€åœ¨å¤åˆ¶è¿‡ç¨‹ä¸­ï¼Œé™¤äº†æ„å»ºå‰é©±èŠ‚ç‚¹å’Œå½“å‰èŠ‚ç‚¹çš„å¼•ç”¨æŒ‡å‘ pre.next ï¼Œè¿˜è¦æ„å»ºå‰é©±èŠ‚ç‚¹å’Œå…¶éšæœºèŠ‚ç‚¹çš„å¼•ç”¨æŒ‡å‘ pre.random ã€‚

æœ¬é¢˜éš¾ç‚¹ï¼š åœ¨å¤åˆ¶é“¾è¡¨çš„è¿‡ç¨‹ä¸­æ„å»ºæ–°é“¾è¡¨å„èŠ‚ç‚¹çš„ random å¼•ç”¨æŒ‡å‘:

```java
class Solution {
    public Node copyRandomList(Node head) {
        Node cur = head;
        Node dum = new Node(0), pre = dum;
        while(cur != null) {
            Node node = new Node(cur.val); // å¤åˆ¶èŠ‚ç‚¹ cur
            pre.next = node;               // æ–°é“¾è¡¨çš„ å‰é©±èŠ‚ç‚¹ -> å½“å‰èŠ‚ç‚¹
            // pre.random = "???";         // æ–°é“¾è¡¨çš„ ã€Œ å‰é©±èŠ‚ç‚¹ -> å½“å‰èŠ‚ç‚¹ ã€ æ— æ³•ç¡®å®š
            cur = cur.next;                // éå†ä¸‹ä¸€èŠ‚ç‚¹
            pre = node;                    // ä¿å­˜å½“å‰æ–°èŠ‚ç‚¹
        }
        return dum.next;
    }
}
```

> æœ¬æ–‡ä»‹ç» ã€Œå“ˆå¸Œè¡¨ã€ ï¼Œã€Œæ‹¼æ¥ + æ‹†åˆ†ã€ ä¸¤ç§æ–¹æ³•ã€‚å“ˆå¸Œè¡¨æ–¹æ³•æ¯”è¾ƒç›´è§‚ï¼›æ‹¼æ¥ + æ‹†åˆ†æ–¹æ³•çš„ç©ºé—´å¤æ‚åº¦æ›´ä½ã€‚

#### å®˜æ–¹-æ–¹æ³•ä¸€ï¼šå“ˆå¸Œè¡¨

åˆ©ç”¨å“ˆå¸Œè¡¨çš„æŸ¥è¯¢ç‰¹ç‚¹ï¼Œè€ƒè™‘æ„å»º åŸé“¾è¡¨èŠ‚ç‚¹ å’Œ æ–°é“¾è¡¨å¯¹åº”èŠ‚ç‚¹ çš„é”®å€¼å¯¹æ˜ å°„å…³ç³»ï¼Œå†éå†æ„å»ºæ–°é“¾è¡¨å„èŠ‚ç‚¹çš„ next å’Œ random å¼•ç”¨æŒ‡å‘å³å¯ã€‚

ç®—æ³•æµç¨‹ï¼š

1. è‹¥å¤´èŠ‚ç‚¹ head ä¸ºç©ºèŠ‚ç‚¹ï¼Œç›´æ¥è¿”å› null ï¼›
2. åˆå§‹åŒ–ï¼š å“ˆå¸Œè¡¨ dic ï¼Œ èŠ‚ç‚¹ cur æŒ‡å‘å¤´èŠ‚ç‚¹ï¼›
3. å¤åˆ¶é“¾è¡¨ï¼š
   1. å»ºç«‹æ–°èŠ‚ç‚¹ï¼Œå¹¶å‘ dic æ·»åŠ é”®å€¼å¯¹ (åŸ cur èŠ‚ç‚¹, æ–° cur èŠ‚ç‚¹ï¼‰ ï¼›
   2. cur éå†è‡³åŸé“¾è¡¨ä¸‹ä¸€èŠ‚ç‚¹ï¼›
4. æ„å»ºæ–°é“¾è¡¨çš„å¼•ç”¨æŒ‡å‘ï¼š
   1. æ„å»ºæ–°èŠ‚ç‚¹çš„ next å’Œ random å¼•ç”¨æŒ‡å‘ï¼›
   2. cur éå†è‡³åŸé“¾è¡¨ä¸‹ä¸€èŠ‚ç‚¹ï¼›
5. è¿”å›å€¼ï¼š æ–°é“¾è¡¨çš„å¤´èŠ‚ç‚¹ dic[cur] ï¼›

å¤æ‚åº¦åˆ†æï¼š

- æ—¶é—´å¤æ‚åº¦ O(N ï¼š ä¸¤è½®éå†é“¾è¡¨ï¼Œä½¿ç”¨ O(N)O(N) æ—¶é—´ã€‚
- ç©ºé—´å¤æ‚åº¦ O(N)ï¼š å“ˆå¸Œè¡¨ dic ä½¿ç”¨çº¿æ€§å¤§å°çš„é¢å¤–ç©ºé—´ã€‚

ä»£ç ï¼š

```java
class Solution {
    public Node copyRandomList(Node head) {
        if(head == null) return null;
        Node cur = head;
        Map<Node, Node> map = new HashMap<>();
        // 3. å¤åˆ¶å„èŠ‚ç‚¹ï¼Œå¹¶å»ºç«‹ â€œåŸèŠ‚ç‚¹ -> æ–°èŠ‚ç‚¹â€ çš„ Map æ˜ å°„
        while(cur != null) {
            map.put(cur, new Node(cur.val));
            cur = cur.next;
        }
        cur = head;
        // 4. æ„å»ºæ–°é“¾è¡¨çš„ next å’Œ random æŒ‡å‘
        while(cur != null) {
            map.get(cur).next = map.get(cur.next);
            map.get(cur).random = map.get(cur.random);
            cur = cur.next;
        }
        // 5. è¿”å›æ–°é“¾è¡¨çš„å¤´èŠ‚ç‚¹
        return map.get(head);
    }
}
```

#### å®˜æ–¹-æ–¹æ³•äºŒï¼šæ‹¼æ¥ + æ‹†åˆ†

è€ƒè™‘æ„å»º åŸèŠ‚ç‚¹ 1 -> æ–°èŠ‚ç‚¹ 1 -> åŸèŠ‚ç‚¹ 2 -> æ–°èŠ‚ç‚¹ 2 -> â€¦â€¦ çš„æ‹¼æ¥é“¾è¡¨ï¼Œå¦‚æ­¤ä¾¿å¯åœ¨è®¿é—®åŸèŠ‚ç‚¹çš„ random æŒ‡å‘èŠ‚ç‚¹çš„åŒæ—¶æ‰¾åˆ°æ–°å¯¹åº”æ–°èŠ‚ç‚¹çš„ random æŒ‡å‘èŠ‚ç‚¹ã€‚

ç®—æ³•æµç¨‹ï¼š

1. å¤åˆ¶å„èŠ‚ç‚¹ï¼Œæ„å»ºæ‹¼æ¥é“¾è¡¨:

   ![image-20220325163531591](lcof.assets/image-20220325163531591.png)

2. æ„å»ºæ–°é“¾è¡¨å„èŠ‚ç‚¹çš„ random æŒ‡å‘ï¼š
   - å½“è®¿é—®åŸèŠ‚ç‚¹ cur çš„éšæœºæŒ‡å‘èŠ‚ç‚¹ cur.random æ—¶ï¼Œå¯¹åº”æ–°èŠ‚ç‚¹ cur.next çš„éšæœºæŒ‡å‘èŠ‚ç‚¹ä¸º cur.random.next ã€‚
3. æ‹†åˆ†åŸ / æ–°é“¾è¡¨ï¼š
   - è®¾ç½® pre / cur åˆ†åˆ«æŒ‡å‘åŸ / æ–°é“¾è¡¨å¤´èŠ‚ç‚¹ï¼Œéå†æ‰§è¡Œ pre.next = pre.next.next å’Œ cur.next = cur.next.next å°†ä¸¤é“¾è¡¨æ‹†åˆ†å¼€ã€‚
4. è¿”å›æ–°é“¾è¡¨çš„å¤´èŠ‚ç‚¹ res å³å¯ã€‚

å¤æ‚åº¦åˆ†æï¼š

- æ—¶é—´å¤æ‚åº¦ O(N)ï¼š ä¸‰è½®éå†é“¾è¡¨ï¼Œä½¿ç”¨ O(N) æ—¶é—´ã€‚
- ç©ºé—´å¤æ‚åº¦ O(1) ï¼š èŠ‚ç‚¹å¼•ç”¨å˜é‡ä½¿ç”¨å¸¸æ•°å¤§å°çš„é¢å¤–ç©ºé—´ã€‚

ä»£ç ï¼š

```java
class Solution {
    public Node copyRandomList(Node head) {
        if(head == null) return null;
        Node cur = head;
        // 1. å¤åˆ¶å„èŠ‚ç‚¹ï¼Œå¹¶æ„å»ºæ‹¼æ¥é“¾è¡¨
        while(cur != null) {
            Node tmp = new Node(cur.val);
            tmp.next = cur.next;
            cur.next = tmp;
            cur = tmp.next;
        }
        // 2. æ„å»ºå„æ–°èŠ‚ç‚¹çš„ random æŒ‡å‘
        cur = head;
        while(cur != null) {
            if(cur.random != null)
                cur.next.random = cur.random.next;
            cur = cur.next.next;
        }
        // 3. æ‹†åˆ†ä¸¤é“¾è¡¨
        cur = head.next;
        Node pre = head, res = head.next;
        while(cur.next != null) {
            pre.next = pre.next.next;
            cur.next = cur.next.next;
            pre = pre.next;
            cur = cur.next;
        }
        pre.next = null; // å•ç‹¬å¤„ç†åŸé“¾è¡¨å°¾èŠ‚ç‚¹
        return res;      // è¿”å›æ–°é“¾è¡¨å¤´èŠ‚ç‚¹
    }
}
```

#### 20220325 åŠå¯„

```java
/*
// Definition for a Node.
class Node {
    int val;
    Node next;
    Node random;

    public Node(int val) {
        this.val = val;
        this.next = null;
        this.random = null;
    }
}
*/
class Solution {
    public Node copyRandomList(Node head) {
        //å¤„ç†ç©ºèŠ‚ç‚¹
        if(head==null)
            return head;

        //æŠŠæ–°é“¾è¡¨çš„æ¯ä¸ªèŠ‚ç‚¹ï¼Œè·Ÿåœ¨è€é“¾è¡¨çš„æ¯ä¸ªèŠ‚ç‚¹åé¢
        Node cur=head;
        while(cur!=null){
            Node temp=new Node(cur.val);
            temp.next=cur.next;
            cur.next=temp;
            cur=cur.next.next;
        }
        
        //æ ¹æ®è€é“¾è¡¨çš„ramdonï¼Œè®¾ç½®æ–°é“¾è¡¨çš„random
        cur=head;
        while(cur!=null){
            //æœ‰äº›èŠ‚ç‚¹æŒ‡å‘randomï¼Œæ‰€ä»¥è¦å°å¿ƒrandom.nextæ—¶å‘ç”Ÿç©ºæŒ‡é’ˆå¼‚å¸¸ã€‚ä¸ç»™æ–°é“¾è¡¨çš„randomèµ‹å€¼çš„è¯ï¼Œrandomå°±æ˜¯é»˜è®¤çš„nullã€‚
            if(cur.random!=null)
                cur.next.random=cur.random.next;
            cur=cur.next.next;
        }

        //æ‹†åˆ†ä¸¤ä¸ªé“¾è¡¨
        cur=head;
        Node result=cur.next;
        while(cur!=null){
            //å¿…é¡»è¦ä¸´æ—¶è¾…åŠ©èŠ‚ç‚¹è®°å½•æˆªæ–­å¤„
            Node temp=cur.next;
            cur.next=cur.next.next; 
            //ï¼ï¼ï¼é“¾è¡¨ä¸­å°å¿ƒæ·±åº¦nextï¼›æœ¬å¤„å¯èƒ½tempä¸ºæ–°é“¾è¡¨çš„æœ€åä¸€ä¸ªèŠ‚ç‚¹äº†ï¼Œä¸¤é‡nextä¼šæŠ¥é”™ï¼›æ¨èåƒæ ‡ç­”é‚£æ ·ï¼Œä»¥åè€…ä¸ºnextç»ˆæ­¢æ¡ä»¶
            if(temp.next!=null)
                temp.next=temp.next.next;
            cur=cur.next;
        }

        return result;
        
    }
}
```

- æ€è·¯æœ‰ï¼Œä½†æ˜¯åœ¨å¤„ç†æœ€åæ‹†åˆ†çš„æ—¶å€™ï¼Œæ²¡æ³¨æ„å¥½nextçš„æ·±åº¦ã€‚
  - å®˜æ–¹æ–¹æ³•äºŒæ‹†åˆ†æ—¶ï¼Œcur.next != nullå¯ä»¥ä¿è¯è¿˜æœ‰ä¸¤ä¸ªèŠ‚ç‚¹æ²¡æ‹†åˆ†ï¼Œä½†æ˜¯ä¼šå¯¼è‡´æ–°æ—§ä¸¤ä¸ªé“¾è¡¨æœ€åä¸€ä¸ªèŠ‚ç‚¹é»åœ¨ä¸€èµ·çš„æƒ…å†µï¼Œæ‰€ä»¥æœ€åè¦å•ç‹¬è®©åŸé“¾è¡¨çš„å°¾éƒ¨ä¸ºnullã€‚
  - æˆ‘çš„æ‹†åˆ†æ—¶ï¼Œä¸éœ€è¦æœ€åå¤„ç†æœ€åèŠ‚ç‚¹ç²˜åœ¨ä¸€èµ·çš„æƒ…å†µï¼Œä½†æ˜¯æ¯æ¬¡è¿­ä»£éƒ½è¦ifåˆ¤æ–­æ¯”è¾ƒè€—æ—¶ï¼›
  - æ€»ä¹‹ç¼åˆé“¾è¡¨æ‹†åˆ†æ—¶ï¼Œä»¥ç²˜åˆå¤„çš„åè€…ä¸ºåˆ¤æ–­ç¦»å¼€çš„æ ‡å¿—ä¸ºå¥½ï¼Œä¸å®¹æ˜“ç©ºæŒ‡é’ˆå¼‚å¸¸ã€‚



## å­—ç¬¦ä¸²

### [å‰‘æŒ‡ Offer 05. æ›¿æ¢ç©ºæ ¼](https://leetcode-cn.com/problems/ti-huan-kong-ge-lcof/)

#### é¦–æˆ˜å‘Šæ·

```java
class Solution {
    public String replaceSpace(String s) {
        
        String result="";

        //å¯¹å­—ç¬¦ä¸²çš„æ¯ä¸ªå­—ç¬¦è¿›è¡Œå¤„ç†ã€‚å­—ç¬¦ä¸²é•¿åº¦ç”¨length()ï¼Œæ•°ç»„é•¿åº¦ç”¨lengthã€‚ï¼Ÿï¼Ÿï¼Ÿsizeçš„å¤§å°åŒ…å«ç©ºæ ¼å—
        for(int i=0;i<s.length();i++){
            //è·å–å­—ç¬¦ä¸²å½¢å¼è¡¨ç¤ºçš„å½“å‰å­—ç¬¦
            String temp=String.valueOf(s.charAt(i));
            //å¯¹ç©ºæ ¼è¿›è¡Œæ›¿æ¢ã€‚æ³¨æ„å­—ç¬¦ä¸²ä¸èƒ½ç”¨==åˆ¤æ–­åœ°å€ç›¸ç­‰æ¨å‡ºå†…å®¹ç›¸ç­‰ï¼Œå› ä¸ºä¸åŒåœ°å€å­˜çš„å­—ç¬¦ä¸²çš„å†…å®¹å¯èƒ½ç›¸ç­‰ï¼›è€Œå¾—ç”¨equalsæ‰èƒ½åˆ¤æ–­å†…å®¹æ˜¯å¦ç›¸ç­‰ï¼ŒStringé‡å†™äº†equalsã€‚
            if(temp.equals(" ")){
                result+="%20";
            }else{
                result+=temp;
            }
        }

        return result;
    }
}
```

- æ³¨æ„ï¼šå­—ç¬¦ä¸²åˆ¤æ–­å†…å®¹ç›¸ç­‰è¦ç”¨equals

- charAtå¯ä»¥å¾—åˆ°å­—ç¬¦ä¸²æŸä½ç½®çš„å­—ç¬¦ï¼›String.valueOf()å¯ä»¥æŠŠå­—ç¬¦è½¬åŒ–ä¸ºå­—ç¬¦ä¸²å­˜å…¥å †ä¸­çš„å­—ç¬¦ä¸²å¸¸é‡æ± ã€‚

----

#### å®˜æ–¹-éå†æ·»åŠ 

åœ¨ Python å’Œ Java ç­‰è¯­è¨€ä¸­ï¼Œå­—ç¬¦ä¸²éƒ½è¢«è®¾è®¡æˆã€Œä¸å¯å˜ã€çš„ç±»å‹ï¼Œå³æ— æ³•ç›´æ¥ä¿®æ”¹å­—ç¬¦ä¸²çš„æŸä¸€ä½å­—ç¬¦ï¼Œéœ€è¦æ–°å»ºä¸€ä¸ªå­—ç¬¦ä¸²å®ç°ã€‚

ç®—æ³•æµç¨‹ï¼š

1. åˆå§‹åŒ–ä¸€ä¸ª list (Python) / StringBuilder (Java) ï¼Œè®°ä¸º res ï¼›
2. éå†åˆ—è¡¨ s ä¸­çš„æ¯ä¸ªå­—ç¬¦ c ï¼š
   - å½“ c ä¸ºç©ºæ ¼æ—¶ï¼šå‘ res åæ·»åŠ å­—ç¬¦ä¸² "%20" ï¼›
   - å½“ c ä¸ä¸ºç©ºæ ¼æ—¶ï¼šå‘ res åæ·»åŠ å­—ç¬¦ c ï¼›
3. å°†åˆ—è¡¨ res è½¬åŒ–ä¸ºå­—ç¬¦ä¸²å¹¶è¿”å›ã€‚

å¤æ‚åº¦åˆ†æï¼š

- æ—¶é—´å¤æ‚åº¦ O(N) ï¼š éå†ä½¿ç”¨ O(N) ï¼Œæ¯è½®æ·»åŠ ï¼ˆä¿®æ”¹ï¼‰å­—ç¬¦æ“ä½œä½¿ç”¨ O(1)ï¼›
- ç©ºé—´å¤æ‚åº¦ O(N) ï¼š Python æ–°å»ºçš„ list å’Œ Java æ–°å»ºçš„ StringBuilder éƒ½ä½¿ç”¨äº†çº¿æ€§å¤§å°çš„é¢å¤–ç©ºé—´ã€‚

```java

class Solution {
    public String replaceSpace(String s) {
        StringBuilder res = new StringBuilder();
        for(Character c : s.toCharArray())
        {
            if(c == ' ') res.append("%20");
            else res.append(c);
        }
        return res.toString();
    }
}

```



#### å®˜æ–¹-å­—ç¬¦æ•°ç»„

ç”±äºæ¯æ¬¡æ›¿æ¢ä» 1 ä¸ªå­—ç¬¦å˜æˆ 3 ä¸ªå­—ç¬¦ï¼Œä½¿ç”¨å­—ç¬¦æ•°ç»„å¯æ–¹ä¾¿åœ°è¿›è¡Œæ›¿æ¢ã€‚å»ºç«‹å­—ç¬¦æ•°ç»„åœ°é•¿åº¦ä¸º s çš„é•¿åº¦çš„ 3 å€ï¼Œè¿™æ ·å¯ä¿è¯å­—ç¬¦æ•°ç»„å¯ä»¥å®¹çº³æ‰€æœ‰æ›¿æ¢åçš„å­—ç¬¦ã€‚ç®—æ³•ï¼š

- è·å¾— s çš„é•¿åº¦ length
- åˆ›å»ºå­—ç¬¦æ•°ç»„ arrayï¼Œå…¶é•¿åº¦ä¸º length * 3
- åˆå§‹åŒ– size ä¸º 0ï¼Œsize è¡¨ç¤ºæ›¿æ¢åçš„å­—ç¬¦ä¸²çš„é•¿åº¦
- ä»å·¦åˆ°å³éå†å­—ç¬¦ä¸² s
  - è·å¾— s çš„å½“å‰å­—ç¬¦ c
  - å¦‚æœå­—ç¬¦ c æ˜¯ç©ºæ ¼ï¼Œåˆ™ä»¤ array[size] = '%'ï¼Œarray[size + 1] = '2'ï¼Œarray[size + 2] = '0'ï¼Œå¹¶å°† size çš„å€¼åŠ  3
  - å¦‚æœå­—ç¬¦ c ä¸æ˜¯ç©ºæ ¼ï¼Œåˆ™ä»¤ array[size] = cï¼Œå¹¶å°† size çš„å€¼åŠ  1
- éå†ç»“æŸä¹‹åï¼Œsize çš„å€¼ç­‰äºæ›¿æ¢åçš„å­—ç¬¦ä¸²çš„é•¿åº¦ï¼Œä» array çš„å‰ size ä¸ªå­—ç¬¦åˆ›å»ºæ–°å­—ç¬¦ä¸²ï¼Œå¹¶è¿”å›æ–°å­—ç¬¦ä¸²

ä»£ç ï¼š

```java
class Solution {
    public String replaceSpace(String s) {
        int length = s.length();
        char[] array = new char[length * 3];
        int size = 0;
        for (int i = 0; i < length; i++) {
            char c = s.charAt(i);
            if (c == ' ') {
                array[size++] = '%';
                array[size++] = '2';
                array[size++] = '0';
            } else {
                array[size++] = c;
            }
        }
        String newStr = new String(array, 0, size);
        return newStr;
    }
}

```

- ç½‘å‹ï¼šè¿™æ ·ä¸è¡Œå—ğŸ˜‚`return s.replace(" ","%20");`?
  - ç½‘å‹ç­”ï¼šä¸è¡Œï¼Œè¿™ä¸ªåªèƒ½æ›¿æ¢ç¬¬ä¸€ä¸ªï¼Œåº”è¯¥ç”¨replaceAll
    - ç½‘å‹åé©³ï¼šä¸æ˜¯å“‡ï¼Œè¿™ä¸ªreplaceæ–¹æ³•ç¡®å®æ˜¯æ›¿æ¢äº†å‘€ï¼Œä½ å†å»ç¿»ç¿»çœ‹æ–‡æ¡£
    - ç½‘å‹ï¼šreplaceå’ŒreplaceAllçš„åŒºåˆ«æ˜¯åè€…æ”¯æŒæ­£åˆ™ä½†æ˜¯å‰è€…ä¸æ”¯æŒï¼Œä½†æ˜¯å®ƒä»¬éƒ½æ˜¯å…¨éƒ¨æ›¿æ¢çš„

å¤æ‚æ€§åˆ†æ:

- æ—¶é—´å¤æ‚åº¦ï¼šO(n)ã€‚éå†å­—ç¬¦ä¸² `s` ä¸€éã€‚
- ç©ºé—´å¤æ‚åº¦ï¼šO(n)ã€‚é¢å¤–åˆ›å»ºå­—ç¬¦æ•°ç»„ï¼Œé•¿åº¦ä¸º `s` çš„é•¿åº¦çš„ 3 å€ã€‚



### [å‰‘æŒ‡ Offer 58 - II. å·¦æ—‹è½¬å­—ç¬¦ä¸²](https://leetcode-cn.com/problems/zuo-xuan-zhuan-zi-fu-chuan-lcof/)

#### é¦–æˆ˜å‘Šæ·

```java
class Solution {
    public String reverseLeftWords(String s, int n) {
        //ä¿å­˜å‰è‹¥å¹²ä½å­—ç¬¦
        String head="";
        //ä¿å­˜åè‹¥å¹²ä½å­—ç¬¦
        String tail="";

        //æŠŠå‰nä½å­—ç¬¦å­˜å…¥head
        for(int i=0;i<n;i++){
            head+=String.valueOf(s.charAt(i));
        }

        //æŠŠåŸå­—ç¬¦ä¸²åé¢çš„éƒ¨åˆ†å–å‡ºæ¥
        for(int i=n;i<s.length();i++){
            tail+=String.valueOf(s.charAt(i));
        }

        return tail+head;

    }
}
```

- â€œæŠŠå­—ç¬¦ä¸²æ‹†æˆå•ä¸ªå­—ç¬¦ï¼Œå†æŠŠå•ä¸ªå­—ç¬¦è½¬åŒ–æˆå•å­—ç¬¦å­—ç¬¦ä¸²ï¼Œå†æ“ä½œå­—ç¬¦ä¸²â€ï¼›è¿™ç§æ–¹æ³•å¾ˆå®¹æ˜“ï¼Œä½†æ˜¯æ—¶é—´å’Œç©ºé—´å¤æ‚åº¦æ¯”è¾ƒå¤§ã€‚



#### å®˜æ–¹-æ–¹æ³•ä¸€ï¼šå­—ç¬¦ä¸²åˆ‡ç‰‡

è§£é¢˜æ€è·¯ï¼š

- æœ¬é¢˜åšæ³•è¾ƒå¤šï¼Œæœ¬æ–‡ä¸»è¦ä»‹ç» â€œå­—ç¬¦ä¸²åˆ‡ç‰‡â€ ï¼Œ â€œåˆ—è¡¨éå†æ‹¼æ¥â€ ï¼Œ â€œå­—ç¬¦ä¸²éå†æ‹¼æ¥â€ ä¸‰ç§æ–¹æ³•ã€‚
  ç”±äºæœ¬é¢˜çš„å¤šè§£æ³•æ¶‰åŠåˆ°äº† å­—ç¬¦ä¸²ä¸ºä¸å¯å˜å¯¹è±¡ çš„ç›¸å…³æ¦‚å¿µï¼Œå¯¼è‡´æ•ˆç‡åŒºåˆ«è¾ƒå¤§ã€‚å› æ­¤ï¼Œå•åˆ—ä¸€èŠ‚ ä¸‰ç§æ–¹æ³•çš„æ•ˆç‡åˆ†æ ï¼Œæœ›å¯¹å„ä½æœ‰æ‰€å¸®åŠ©ã€‚

æ–¹æ³•ä¸€ï¼šå­—ç¬¦ä¸²åˆ‡ç‰‡

- åº”ç”¨å­—ç¬¦ä¸²åˆ‡ç‰‡å‡½æ•°ï¼Œå¯æ–¹ä¾¿å®ç°å·¦æ—‹è½¬å­—ç¬¦ä¸²ã€‚

- è·å–å­—ç¬¦ä¸² s[n:]s[n:] åˆ‡ç‰‡å’Œ s[:n]s[:n] åˆ‡ç‰‡ï¼Œä½¿ç”¨ "++" è¿ç®—ç¬¦æ‹¼æ¥å¹¶è¿”å›å³å¯ã€‚

å¤æ‚åº¦åˆ†æï¼š

- æ—¶é—´å¤æ‚åº¦ O(N) ï¼š å…¶ä¸­ N ä¸ºå­—ç¬¦ä¸² sçš„é•¿åº¦ï¼Œå­—ç¬¦ä¸²åˆ‡ç‰‡å‡½æ•°ä¸ºçº¿æ€§æ—¶é—´å¤æ‚åº¦ï¼ˆå‚è€ƒèµ„æ–™ï¼‰ï¼›
- ç©ºé—´å¤æ‚åº¦ O(N)ï¼š ä¸¤ä¸ªå­—ç¬¦ä¸²åˆ‡ç‰‡çš„æ€»é•¿åº¦ä¸º Nã€‚

ä»£ç ï¼š

```java
class Solution {
    public String reverseLeftWords(String s, int n) {
        return s.substring(n, s.length()) + s.substring(0, n);
    }
}

```

- substringå·¦åŒ…å³ä¸åŒ…



#### å®˜æ–¹-æ–¹æ³•äºŒï¼šåˆ—è¡¨éå†æ‹¼æ¥
è‹¥é¢è¯•è§„å®šä¸å…è®¸ä½¿ç”¨ åˆ‡ç‰‡å‡½æ•° ï¼Œåˆ™ä½¿ç”¨æ­¤æ–¹æ³•ã€‚

ç®—æ³•æµç¨‹ï¼š

1. æ–°å»ºä¸€ä¸ª list(Python)ã€StringBuilder(Java) ï¼Œè®°ä¸º resres ï¼›

2. å…ˆå‘ resres æ·»åŠ  â€œç¬¬ n + 1n+1 ä½è‡³æœ«ä½çš„å­—ç¬¦â€ ï¼›
3. å†å‘ resres æ·»åŠ  â€œé¦–ä½è‡³ç¬¬ nn ä½çš„å­—ç¬¦â€ ï¼›
4. å°† resres è½¬åŒ–ä¸ºå­—ç¬¦ä¸²å¹¶è¿”å›ã€‚

å¤æ‚åº¦åˆ†æï¼š

- æ—¶é—´å¤æ‚åº¦ O(N)ï¼š çº¿æ€§éå† så¹¶æ·»åŠ ï¼Œä½¿ç”¨çº¿æ€§æ—¶é—´ï¼›
- ç©ºé—´å¤æ‚åº¦ O(N)ï¼š æ–°å»ºçš„è¾…åŠ© resä½¿ç”¨ O(N)å¤§å°çš„é¢å¤–ç©ºé—´ã€‚

ä»£ç ï¼š

```java
class Solution {
    public String reverseLeftWords(String s, int n) {
        StringBuilder res = new StringBuilder();
        for(int i = n; i < s.length(); i++)
            res.append(s.charAt(i));
        for(int i = 0; i < n; i++)
            res.append(s.charAt(i));
        return res.toString();
    }
}
```

- æ³¨æ„ï¼šStirngBuilderå®ä¾‹åŒ–çš„å¯¹è±¡æœ€åè¦ç”¨toStringæ–¹æ³•æŠŠè‡ªå·±è½¬æ¢æˆå­—ç¬¦ä¸²ã€‚
- StirngBuilderå¯ä»¥ç›´æ¥appendå­—ç¬¦



#### å®˜æ–¹-æ–¹æ³•ä¸‰ï¼šå­—ç¬¦ä¸²éå†æ‹¼æ¥
è‹¥è§„å®š Python ä¸èƒ½ä½¿ç”¨ join() å‡½æ•°ï¼Œæˆ–è§„å®š Java åªèƒ½ç”¨ String ï¼Œåˆ™ä½¿ç”¨æ­¤æ–¹æ³•ã€‚

æ­¤æ–¹æ³•ä¸ æ–¹æ³•äºŒ æ€è·¯ä¸€è‡´ï¼ŒåŒºåˆ«æ˜¯ä½¿ç”¨å­—ç¬¦ä¸²ä»£æ›¿åˆ—è¡¨ã€‚

å¤æ‚åº¦åˆ†æï¼š

- æ—¶é—´å¤æ‚åº¦ O(N)ï¼š çº¿æ€§éå† så¹¶æ·»åŠ ï¼Œä½¿ç”¨çº¿æ€§æ—¶é—´ï¼›
- ç©ºé—´å¤æ‚åº¦ O(N) ï¼š å‡è®¾å¾ªç¯è¿‡ç¨‹ä¸­å†…å­˜ä¼šè¢«åŠæ—¶å›æ”¶ï¼Œå†…å­˜ä¸­è‡³å°‘åŒæ—¶å­˜åœ¨é•¿åº¦ä¸º Nå’Œ N-1çš„ä¸¤ä¸ªå­—ç¬¦ä¸²ï¼ˆæ–°å»ºé•¿åº¦ä¸º Nçš„ reséœ€è¦ä½¿ç”¨å‰ä¸€ä¸ªé•¿åº¦ N-1çš„ resï¼‰ï¼Œå› æ­¤è‡³å°‘ä½¿ç”¨ O(N)çš„é¢å¤–ç©ºé—´ã€‚

ä»£ç ï¼š

```java
class Solution {
    public String reverseLeftWords(String s, int n) {
        String res = "";
        for(int i = n; i < s.length(); i++)
            res += s.charAt(i);
        for(int i = 0; i < n; i++)
            res += s.charAt(i);
        return res;
    }
}
```

- è¿™ä¸ªå°±æ˜¯æˆ‘é¦–æˆ˜çš„åšæ³•ï¼›ä¸è¿‡æˆ‘è¿˜æŠŠcharAtè½¬æ¢æˆStirngåï¼Œå†ç”¨+=ã€‚



#### ä¸‰ç§å®˜æ–¹ç®—æ³•çš„åŒºåˆ«

è¯¦ç»†åˆ†æè¯·å‚è€ƒ Efficient String Concatenation in Python ã€‚

ä»¥ä¸Šä¸‰ç§æ–¹æ³•çš„ç©ºé—´ä½¿ç”¨å¦‚ä¸‹å›¾æ‰€ç¤ºã€‚
ä»¥ Python ä¸ºä¾‹å¼€å±•ä¸‰ç§æ–¹æ³•çš„æ•ˆç‡æµ‹è¯•ï¼Œç»“è®ºåŒæ ·é€‚ç”¨äº Java ç­‰å…¶ä»–è¯­è¨€ã€‚

![Picture4.png](lcof.assets/ef68413b3366b97af3ed76037c6a9d1e40ac09c74fd6e5cb6d5173cbd7116beb-Picture4.png)



## æŸ¥æ‰¾ç®—æ³•ï¼ˆç®€å•ï¼‰

### [å‰‘æŒ‡ Offer 03. æ•°ç»„ä¸­é‡å¤çš„æ•°å­—](https://leetcode-cn.com/problems/shu-zu-zhong-zhong-fu-de-shu-zi-lcof/)

#### é¦–æˆ˜å‘Šæ·

```java
class Solution {
    public int findRepeatNumber(int[] nums) {
        /*
        "é•¿åº¦ä¸º n çš„æ•°ç»„ nums é‡Œçš„æ‰€æœ‰æ•°å­—éƒ½åœ¨ 0ï½n-1 çš„èŒƒå›´å†…",å°±æ˜¯æ˜ç¤ºè¦ç”¨æ•°ç»„å†…å®¹ä¸æ•°ç»„ä¸‹æ ‡å…³è”ã€‚
         */

        //docæ•°ç»„çš„æ¯ä¸€ä½ï¼Œè®°è½½äº†numsæ•°ç»„ä¸­å„å…ƒç´ å‡ºç°çš„é¢‘ç‡ï¼›docçš„ä¸‹æ ‡å’Œnumsçš„å€¼å¯¹åº”ã€‚æ•°ç»„ä¸­åˆå§‹ä¸ºå…¨0ã€‚
        int[] doc=new int[nums.length];

        //éå†numsï¼Œnumsä¸­å‡ºç°çš„å€¼å¯¹åº”docæ•°ç»„çš„ä¸‹æ ‡ï¼Œç»™å¯¹åº”ä¸‹æ ‡å­˜çš„å€¼+1æ¥è®°å½•é¢‘æ¬¡ã€‚
        for(int i=0;i<nums.length;i++){
           doc[nums[i]]++; 
        }

        //æŠŠé‡å¤æ•°å­—é‡Œï¼Œæœ€å°çš„é‚£ä¸ªè¿”å›
        for(int i=0;i<doc.length;i++){
            if(doc[i]>1){
                return i;
            }
        }

        //å¦‚æœä¸Šé¢forå¾ªç¯æ²¡æœ‰è¿”å›ï¼Œåˆ™è¯´æ˜æ•°ç»„ä¸­æ²¡æœ‰é‡å¤æ•°å­—ï¼›è¿”å›-1è¡¨ç¤ºæŠ¥é”™ã€‚
        return -1;

    }
}
```

- æˆ‘è¿™ç§æ–¹æ³•ï¼Œå¦‚æœnumsçš„å†…å®¹å¾ˆå¤§ï¼Œå¯èƒ½ä¼šè¶…è¿‡intçš„èŒƒå›´ï¼Œè¿™æ ·æ¥è¯´è¿˜æ˜¯å®˜æ–¹çš„æ›´å®‰å…¨
  - intçš„å–å€¼èŒƒå›´ä¸ºï¼š -2^31â€”â€”2^31-1ï¼Œå³-2147483648â€”â€”2147483647ã€‚
  - ä¸è¿‡æœ¬é¢˜ä¸­çš„â€é™åˆ¶â€œè¯´2 <= n <= 100000ï¼Œé‚£ä¹ˆä¸ä¼šå‡»ç©¿ã€‚åšé¢˜ä¸€å®šè¦çœ‹ç¤ºä¾‹ä¸‹çš„**â€œæç¤ºâ€**æˆ–**â€é™åˆ¶â€œ**

#### å®˜æ–¹-æ–¹æ³•ä¸€ï¼šéå†æ•°ç»„
ç”±äºåªéœ€è¦æ‰¾å‡ºæ•°ç»„ä¸­ä»»æ„ä¸€ä¸ªé‡å¤çš„æ•°å­—ï¼Œå› æ­¤éå†æ•°ç»„ï¼Œé‡åˆ°é‡å¤çš„æ•°å­—å³è¿”å›ã€‚ä¸ºäº†åˆ¤æ–­ä¸€ä¸ªæ•°å­—æ˜¯å¦é‡å¤é‡åˆ°ï¼Œä½¿ç”¨é›†åˆå­˜å‚¨å·²ç»é‡åˆ°çš„æ•°å­—ï¼Œå¦‚æœé‡åˆ°çš„ä¸€ä¸ªæ•°å­—å·²ç»åœ¨é›†åˆä¸­ï¼Œåˆ™å½“å‰çš„æ•°å­—æ˜¯é‡å¤æ•°å­—ã€‚ç®—æ³•ï¼š

- åˆå§‹åŒ–é›†åˆä¸ºç©ºé›†åˆï¼Œé‡å¤çš„æ•°å­— repeat = -1
- éå†æ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ ï¼š
  - å°†è¯¥å…ƒç´ åŠ å…¥é›†åˆä¸­ï¼Œåˆ¤æ–­æ˜¯å¦æ·»åŠ æˆåŠŸ
    - å¦‚æœæ·»åŠ å¤±è´¥ï¼Œè¯´æ˜è¯¥å…ƒç´ å·²ç»åœ¨é›†åˆä¸­ï¼Œå› æ­¤è¯¥å…ƒç´ æ˜¯é‡å¤å…ƒç´ ï¼Œå°†è¯¥å…ƒç´ çš„å€¼èµ‹ç»™ repeatï¼Œå¹¶ç»“æŸéå†
- è¿”å› repeat

ä»£ç ï¼š

```java
class Solution {
    public int findRepeatNumber(int[] nums) {
        Set<Integer> set = new HashSet<Integer>();
        int repeat = -1;
        for (int num : nums) {
            if (!set.add(num)) {
                repeat = num;
                break;
            }
        }
        return repeat;
    }
}
```

- **åˆ©ç”¨äº†hashSetåˆ¤æ–­é‡å¤ï¼›åŒç†å¯ä»¥åˆ©ç”¨hashmapåˆ¤æ–­ä¸ªæ•°**ã€‚

å¤æ‚æ€§åˆ†æï¼š

- æ—¶é—´å¤æ‚åº¦ï¼šO(n)ã€‚
  - éå†æ•°ç»„ä¸€éã€‚ä½¿ç”¨å“ˆå¸Œé›†åˆï¼ˆHashSetï¼‰ï¼Œæ·»åŠ å…ƒç´ çš„æ—¶é—´å¤æ‚åº¦ä¸º O(1)ï¼Œæ•…æ€»çš„æ—¶é—´å¤æ‚åº¦æ˜¯ O(n)ã€‚
- ç©ºé—´å¤æ‚åº¦ï¼šO(n)ã€‚ä¸é‡å¤çš„æ¯ä¸ªå…ƒç´ éƒ½å¯èƒ½å­˜å…¥é›†åˆï¼Œå› æ­¤å ç”¨ O(n)é¢å¤–ç©ºé—´ã€‚



### [å‰‘æŒ‡ Offer 53 - I. åœ¨æ’åºæ•°ç»„ä¸­æŸ¥æ‰¾æ•°å­— I](https://leetcode-cn.com/problems/zai-pai-xu-shu-zu-zhong-cha-zhao-shu-zi-lcof/)

#### é¦–æˆ˜å‘Šæ·-hashæ³•

```java
class Solution {
    public int search(int[] nums, int target) {
        /*
        å› ä¸º10çš„9æ¬¡æ–¹ï¼Œå°äº2*10çš„9æ¬¡æ¬¡æ–¹ï¼Œæ‰€ä»¥numså­˜å€¼çš„èŒƒå›´åœ¨æ•´æ•°èŒƒå›´å†…ï¼Œä½†æ˜¯ç”¨æ•°ç»„ä¼šæœ‰è¿ç»­ç©ºé—´ï¼Œæµªè´¹ï¼›ç”¨hashMapå§
        */

        //æ³¨æ„å·¦è¾¹æŒ‡å®šæ³›å‹çš„å…·ä½“ç±»å‹
        Map<Integer,Integer> map=new HashMap<>();

        //ä¾¿åˆ©ç»™å®šçš„æ•°ç»„
        for(int i=0;i<nums.length;i++){
            //å¦‚æœå·²ä»…å­˜åœ¨hashæ˜ å°„ï¼Œç»™æ¬¡æ•°åŠ ä¸€
            if(map.containsKey(nums[i])){
                map.put(nums[i],map.get(nums[i])+1);

            }else{//å¦åˆ™å»ºç«‹é’ˆå¯¹æŸæ•°å­—å’Œå…¶æ•°å­—çš„hashæ˜ å°„
                map.put(nums[i],1);
            }
        }

        //å¤„ç†æ¬¡æ•°ä¸º0çš„è¯·æ¬¾
        return map.containsKey(target)?map.get(target):0;

    }
}
```

- æœ¬é¢˜æ¡ä»¶æ˜¯â€œæ’åºæ•°ç»„â€ï¼Œè¿™ä¸ªæ–¹æ³•æ²¡ç”¨ä¸Šè¿™ä¸ªæ¡ä»¶ï¼›æ’åºæ•°ç»„åº”è¯¥ç”¨åŒæŒ‡é’ˆè§£å†³ã€‚

#### é¦–æˆ˜å‘Šæ·-åŒæŒ‡é’ˆ

```java
class Solution {
    public int search(int[] nums, int target) {
        //çœ‹åˆ°æ’åºæ•°ç»„ï¼Œæ‰€ä»¥ç›®æ ‡æ•°å­—æ˜¯è¿ç»­çš„ï¼›ç”¨åŒæŒ‡é’ˆ

        //å¤„ç†ç‰¹æ®Šæƒ…å†µï¼šç©ºæ•°ç»„æƒ…å†µï¼Œå¦åˆ™nums[right]ä¼šè¶…è¿‡æ•°ç»„è¾¹ç•Œ
        if(nums.length==0){
            return 0;
        }

        //åˆå§‹åŒ–åŒæŒ‡é’ˆä¸ºæ•°ç»„ä¸¤ç«¯
        int left=0;
        int right=nums.length-1;

        //åªè¦ä¸¤ä¸ªæŒ‡é’ˆæ²¡ç¢°åˆ°ç›®æ ‡æ•°å°±ä¸€ç›´å¾ªç¯
        while(true){
            if(nums[left]!=target){
                left++;
            }
            if(nums[right]!=target){
                right--;
            }

            //å½“left>rightï¼Œæˆ–nums[left]==nums[right]!=targetæ—¶ç›´æ¥è¿”å›0ï¼›å½“nums[left]==nums[right]==targetæ—¶è¿”å›right-left+1
            if(left>right||((nums[left]==nums[right])&&(nums[right]!=target))){
                return 0;
            }else if((nums[left]==nums[right])&&(nums[right]==target)){
                return right-left+1;
            }
        }

    }
}
```

- æˆ‘ï¼š
  - æ•°ç»„é—®é¢˜ï¼Œå°å¿ƒè‡ªå®šä¹‰iæ—¶ï¼Œåœ¨ç‰¹æ®Šè¾¹ç•Œæ¡ä»¶ä¸‹ï¼Œiè¶…å‡ºè¾¹ç•Œ
  - å˜é‡è¦ä¸€è‡´ï¼Œæ¯”å¦‚leftä¸è¦å†™ç€å†™ç€å°±å†™æˆlã€‚
- ç½‘å‹ï¼šé¢è¯•å®˜å‡ºè¿™é¢˜çš„è¯è‚¯å®šæ˜¯æƒ³è®©ä½ å†™äºŒåˆ†çš„å•¦ å…¶ä»–æ²¡ç”¨
  - ç½‘å‹ï¼šæˆ‘ç¬¬ä¸€æƒ³æ³•ä¹Ÿæ˜¯äºŒåˆ†ï¼Œä½†æ˜¯æˆ‘å‘ç°é¢˜ç›®æ²¡ç»™æ•°ç»„é•¿åº¦ï¼Œæ±‚ä¸ªé•¿åº¦ä¸å°±å·²ç» O(n)äº†å—
    - ç½‘å‹åé©³ï¼š åƒjavaè¿™ç§è¯­è¨€ï¼Œæ•°ç»„çš„é•¿åº¦æ˜¯ç¼–è¯‘çš„æ—¶å€™å°±ç”Ÿæˆå¥½çš„ï¼Œä¸éœ€è¦å®æ—¶ç®—çš„ï¼›nums.lengthç›´æ¥æ˜¯æ•°ç»„é•¿åº¦ï¼Œè¿™æ˜¯æ•°ç»„æœ¬èº«çš„å±æ€§
- æœ¬é¢˜åŒæŒ‡é’ˆï¼Œä¸å¦‚å®˜æ–¹çš„2åˆ†æ•ˆç‡é«˜ã€‚

æ€§èƒ½ï¼š

![image-20220326170601282](lcof.assets/image-20220326170601282.png)

#### å®˜æ–¹-äºŒåˆ†æ³•

è§£é¢˜æ€è·¯ï¼š

æ’åºæ•°ç»„ä¸­çš„æœç´¢é—®é¢˜ï¼Œé¦–å…ˆæƒ³åˆ° **äºŒåˆ†æ³•** è§£å†³ã€‚

![image-20220326172735012](lcof.assets/image-20220326172735012.png)

ç®—æ³•è§£æï¼š

![image-20220326172816408](lcof.assets/image-20220326172816408.png)

æ•ˆç‡ä¼˜åŒ–ï¼š

![image-20220326172840370](lcof.assets/image-20220326172840370.png)

å¤æ‚åº¦åˆ†æï¼š

- æ—¶é—´å¤æ‚åº¦ O(log N)ï¼š äºŒåˆ†æ³•ä¸ºå¯¹æ•°çº§åˆ«å¤æ‚åº¦ã€‚
- ç©ºé—´å¤æ‚åº¦ O(1) ï¼š å‡ ä¸ªå˜é‡ä½¿ç”¨å¸¸æ•°å¤§å°çš„é¢å¤–ç©ºé—´ã€‚

ä»£ç ï¼š

```java
class Solution {
    public int search(int[] nums, int target) {
        // æœç´¢å³è¾¹ç•Œ right
        int i = 0, j = nums.length - 1;
        while(i <= j) {
            int m = (i + j) / 2;
            if(nums[m] <= target) i = m + 1;
            else j = m - 1;
        }
        int right = i;
        // è‹¥æ•°ç»„ä¸­æ—  target ï¼Œåˆ™æå‰è¿”å›
        if(j >= 0 && nums[j] != target) return 0;
        // æœç´¢å·¦è¾¹ç•Œ right
        i = 0; j = nums.length - 1;
        while(i <= j) {
            int m = (i + j) / 2;
            if(nums[m] < target) i = m + 1;
            else j = m - 1;
        }
        int left = j;
        return right - left - 1;
    }
}
```

- å¯å°† nums[m] = targetnums[m]=target æƒ…å†µåˆå¹¶è‡³å…¶ä»–ä¸¤ç§æƒ…å†µä¸­ã€‚



### [å‰‘æŒ‡ Offer 53 - II. 0ï½n-1ä¸­ç¼ºå¤±çš„æ•°å­—](https://leetcode-cn.com/problems/que-shi-de-shu-zi-lcof/)

#### é¦–æˆ˜å‘Šæ·

```java
class Solution {
    public int missingNumber(int[] nums) {
        /*
        å¯ä»¥äºŒåˆ†æŸ¥æ‰¾ï¼Œâ€œl-râ€ä¸ç­‰äºâ€œnums[l]-nums[r]â€çš„è¯ï¼Œåˆ™ç¡®å®çš„æ•°å­—åœ¨lrä¹‹é—´ã€‚
        ä½†æ˜¯çº¯åŒæŒ‡é’ˆä¼šè·³è¿‡ç›®æ ‡å€¼ï¼Œä½¿ç›®æ ‡å€¼ä¸å†lrä¹‹é—´ï¼›å› ä¸ºåŒæŒ‡é’ˆè§„åˆ™ä¸­â€œå¥½åƒâ€è¯´lå’Œråœ¨ä¿®æ”¹æ—¶ä¸èƒ½å’Œmé‡åˆï¼Œåªèƒ½è¶Šè¿‡ã€‚

        æˆ‘å…ˆç”¨onéå†çš„æ–¹æ³•åšäº†
        */

        //ç¼ºå¤±å€¼åœ¨[0,n-2]æ—¶
        for(int i=0;i<nums.length;i++){
            if(nums[i]!=i)
                return i;
        }
        //ç¼ºå¤±å€¼æ˜¯n-1æ—¶
        return nums.length;

    }
}
```

æ•ˆæœè¿˜è¡Œï¼š

![image-20220327154126719](lcof.assets/image-20220327154126719.png)



#### å®˜æ–¹-äºŒåˆ†æ³•

è§£é¢˜æ€è·¯ï¼š

![image-20220327155156544](lcof.assets/image-20220327155156544.png)

ç®—æ³•è§£æï¼š

![image-20220327155218162](lcof.assets/image-20220327155218162.png)

å¤æ‚åº¦åˆ†æï¼š

![image-20220327155245698](lcof.assets/image-20220327155245698.png)

ä»£ç ï¼š

```java
class Solution {
    public int missingNumber(int[] nums) {
        int i = 0, j = nums.length - 1;
        while(i <= j) {
            int m = (i + j) / 2;
            if(nums[m] == m) i = m + 1;
            else j = m - 1;
        }
        return i;
    }
}
```

- æˆ‘å’Œå®˜æ–¹å’Œé«˜èµç½‘å‹ï¼šâ€œ**æ’åºæ•°ç»„ä¸­çš„æœç´¢é—®é¢˜ï¼Œé¦–å…ˆæƒ³åˆ° äºŒåˆ†æ³• è§£å†³**ã€‚â€getä¸€é¡¹æ–°æŠ€èƒ½ã€‚

- æˆ‘ï¼šæœ¬é¢˜è§£çš„è§†é¢‘ä¸é”™ï¼Œå¾ˆæ¸…æ™°ï¼Œå¯ä»¥çœ‹çœ‹
- æˆ‘ï¼šå®˜æ–¹ç®—æ³•åœ¨l==rçš„æ—¶å€™ä¸é€€å‡ºï¼Œè®©å®ƒä¸¤å†ç§»åŠ¨ä¸€æ­¥ä»è€Œäº¤å‰å¤¹ä½ç›®æ ‡å€¼ï¼Œä¸é”™ï¼



## æŸ¥æ‰¾ç®—æ³•ï¼ˆä¸­ç­‰ï¼‰

### [å‰‘æŒ‡ Offer 04. äºŒç»´æ•°ç»„ä¸­çš„æŸ¥æ‰¾](https://leetcode-cn.com/problems/er-wei-shu-zu-zhong-de-cha-zhao-lcof/)

#### é¦–æˆ˜å¯„

#### å®˜æ–¹-äºŒå‰æœç´¢æ ‘æ³•

ç”±äºç»™å®šçš„äºŒç»´æ•°ç»„å…·å¤‡æ¯è¡Œä»å·¦åˆ°å³é€’å¢ä»¥åŠæ¯åˆ—ä»ä¸Šåˆ°ä¸‹é€’å¢çš„ç‰¹ç‚¹ï¼Œå½“è®¿é—®åˆ°ä¸€ä¸ªå…ƒç´ æ—¶ï¼Œå¯ä»¥æ’é™¤æ•°ç»„ä¸­çš„éƒ¨åˆ†å…ƒç´ ã€‚

ä»äºŒç»´æ•°ç»„çš„å³ä¸Šè§’å¼€å§‹æŸ¥æ‰¾ã€‚å¦‚æœå½“å‰å…ƒç´ ç­‰äºç›®æ ‡å€¼ï¼Œåˆ™è¿”å› trueã€‚å¦‚æœå½“å‰å…ƒç´ å¤§äºç›®æ ‡å€¼ï¼Œåˆ™ç§»åˆ°å·¦è¾¹ä¸€åˆ—ã€‚å¦‚æœå½“å‰å…ƒç´ å°äºç›®æ ‡å€¼ï¼Œåˆ™ç§»åˆ°ä¸‹è¾¹ä¸€è¡Œã€‚

å¯ä»¥è¯æ˜è¿™ç§æ–¹æ³•ä¸ä¼šé”™è¿‡ç›®æ ‡å€¼ã€‚å¦‚æœå½“å‰å…ƒç´ å¤§äºç›®æ ‡å€¼ï¼Œè¯´æ˜å½“å‰å…ƒç´ çš„ä¸‹è¾¹çš„æ‰€æœ‰å…ƒç´ éƒ½ä¸€å®šå¤§äºç›®æ ‡å€¼ï¼Œå› æ­¤å¾€ä¸‹æŸ¥æ‰¾ä¸å¯èƒ½æ‰¾åˆ°ç›®æ ‡å€¼ï¼Œå¾€å·¦æŸ¥æ‰¾å¯èƒ½æ‰¾åˆ°ç›®æ ‡å€¼ã€‚å¦‚æœå½“å‰å…ƒç´ å°äºç›®æ ‡å€¼ï¼Œè¯´æ˜å½“å‰å…ƒç´ çš„å·¦è¾¹çš„æ‰€æœ‰å…ƒç´ éƒ½ä¸€å®šå°äºç›®æ ‡å€¼ï¼Œå› æ­¤å¾€å·¦æŸ¥æ‰¾ä¸å¯èƒ½æ‰¾åˆ°ç›®æ ‡å€¼ï¼Œå¾€ä¸‹æŸ¥æ‰¾å¯èƒ½æ‰¾åˆ°ç›®æ ‡å€¼ã€‚

- è‹¥æ•°ç»„ä¸ºç©ºï¼Œè¿”å› false
- åˆå§‹åŒ–è¡Œä¸‹æ ‡ä¸º 0ï¼Œåˆ—ä¸‹æ ‡ä¸ºäºŒç»´æ•°ç»„çš„åˆ—æ•°å‡ 1
- é‡å¤ä¸‹åˆ—æ­¥éª¤ï¼Œç›´åˆ°è¡Œä¸‹æ ‡æˆ–åˆ—ä¸‹æ ‡è¶…å‡ºè¾¹ç•Œ
  - è·å¾—å½“å‰ä¸‹æ ‡ä½ç½®çš„å…ƒç´  num
  - å¦‚æœ num å’Œ target ç›¸ç­‰ï¼Œè¿”å› true
  - å¦‚æœ num å¤§äº targetï¼Œåˆ—ä¸‹æ ‡å‡ 1
  - å¦‚æœ num å°äº targetï¼Œè¡Œä¸‹æ ‡åŠ  1
- å¾ªç¯ä½“æ‰§è¡Œå®Œæ¯•ä»æœªæ‰¾åˆ°å…ƒç´ ç­‰äº target ï¼Œè¯´æ˜ä¸å­˜åœ¨è¿™æ ·çš„å…ƒç´ ï¼Œè¿”å› false`

ä»£ç ï¼š

```java

class Solution {
    public boolean findNumberIn2DArray(int[][] matrix, int target) {
        if (matrix == null || matrix.length == 0 || matrix[0].length == 0) {
            return false;
        }
        int rows = matrix.length, columns = matrix[0].length;
        int row = 0, column = columns - 1;
        while (row < rows && column >= 0) {
            int num = matrix[row][column];
            if (num == target) {
                return true;
            } else if (num > target) {
                column--;
            } else {
                row++;
            }
        }
        return false;
    }
}

```

å¤æ‚åº¦åˆ†æ:

- æ—¶é—´å¤æ‚åº¦ï¼šO(n+m)ã€‚è®¿é—®åˆ°çš„ä¸‹æ ‡çš„è¡Œæœ€å¤šå¢åŠ  n æ¬¡ï¼Œåˆ—æœ€å¤šå‡å°‘ m æ¬¡ï¼Œå› æ­¤å¾ªç¯ä½“æœ€å¤šæ‰§è¡Œ n + m æ¬¡ã€‚
- ç©ºé—´å¤æ‚åº¦ï¼šO(1)ã€‚



#### 20220327æˆåŠŸ

```java
class Solution {
    public boolean findNumberIn2DArray(int[][] matrix, int target) {

        //å¤„ç†ç©ºæ•°ç»„æƒ…å†µ
        if(matrix.length==0){
            return false;
        }

        //å¤„ç†éç©ºæ•°ç»„ï¼Œä»æ•°ç»„çš„å·¦ä¸‹è§’å¼€å§‹åšäºŒå‰æœç´¢æ ‘å¼æ¢ç´¢
        //åˆå§‹åŒ–è¡Œåˆ—åæ ‡ï¼›å…±nè¡Œmåˆ—
        int n=matrix.length-1,m=0,maxM=matrix[0].length-1;

        while(n>=0&&m<=maxM){
            if(matrix[n][m]<target){
                m++;
            }else if(matrix[n][m]>target){
                n--;
            }else{
                return true;
            }
        }

        return false;

    }
}
```



#### [å‰‘æŒ‡ Offer 11. æ—‹è½¬æ•°ç»„çš„æœ€å°æ•°å­—](https://leetcode-cn.com/problems/xuan-zhuan-shu-zu-de-zui-xiao-shu-zi-lcof/)

#### é¦–æˆ˜åŠå¯„

```java
class Solution {
    public int minArray(int[] numbers) {

        //é¢˜ç›®è¯´nä¸ä¸ºè´Ÿæ•°ï¼Œä½†æ˜¯numbers[n]å¯èƒ½æ˜¯è´Ÿæ•°ï¼›é‚£ä¹ˆè¿™ä¸ªlastå–0å°±ä¼šå¯¼è‡´å…ƒç´ ä¸€æ—¦æœ‰è´Ÿæ•°ï¼Œå°±æå‰é€€å‡ºforå¾ªç¯
        //int last=0;
        int last=Integer.MIN_VALUE;
        for(int i=0;i<numbers.length;i++){
            //ä¾¦æŸ¥åˆ°æ–­å´–å°±è¿”å›
            if(numbers[i]<last){
                return numbers[i];
            }
            last=numbers[i];
        }

        //æ²¡ä¾¦æŸ¥åˆ°æ–­å´–ï¼Œå¯èƒ½æ˜¯æ•°å­—å…¨ç›¸åŒï¼›æˆ–è€…ç»å†äº†næ¬¡æ—‹è½¬æˆäº†æ²¡æ—‹è½¬å‰çš„å‡åºçŠ¶æ€ï¼šè¿”å›ç¬¬ä¸€ä¸ªæ•°
        return numbers[0];
    }
}
```

- æ€è·¯æœ‰ï¼Œä½†æ˜¯æŠŠlastè®¾ç½®ä¸º0å¿½ç•¥äº†æ•°ç»„å…ƒç´ ä¸ºè´Ÿæ•°çš„æƒ…å†µï¼Œå¯¼è‡´ç¨‹åºä¸€ç¢°åˆ°è´Ÿæ•°å…ƒç´ å°±ä»¥ä¸ºç¢°åˆ°äº†æ–­å´–å°±é€€å‡ºå¾ªç¯å¹¶è¿”å›é”™è¯¯çš„å€¼äº†ï¼›æŠŠlaståˆå§‹å€¼æ¢æˆæœ€å°æ•´æ•°å°±è¿‡äº†ã€‚
- æˆ‘åæ€ï¼šæ—¢ç„¶éƒ½çº¿æ€§éå†äº†ï¼Œä¸å¦‚å¹²è„†ç”¨laterè®°å½•ç¢°åˆ°è¿‡çš„æœ€å°å€¼ï¼Œç”šè‡³éƒ½ä¸ç”¨æŸ¥çœ‹æ–­å´–ï¼›æˆ‘ç›¸å½“äºç›¸åŒçš„æ—¶é—´å¤æ‚åº¦èƒ½è§£å†³çš„é—®é¢˜ï¼Œç”¨æ›´å¤æ‚çš„æ–¹å¼è§£å†³äº†ï¼Œå‡åˆ†é¡¹ã€‚

#### å®˜æ–¹-äºŒåˆ†æŸ¥æ‰¾

è§£é¢˜æ€è·¯ï¼š

![image-20220327224636236](lcof.assets/image-20220327224636236.png)

ç®—æ³•æµç¨‹ï¼š

![image-20220327224718445](lcof.assets/image-20220327224718445.png)

æ­£ç¡®æ€§è¯æ˜ï¼š

![image-20220327224758158](lcof.assets/image-20220327224758158.png)

è¡¥å……æ€è€ƒï¼š ä¸ºä»€ä¹ˆæœ¬é¢˜äºŒåˆ†æ³•ä¸ç”¨ nums[m]*n**u**m**s*[*m*] å’Œ nums[i]*n**u**m**s*[*i*] ä½œæ¯”è¾ƒï¼Ÿ

![image-20220327224829837](lcof.assets/image-20220327224829837.png)

å¤æ‚åº¦åˆ†æï¼š

![image-20220327224853507](lcof.assets/image-20220327224853507.png)

ä»£ç ï¼š

```java
class Solution {
    public int minArray(int[] numbers) {
        int i = 0, j = numbers.length - 1;
        while (i < j) {
            int m = (i + j) / 2;
            if (numbers[m] > numbers[j]) i = m + 1;
            else if (numbers[m] < numbers[j]) j = m;
            else j--;
        }
        return numbers[i];
    }
}
```

- ç½‘å‹ï¼šä¸ºä»€ä¹ˆå®˜æ–¹çš„äºŒåˆ†æ³•çš„é¢˜è§£å¾ˆå¤šéƒ½æ˜¯å†™çš„`low + (high - low) / 2 `è€Œä¸æ˜¯ `(high + low) / 2`
  - ç½‘å‹ç­”ï¼šé˜²æ­¢æº¢å‡ºå§ã€‚
